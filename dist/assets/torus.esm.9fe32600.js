var lh=Object.defineProperty,ch=Object.defineProperties;var dh=Object.getOwnPropertyDescriptors;var Bs=Object.getOwnPropertySymbols;var ph=Object.prototype.hasOwnProperty,mh=Object.prototype.propertyIsEnumerable;var Rs=(t,e,i)=>e in t?lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,gi=(t,e)=>{for(var i in e||(e={}))ph.call(e,i)&&Rs(t,i,e[i]);if(Bs)for(var i of Bs(e))mh.call(e,i)&&Rs(t,i,e[i]);return t},eo=(t,e)=>ch(t,dh(e));import{_ as vh,y as ks,v as Pt,J as gh,z as zi,x as Is,K as yh,N as ue,O as Fr,P as Ae,Q as wh,T as yi,V as Or,X as hr,Y as ro,Z as Ns,$ as bh,a0 as Mh,a1 as _h,a2 as xh,a3 as Eh,a4 as Sh,a5 as io,a6 as no,a7 as Ah,a8 as Vi,a9 as oo,aa as Ls,ab as so,D as wi}from"./vendor.324ec03c.js";import{u as js,r as Gi,b as Oh,i as Th}from"./immutable.21bf563e.js";import{g as Ph,h as Zi,k as Ch,b as Ds,d as Fs,c as Bh,i as Rh,e as Us,j as Hs,s as Ji}from"./index.c1667228.js";import{b as ao,r as Qe}from"./___vite-browser-external_commonjs-proxy.95e42533.js";import{d as kh}from"./index.e5415507.js";import{e as Xi}from"./abstract-connector.esm.29d9a9d6.js";import{f as qs,s as Ih}from"./index.f40f696e.js";function Nh(t,e){if(t==null)return{};var i=vh(t,e),n,c;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(c=0;c<s.length;c++)n=s[c],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}function Ct(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Lh={ErrorResponse:function(t){var e=!!t&&!!t.error&&!!t.error.message?t.error.message:JSON.stringify(t),i=!!t.error&&!!t.error.data?t.error.data:null,n=new Error("Returned error: "+e);return n.data=i,n},InvalidNumberOfParams:function(t,e,i){return new Error('Invalid number of parameters for "'+i+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+t+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=!!t&&!!t.error&&!!t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},ConnectionNotOpenError:function(t){return this.ConnectionError("connection not open on send()",t)},ConnectionCloseError:function(t){return typeof t=="object"&&t.code&&t.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+t.code+"` and the following reason string `"+t.reason+"`",t):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(t,e){const i=new Error(t);return e&&(i.code=e.code,i.reason=e.reason),i},RevertInstructionError:function(t,e){var i=new Error("Your request got reverted with the following reason string: "+t);return i.reason=t,i.signature=e,i},TransactionRevertInstructionError:function(t,e,i){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(i,null,2));return n.reason=t,n.signature=e,n.receipt=i,n},TransactionError:function(t,e){var i=new Error(t);return i.receipt=e,i},NoContractAddressFoundError:function(t){return this.TransactionError("The transaction receipt didn't contain a contract address.",t)},ContractCodeNotStoredError:function(t){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",t)},TransactionRevertedWithoutReasonError:function(t){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(t,null,2),t)},TransactionOutOfGasError:function(t){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(t,null,2),t)},ResolverMethodMissingError:function(t,e){return new Error("The resolver at "+t+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(t){return new Error('Event "'+t+`" doesn't exist in this contract.`)},ContractReservedEventError:function(t){return new Error('The event "'+t+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},$s={exports:{}};(function(t){(function(e,i){function n(b,f){if(!b)throw new Error(f||"Assertion failed")}function c(b,f){b.super_=f;var m=function(){};m.prototype=f.prototype,b.prototype=new m,b.prototype.constructor=b}function s(b,f,m){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(b||0,f||10,m||"be"))}typeof e=="object"?e.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{y=ks("buffer").Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,m){return f.cmp(m)>0?f:m},s.min=function(f,m){return f.cmp(m)<0?f:m},s.prototype._init=function(f,m,h){if(typeof f=="number")return this._initNumber(f,m,h);if(typeof f=="object")return this._initArray(f,m,h);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),f=f.toString().replace(/\s+/g,"");var r=0;f[0]==="-"&&r++,m===16?this._parseHex(f,r):this._parseBase(f,m,r),f[0]==="-"&&(this.negative=1),this.strip(),h==="le"&&this._initArray(this.toArray(),m,h)},s.prototype._initNumber=function(f,m,h){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),m,h)},s.prototype._initArray=function(f,m,h){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a,d,v=0;if(h==="be")for(r=f.length-1,a=0;r>=0;r-=3)d=f[r]|f[r-1]<<8|f[r-2]<<16,this.words[a]|=d<<v&67108863,this.words[a+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,a++);else if(h==="le")for(r=0,a=0;r<f.length;r+=3)d=f[r]|f[r+1]<<8|f[r+2]<<16,this.words[a]|=d<<v&67108863,this.words[a+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,a++);return this.strip()};function _(b,f,m){for(var h=0,r=Math.min(b.length,m),a=f;a<r;a++){var d=b.charCodeAt(a)-48;h<<=4,d>=49&&d<=54?h|=d-49+10:d>=17&&d<=22?h|=d-17+10:h|=d&15}return h}s.prototype._parseHex=function(f,m){this.length=Math.ceil((f.length-m)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var r,a,d=0;for(h=f.length-6,r=0;h>=m;h-=6)a=_(f,h,h+6),this.words[r]|=a<<d&67108863,this.words[r+1]|=a>>>26-d&4194303,d+=24,d>=26&&(d-=26,r++);h+6!==m&&(a=_(f,m,h+6),this.words[r]|=a<<d&67108863,this.words[r+1]|=a>>>26-d&4194303),this.strip()};function M(b,f,m,h){for(var r=0,a=Math.min(b.length,m),d=f;d<a;d++){var v=b.charCodeAt(d)-48;r*=h,v>=49?r+=v-49+10:v>=17?r+=v-17+10:r+=v}return r}s.prototype._parseBase=function(f,m,h){this.words=[0],this.length=1;for(var r=0,a=1;a<=67108863;a*=m)r++;r--,a=a/m|0;for(var d=f.length-h,v=d%r,l=Math.min(d,d-v)+h,o=0,p=h;p<l;p+=r)o=M(f,p,p+r,m),this.imuln(a),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(v!==0){var g=1;for(o=M(f,p,f.length,m),p=0;p<v;p++)g*=m;this.imuln(g),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}},s.prototype.copy=function(f){f.words=new Array(this.length);for(var m=0;m<this.length;m++)f.words[m]=this.words[m];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,m){f=f||10,m=m|0||1;var h;if(f===16||f==="hex"){h="";for(var r=0,a=0,d=0;d<this.length;d++){var v=this.words[d],l=((v<<r|a)&16777215).toString(16);a=v>>>24-r&16777215,a!==0||d!==this.length-1?h=x[6-l.length]+l+h:h=l+h,r+=2,r>=26&&(r-=26,d--)}for(a!==0&&(h=a.toString(16)+h);h.length%m!=0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(f===(f|0)&&f>=2&&f<=36){var o=E[f],p=A[f];h="";var g=this.clone();for(g.negative=0;!g.isZero();){var u=g.modn(p).toString(f);g=g.idivn(p),g.isZero()?h=u+h:h=x[o-u.length]+u+h}for(this.isZero()&&(h="0"+h);h.length%m!=0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,m){return n(typeof y!="undefined"),this.toArrayLike(y,f,m)},s.prototype.toArray=function(f,m){return this.toArrayLike(Array,f,m)},s.prototype.toArrayLike=function(f,m,h){var r=this.byteLength(),a=h||Math.max(1,r);n(r<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var d=m==="le",v=new f(a),l,o,p=this.clone();if(d){for(o=0;!p.isZero();o++)l=p.andln(255),p.iushrn(8),v[o]=l;for(;o<a;o++)v[o]=0}else{for(o=0;o<a-r;o++)v[o]=0;for(o=0;!p.isZero();o++)l=p.andln(255),p.iushrn(8),v[a-o-1]=l}return v},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var m=f,h=0;return m>=4096&&(h+=13,m>>>=13),m>=64&&(h+=7,m>>>=7),m>=8&&(h+=4,m>>>=4),m>=2&&(h+=2,m>>>=2),h+m},s.prototype._zeroBits=function(f){if(f===0)return 26;var m=f,h=0;return(m&8191)==0&&(h+=13,m>>>=13),(m&127)==0&&(h+=7,m>>>=7),(m&15)==0&&(h+=4,m>>>=4),(m&3)==0&&(h+=2,m>>>=2),(m&1)==0&&h++,h},s.prototype.bitLength=function(){var f=this.words[this.length-1],m=this._countBits(f);return(this.length-1)*26+m};function S(b){for(var f=new Array(b.bitLength()),m=0;m<f.length;m++){var h=m/26|0,r=m%26;f[m]=(b.words[h]&1<<r)>>>r}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,m=0;m<this.length;m++){var h=this._zeroBits(this.words[m]);if(f+=h,h!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]|f.words[m];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)==0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var m;this.length>f.length?m=f:m=this;for(var h=0;h<m.length;h++)this.words[h]=this.words[h]&f.words[h];return this.length=m.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)==0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var m,h;this.length>f.length?(m=this,h=f):(m=f,h=this);for(var r=0;r<h.length;r++)this.words[r]=m.words[r]^h.words[r];if(this!==m)for(;r<m.length;r++)this.words[r]=m.words[r];return this.length=m.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)==0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var m=Math.ceil(f/26)|0,h=f%26;this._expand(m),h>0&&m--;for(var r=0;r<m;r++)this.words[r]=~this.words[r]&67108863;return h>0&&(this.words[r]=~this.words[r]&67108863>>26-h),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,m){n(typeof f=="number"&&f>=0);var h=f/26|0,r=f%26;return this._expand(h+1),m?this.words[h]=this.words[h]|1<<r:this.words[h]=this.words[h]&~(1<<r),this.strip()},s.prototype.iadd=function(f){var m;if(this.negative!==0&&f.negative===0)return this.negative=0,m=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,m=this.isub(f),f.negative=1,m._normSign();var h,r;this.length>f.length?(h=this,r=f):(h=f,r=this);for(var a=0,d=0;d<r.length;d++)m=(h.words[d]|0)+(r.words[d]|0)+a,this.words[d]=m&67108863,a=m>>>26;for(;a!==0&&d<h.length;d++)m=(h.words[d]|0)+a,this.words[d]=m&67108863,a=m>>>26;if(this.length=h.length,a!==0)this.words[this.length]=a,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},s.prototype.add=function(f){var m;return f.negative!==0&&this.negative===0?(f.negative=0,m=this.sub(f),f.negative^=1,m):f.negative===0&&this.negative!==0?(this.negative=0,m=f.sub(this),this.negative=1,m):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var m=this.iadd(f);return f.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var h=this.cmp(f);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var r,a;h>0?(r=this,a=f):(r=f,a=this);for(var d=0,v=0;v<a.length;v++)m=(r.words[v]|0)-(a.words[v]|0)+d,d=m>>26,this.words[v]=m&67108863;for(;d!==0&&v<r.length;v++)m=(r.words[v]|0)+d,d=m>>26,this.words[v]=m&67108863;if(d===0&&v<r.length&&r!==this)for(;v<r.length;v++)this.words[v]=r.words[v];return this.length=Math.max(this.length,v),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function k(b,f,m){m.negative=f.negative^b.negative;var h=b.length+f.length|0;m.length=h,h=h-1|0;var r=b.words[0]|0,a=f.words[0]|0,d=r*a,v=d&67108863,l=d/67108864|0;m.words[0]=v;for(var o=1;o<h;o++){for(var p=l>>>26,g=l&67108863,u=Math.min(o,f.length-1),w=Math.max(0,o-b.length+1);w<=u;w++){var P=o-w|0;r=b.words[P]|0,a=f.words[w]|0,d=r*a+g,p+=d/67108864|0,g=d&67108863}m.words[o]=g|0,l=p|0}return l!==0?m.words[o]=l|0:m.length--,m.strip()}var C=function(f,m,h){var r=f.words,a=m.words,d=h.words,v=0,l,o,p,g=r[0]|0,u=g&8191,w=g>>>13,P=r[1]|0,L=P&8191,U=P>>>13,Tt=r[2]|0,H=Tt&8191,V=Tt>>>13,Lt=r[3]|0,J=Lt&8191,X=Lt>>>13,Yt=r[4]|0,tt=Yt&8191,nt=Yt>>>13,le=r[5]|0,Z=le&8191,ot=le>>>13,Qt=r[6]|0,et=Qt&8191,G=Qt>>>13,jt=r[7]|0,Y=jt&8191,st=jt>>>13,Ne=r[8]|0,mt=Ne&8191,vt=Ne>>>13,Ee=r[9]|0,ut=Ee&8191,ht=Ee>>>13,Le=a[0]|0,lt=Le&8191,ct=Le>>>13,De=a[1]|0,gt=De&8191,rt=De>>>13,Se=a[2]|0,yt=Se&8191,dt=Se>>>13,Fe=a[3]|0,pt=Fe&8191,ft=Fe>>>13,Ue=a[4]|0,it=Ue&8191,wt=Ue>>>13,He=a[5]|0,bt=He&8191,Mt=He>>>13,qe=a[6]|0,Q=qe&8191,_t=qe>>>13,$e=a[7]|0,xt=$e&8191,Et=$e>>>13,Ke=a[8]|0,at=Ke&8191,St=Ke>>>13,We=a[9]|0,At=We&8191,Ot=We>>>13;h.negative=f.negative^m.negative,h.length=19,l=Math.imul(u,lt),o=Math.imul(u,ct),o=o+Math.imul(w,lt)|0,p=Math.imul(w,ct);var Ce=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,l=Math.imul(L,lt),o=Math.imul(L,ct),o=o+Math.imul(U,lt)|0,p=Math.imul(U,ct),l=l+Math.imul(u,gt)|0,o=o+Math.imul(u,rt)|0,o=o+Math.imul(w,gt)|0,p=p+Math.imul(w,rt)|0;var Rt=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,l=Math.imul(H,lt),o=Math.imul(H,ct),o=o+Math.imul(V,lt)|0,p=Math.imul(V,ct),l=l+Math.imul(L,gt)|0,o=o+Math.imul(L,rt)|0,o=o+Math.imul(U,gt)|0,p=p+Math.imul(U,rt)|0,l=l+Math.imul(u,yt)|0,o=o+Math.imul(u,dt)|0,o=o+Math.imul(w,yt)|0,p=p+Math.imul(w,dt)|0;var It=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(It>>>26)|0,It&=67108863,l=Math.imul(J,lt),o=Math.imul(J,ct),o=o+Math.imul(X,lt)|0,p=Math.imul(X,ct),l=l+Math.imul(H,gt)|0,o=o+Math.imul(H,rt)|0,o=o+Math.imul(V,gt)|0,p=p+Math.imul(V,rt)|0,l=l+Math.imul(L,yt)|0,o=o+Math.imul(L,dt)|0,o=o+Math.imul(U,yt)|0,p=p+Math.imul(U,dt)|0,l=l+Math.imul(u,pt)|0,o=o+Math.imul(u,ft)|0,o=o+Math.imul(w,pt)|0,p=p+Math.imul(w,ft)|0;var ce=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(tt,lt),o=Math.imul(tt,ct),o=o+Math.imul(nt,lt)|0,p=Math.imul(nt,ct),l=l+Math.imul(J,gt)|0,o=o+Math.imul(J,rt)|0,o=o+Math.imul(X,gt)|0,p=p+Math.imul(X,rt)|0,l=l+Math.imul(H,yt)|0,o=o+Math.imul(H,dt)|0,o=o+Math.imul(V,yt)|0,p=p+Math.imul(V,dt)|0,l=l+Math.imul(L,pt)|0,o=o+Math.imul(L,ft)|0,o=o+Math.imul(U,pt)|0,p=p+Math.imul(U,ft)|0,l=l+Math.imul(u,it)|0,o=o+Math.imul(u,wt)|0,o=o+Math.imul(w,it)|0,p=p+Math.imul(w,wt)|0;var de=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Z,lt),o=Math.imul(Z,ct),o=o+Math.imul(ot,lt)|0,p=Math.imul(ot,ct),l=l+Math.imul(tt,gt)|0,o=o+Math.imul(tt,rt)|0,o=o+Math.imul(nt,gt)|0,p=p+Math.imul(nt,rt)|0,l=l+Math.imul(J,yt)|0,o=o+Math.imul(J,dt)|0,o=o+Math.imul(X,yt)|0,p=p+Math.imul(X,dt)|0,l=l+Math.imul(H,pt)|0,o=o+Math.imul(H,ft)|0,o=o+Math.imul(V,pt)|0,p=p+Math.imul(V,ft)|0,l=l+Math.imul(L,it)|0,o=o+Math.imul(L,wt)|0,o=o+Math.imul(U,it)|0,p=p+Math.imul(U,wt)|0,l=l+Math.imul(u,bt)|0,o=o+Math.imul(u,Mt)|0,o=o+Math.imul(w,bt)|0,p=p+Math.imul(w,Mt)|0;var pe=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(et,lt),o=Math.imul(et,ct),o=o+Math.imul(G,lt)|0,p=Math.imul(G,ct),l=l+Math.imul(Z,gt)|0,o=o+Math.imul(Z,rt)|0,o=o+Math.imul(ot,gt)|0,p=p+Math.imul(ot,rt)|0,l=l+Math.imul(tt,yt)|0,o=o+Math.imul(tt,dt)|0,o=o+Math.imul(nt,yt)|0,p=p+Math.imul(nt,dt)|0,l=l+Math.imul(J,pt)|0,o=o+Math.imul(J,ft)|0,o=o+Math.imul(X,pt)|0,p=p+Math.imul(X,ft)|0,l=l+Math.imul(H,it)|0,o=o+Math.imul(H,wt)|0,o=o+Math.imul(V,it)|0,p=p+Math.imul(V,wt)|0,l=l+Math.imul(L,bt)|0,o=o+Math.imul(L,Mt)|0,o=o+Math.imul(U,bt)|0,p=p+Math.imul(U,Mt)|0,l=l+Math.imul(u,Q)|0,o=o+Math.imul(u,_t)|0,o=o+Math.imul(w,Q)|0,p=p+Math.imul(w,_t)|0;var me=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(Y,lt),o=Math.imul(Y,ct),o=o+Math.imul(st,lt)|0,p=Math.imul(st,ct),l=l+Math.imul(et,gt)|0,o=o+Math.imul(et,rt)|0,o=o+Math.imul(G,gt)|0,p=p+Math.imul(G,rt)|0,l=l+Math.imul(Z,yt)|0,o=o+Math.imul(Z,dt)|0,o=o+Math.imul(ot,yt)|0,p=p+Math.imul(ot,dt)|0,l=l+Math.imul(tt,pt)|0,o=o+Math.imul(tt,ft)|0,o=o+Math.imul(nt,pt)|0,p=p+Math.imul(nt,ft)|0,l=l+Math.imul(J,it)|0,o=o+Math.imul(J,wt)|0,o=o+Math.imul(X,it)|0,p=p+Math.imul(X,wt)|0,l=l+Math.imul(H,bt)|0,o=o+Math.imul(H,Mt)|0,o=o+Math.imul(V,bt)|0,p=p+Math.imul(V,Mt)|0,l=l+Math.imul(L,Q)|0,o=o+Math.imul(L,_t)|0,o=o+Math.imul(U,Q)|0,p=p+Math.imul(U,_t)|0,l=l+Math.imul(u,xt)|0,o=o+Math.imul(u,Et)|0,o=o+Math.imul(w,xt)|0,p=p+Math.imul(w,Et)|0;var ve=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,l=Math.imul(mt,lt),o=Math.imul(mt,ct),o=o+Math.imul(vt,lt)|0,p=Math.imul(vt,ct),l=l+Math.imul(Y,gt)|0,o=o+Math.imul(Y,rt)|0,o=o+Math.imul(st,gt)|0,p=p+Math.imul(st,rt)|0,l=l+Math.imul(et,yt)|0,o=o+Math.imul(et,dt)|0,o=o+Math.imul(G,yt)|0,p=p+Math.imul(G,dt)|0,l=l+Math.imul(Z,pt)|0,o=o+Math.imul(Z,ft)|0,o=o+Math.imul(ot,pt)|0,p=p+Math.imul(ot,ft)|0,l=l+Math.imul(tt,it)|0,o=o+Math.imul(tt,wt)|0,o=o+Math.imul(nt,it)|0,p=p+Math.imul(nt,wt)|0,l=l+Math.imul(J,bt)|0,o=o+Math.imul(J,Mt)|0,o=o+Math.imul(X,bt)|0,p=p+Math.imul(X,Mt)|0,l=l+Math.imul(H,Q)|0,o=o+Math.imul(H,_t)|0,o=o+Math.imul(V,Q)|0,p=p+Math.imul(V,_t)|0,l=l+Math.imul(L,xt)|0,o=o+Math.imul(L,Et)|0,o=o+Math.imul(U,xt)|0,p=p+Math.imul(U,Et)|0,l=l+Math.imul(u,at)|0,o=o+Math.imul(u,St)|0,o=o+Math.imul(w,at)|0,p=p+Math.imul(w,St)|0;var ne=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(ut,lt),o=Math.imul(ut,ct),o=o+Math.imul(ht,lt)|0,p=Math.imul(ht,ct),l=l+Math.imul(mt,gt)|0,o=o+Math.imul(mt,rt)|0,o=o+Math.imul(vt,gt)|0,p=p+Math.imul(vt,rt)|0,l=l+Math.imul(Y,yt)|0,o=o+Math.imul(Y,dt)|0,o=o+Math.imul(st,yt)|0,p=p+Math.imul(st,dt)|0,l=l+Math.imul(et,pt)|0,o=o+Math.imul(et,ft)|0,o=o+Math.imul(G,pt)|0,p=p+Math.imul(G,ft)|0,l=l+Math.imul(Z,it)|0,o=o+Math.imul(Z,wt)|0,o=o+Math.imul(ot,it)|0,p=p+Math.imul(ot,wt)|0,l=l+Math.imul(tt,bt)|0,o=o+Math.imul(tt,Mt)|0,o=o+Math.imul(nt,bt)|0,p=p+Math.imul(nt,Mt)|0,l=l+Math.imul(J,Q)|0,o=o+Math.imul(J,_t)|0,o=o+Math.imul(X,Q)|0,p=p+Math.imul(X,_t)|0,l=l+Math.imul(H,xt)|0,o=o+Math.imul(H,Et)|0,o=o+Math.imul(V,xt)|0,p=p+Math.imul(V,Et)|0,l=l+Math.imul(L,at)|0,o=o+Math.imul(L,St)|0,o=o+Math.imul(U,at)|0,p=p+Math.imul(U,St)|0,l=l+Math.imul(u,At)|0,o=o+Math.imul(u,Ot)|0,o=o+Math.imul(w,At)|0,p=p+Math.imul(w,Ot)|0;var ge=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,l=Math.imul(ut,gt),o=Math.imul(ut,rt),o=o+Math.imul(ht,gt)|0,p=Math.imul(ht,rt),l=l+Math.imul(mt,yt)|0,o=o+Math.imul(mt,dt)|0,o=o+Math.imul(vt,yt)|0,p=p+Math.imul(vt,dt)|0,l=l+Math.imul(Y,pt)|0,o=o+Math.imul(Y,ft)|0,o=o+Math.imul(st,pt)|0,p=p+Math.imul(st,ft)|0,l=l+Math.imul(et,it)|0,o=o+Math.imul(et,wt)|0,o=o+Math.imul(G,it)|0,p=p+Math.imul(G,wt)|0,l=l+Math.imul(Z,bt)|0,o=o+Math.imul(Z,Mt)|0,o=o+Math.imul(ot,bt)|0,p=p+Math.imul(ot,Mt)|0,l=l+Math.imul(tt,Q)|0,o=o+Math.imul(tt,_t)|0,o=o+Math.imul(nt,Q)|0,p=p+Math.imul(nt,_t)|0,l=l+Math.imul(J,xt)|0,o=o+Math.imul(J,Et)|0,o=o+Math.imul(X,xt)|0,p=p+Math.imul(X,Et)|0,l=l+Math.imul(H,at)|0,o=o+Math.imul(H,St)|0,o=o+Math.imul(V,at)|0,p=p+Math.imul(V,St)|0,l=l+Math.imul(L,At)|0,o=o+Math.imul(L,Ot)|0,o=o+Math.imul(U,At)|0,p=p+Math.imul(U,Ot)|0;var te=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(te>>>26)|0,te&=67108863,l=Math.imul(ut,yt),o=Math.imul(ut,dt),o=o+Math.imul(ht,yt)|0,p=Math.imul(ht,dt),l=l+Math.imul(mt,pt)|0,o=o+Math.imul(mt,ft)|0,o=o+Math.imul(vt,pt)|0,p=p+Math.imul(vt,ft)|0,l=l+Math.imul(Y,it)|0,o=o+Math.imul(Y,wt)|0,o=o+Math.imul(st,it)|0,p=p+Math.imul(st,wt)|0,l=l+Math.imul(et,bt)|0,o=o+Math.imul(et,Mt)|0,o=o+Math.imul(G,bt)|0,p=p+Math.imul(G,Mt)|0,l=l+Math.imul(Z,Q)|0,o=o+Math.imul(Z,_t)|0,o=o+Math.imul(ot,Q)|0,p=p+Math.imul(ot,_t)|0,l=l+Math.imul(tt,xt)|0,o=o+Math.imul(tt,Et)|0,o=o+Math.imul(nt,xt)|0,p=p+Math.imul(nt,Et)|0,l=l+Math.imul(J,at)|0,o=o+Math.imul(J,St)|0,o=o+Math.imul(X,at)|0,p=p+Math.imul(X,St)|0,l=l+Math.imul(H,At)|0,o=o+Math.imul(H,Ot)|0,o=o+Math.imul(V,At)|0,p=p+Math.imul(V,Ot)|0;var oe=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(ut,pt),o=Math.imul(ut,ft),o=o+Math.imul(ht,pt)|0,p=Math.imul(ht,ft),l=l+Math.imul(mt,it)|0,o=o+Math.imul(mt,wt)|0,o=o+Math.imul(vt,it)|0,p=p+Math.imul(vt,wt)|0,l=l+Math.imul(Y,bt)|0,o=o+Math.imul(Y,Mt)|0,o=o+Math.imul(st,bt)|0,p=p+Math.imul(st,Mt)|0,l=l+Math.imul(et,Q)|0,o=o+Math.imul(et,_t)|0,o=o+Math.imul(G,Q)|0,p=p+Math.imul(G,_t)|0,l=l+Math.imul(Z,xt)|0,o=o+Math.imul(Z,Et)|0,o=o+Math.imul(ot,xt)|0,p=p+Math.imul(ot,Et)|0,l=l+Math.imul(tt,at)|0,o=o+Math.imul(tt,St)|0,o=o+Math.imul(nt,at)|0,p=p+Math.imul(nt,St)|0,l=l+Math.imul(J,At)|0,o=o+Math.imul(J,Ot)|0,o=o+Math.imul(X,At)|0,p=p+Math.imul(X,Ot)|0;var ye=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,l=Math.imul(ut,it),o=Math.imul(ut,wt),o=o+Math.imul(ht,it)|0,p=Math.imul(ht,wt),l=l+Math.imul(mt,bt)|0,o=o+Math.imul(mt,Mt)|0,o=o+Math.imul(vt,bt)|0,p=p+Math.imul(vt,Mt)|0,l=l+Math.imul(Y,Q)|0,o=o+Math.imul(Y,_t)|0,o=o+Math.imul(st,Q)|0,p=p+Math.imul(st,_t)|0,l=l+Math.imul(et,xt)|0,o=o+Math.imul(et,Et)|0,o=o+Math.imul(G,xt)|0,p=p+Math.imul(G,Et)|0,l=l+Math.imul(Z,at)|0,o=o+Math.imul(Z,St)|0,o=o+Math.imul(ot,at)|0,p=p+Math.imul(ot,St)|0,l=l+Math.imul(tt,At)|0,o=o+Math.imul(tt,Ot)|0,o=o+Math.imul(nt,At)|0,p=p+Math.imul(nt,Ot)|0;var ee=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul(ut,bt),o=Math.imul(ut,Mt),o=o+Math.imul(ht,bt)|0,p=Math.imul(ht,Mt),l=l+Math.imul(mt,Q)|0,o=o+Math.imul(mt,_t)|0,o=o+Math.imul(vt,Q)|0,p=p+Math.imul(vt,_t)|0,l=l+Math.imul(Y,xt)|0,o=o+Math.imul(Y,Et)|0,o=o+Math.imul(st,xt)|0,p=p+Math.imul(st,Et)|0,l=l+Math.imul(et,at)|0,o=o+Math.imul(et,St)|0,o=o+Math.imul(G,at)|0,p=p+Math.imul(G,St)|0,l=l+Math.imul(Z,At)|0,o=o+Math.imul(Z,Ot)|0,o=o+Math.imul(ot,At)|0,p=p+Math.imul(ot,Ot)|0;var ae=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(ut,Q),o=Math.imul(ut,_t),o=o+Math.imul(ht,Q)|0,p=Math.imul(ht,_t),l=l+Math.imul(mt,xt)|0,o=o+Math.imul(mt,Et)|0,o=o+Math.imul(vt,xt)|0,p=p+Math.imul(vt,Et)|0,l=l+Math.imul(Y,at)|0,o=o+Math.imul(Y,St)|0,o=o+Math.imul(st,at)|0,p=p+Math.imul(st,St)|0,l=l+Math.imul(et,At)|0,o=o+Math.imul(et,Ot)|0,o=o+Math.imul(G,At)|0,p=p+Math.imul(G,Ot)|0;var we=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(we>>>26)|0,we&=67108863,l=Math.imul(ut,xt),o=Math.imul(ut,Et),o=o+Math.imul(ht,xt)|0,p=Math.imul(ht,Et),l=l+Math.imul(mt,at)|0,o=o+Math.imul(mt,St)|0,o=o+Math.imul(vt,at)|0,p=p+Math.imul(vt,St)|0,l=l+Math.imul(Y,At)|0,o=o+Math.imul(Y,Ot)|0,o=o+Math.imul(st,At)|0,p=p+Math.imul(st,Ot)|0;var be=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(be>>>26)|0,be&=67108863,l=Math.imul(ut,at),o=Math.imul(ut,St),o=o+Math.imul(ht,at)|0,p=Math.imul(ht,St),l=l+Math.imul(mt,At)|0,o=o+Math.imul(mt,Ot)|0,o=o+Math.imul(vt,At)|0,p=p+Math.imul(vt,Ot)|0;var Me=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,l=Math.imul(ut,At),o=Math.imul(ut,Ot),o=o+Math.imul(ht,At)|0,p=Math.imul(ht,Ot);var fe=(v+l|0)+((o&8191)<<13)|0;return v=(p+(o>>>13)|0)+(fe>>>26)|0,fe&=67108863,d[0]=Ce,d[1]=Rt,d[2]=It,d[3]=ce,d[4]=de,d[5]=pe,d[6]=me,d[7]=ve,d[8]=ne,d[9]=ge,d[10]=te,d[11]=oe,d[12]=ye,d[13]=ee,d[14]=ae,d[15]=we,d[16]=be,d[17]=Me,d[18]=fe,v!==0&&(d[19]=v,h.length++),h};Math.imul||(C=k);function R(b,f,m){m.negative=f.negative^b.negative,m.length=b.length+f.length;for(var h=0,r=0,a=0;a<m.length-1;a++){var d=r;r=0;for(var v=h&67108863,l=Math.min(a,f.length-1),o=Math.max(0,a-b.length+1);o<=l;o++){var p=a-o,g=b.words[p]|0,u=f.words[o]|0,w=g*u,P=w&67108863;d=d+(w/67108864|0)|0,P=P+v|0,v=P&67108863,d=d+(P>>>26)|0,r+=d>>>26,d&=67108863}m.words[a]=v,h=d,d=r}return h!==0?m.words[a]=h:m.length--,m.strip()}function B(b,f,m){var h=new I;return h.mulp(b,f,m)}s.prototype.mulTo=function(f,m){var h,r=this.length+f.length;return this.length===10&&f.length===10?h=C(this,f,m):r<63?h=k(this,f,m):r<1024?h=R(this,f,m):h=B(this,f,m),h};function I(b,f){this.x=b,this.y=f}I.prototype.makeRBT=function(f){for(var m=new Array(f),h=s.prototype._countBits(f)-1,r=0;r<f;r++)m[r]=this.revBin(r,h,f);return m},I.prototype.revBin=function(f,m,h){if(f===0||f===h-1)return f;for(var r=0,a=0;a<m;a++)r|=(f&1)<<m-a-1,f>>=1;return r},I.prototype.permute=function(f,m,h,r,a,d){for(var v=0;v<d;v++)r[v]=m[f[v]],a[v]=h[f[v]]},I.prototype.transform=function(f,m,h,r,a,d){this.permute(d,f,m,h,r,a);for(var v=1;v<a;v<<=1)for(var l=v<<1,o=Math.cos(2*Math.PI/l),p=Math.sin(2*Math.PI/l),g=0;g<a;g+=l)for(var u=o,w=p,P=0;P<v;P++){var L=h[g+P],U=r[g+P],Tt=h[g+P+v],H=r[g+P+v],V=u*Tt-w*H;H=u*H+w*Tt,Tt=V,h[g+P]=L+Tt,r[g+P]=U+H,h[g+P+v]=L-Tt,r[g+P+v]=U-H,P!==l&&(V=o*u-p*w,w=o*w+p*u,u=V)}},I.prototype.guessLen13b=function(f,m){var h=Math.max(m,f)|1,r=h&1,a=0;for(h=h/2|0;h;h=h>>>1)a++;return 1<<a+1+r},I.prototype.conjugate=function(f,m,h){if(!(h<=1))for(var r=0;r<h/2;r++){var a=f[r];f[r]=f[h-r-1],f[h-r-1]=a,a=m[r],m[r]=-m[h-r-1],m[h-r-1]=-a}},I.prototype.normalize13b=function(f,m){for(var h=0,r=0;r<m/2;r++){var a=Math.round(f[2*r+1]/m)*8192+Math.round(f[2*r]/m)+h;f[r]=a&67108863,a<67108864?h=0:h=a/67108864|0}return f},I.prototype.convert13b=function(f,m,h,r){for(var a=0,d=0;d<m;d++)a=a+(f[d]|0),h[2*d]=a&8191,a=a>>>13,h[2*d+1]=a&8191,a=a>>>13;for(d=2*m;d<r;++d)h[d]=0;n(a===0),n((a&~8191)==0)},I.prototype.stub=function(f){for(var m=new Array(f),h=0;h<f;h++)m[h]=0;return m},I.prototype.mulp=function(f,m,h){var r=2*this.guessLen13b(f.length,m.length),a=this.makeRBT(r),d=this.stub(r),v=new Array(r),l=new Array(r),o=new Array(r),p=new Array(r),g=new Array(r),u=new Array(r),w=h.words;w.length=r,this.convert13b(f.words,f.length,v,r),this.convert13b(m.words,m.length,p,r),this.transform(v,d,l,o,r,a),this.transform(p,d,g,u,r,a);for(var P=0;P<r;P++){var L=l[P]*g[P]-o[P]*u[P];o[P]=l[P]*u[P]+o[P]*g[P],l[P]=L}return this.conjugate(l,o,r),this.transform(l,o,w,d,r,a),this.conjugate(w,d,r),this.normalize13b(w,r),h.negative=f.negative^m.negative,h.length=f.length+m.length,h.strip()},s.prototype.mul=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),this.mulTo(f,m)},s.prototype.mulf=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),B(this,f,m)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var m=0,h=0;h<this.length;h++){var r=(this.words[h]|0)*f,a=(r&67108863)+(m&67108863);m>>=26,m+=r/67108864|0,m+=a>>>26,this.words[h]=a&67108863}return m!==0&&(this.words[h]=m,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var m=S(f);if(m.length===0)return new s(1);for(var h=this,r=0;r<m.length&&m[r]===0;r++,h=h.sqr());if(++r<m.length)for(var a=h.sqr();r<m.length;r++,a=a.sqr())m[r]!==0&&(h=h.mul(a));return h},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26,r=67108863>>>26-m<<26-m,a;if(m!==0){var d=0;for(a=0;a<this.length;a++){var v=this.words[a]&r,l=(this.words[a]|0)-v<<m;this.words[a]=l|d,d=v>>>26-m}d&&(this.words[a]=d,this.length++)}if(h!==0){for(a=this.length-1;a>=0;a--)this.words[a+h]=this.words[a];for(a=0;a<h;a++)this.words[a]=0;this.length+=h}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,m,h){n(typeof f=="number"&&f>=0);var r;m?r=(m-m%26)/26:r=0;var a=f%26,d=Math.min((f-a)/26,this.length),v=67108863^67108863>>>a<<a,l=h;if(r-=d,r=Math.max(0,r),l){for(var o=0;o<d;o++)l.words[o]=this.words[o];l.length=d}if(d!==0)if(this.length>d)for(this.length-=d,o=0;o<this.length;o++)this.words[o]=this.words[o+d];else this.words[0]=0,this.length=1;var p=0;for(o=this.length-1;o>=0&&(p!==0||o>=r);o--){var g=this.words[o]|0;this.words[o]=p<<26-a|g>>>a,p=g&v}return l&&p!==0&&(l.words[l.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,m,h){return n(this.negative===0),this.iushrn(f,m,h)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26,r=1<<m;if(this.length<=h)return!1;var a=this.words[h];return!!(a&r)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(m!==0&&h++,this.length=Math.min(h,this.length),m!==0){var r=67108863^67108863>>>m<<m;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,m,h){var r=f.length+h,a;this._expand(r);var d,v=0;for(a=0;a<f.length;a++){d=(this.words[a+h]|0)+v;var l=(f.words[a]|0)*m;d-=l&67108863,v=(d>>26)-(l/67108864|0),this.words[a+h]=d&67108863}for(;a<this.length-h;a++)d=(this.words[a+h]|0)+v,v=d>>26,this.words[a+h]=d&67108863;if(v===0)return this.strip();for(n(v===-1),v=0,a=0;a<this.length;a++)d=-(this.words[a]|0)+v,v=d>>26,this.words[a]=d&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,m){var h=this.length-f.length,r=this.clone(),a=f,d=a.words[a.length-1]|0,v=this._countBits(d);h=26-v,h!==0&&(a=a.ushln(h),r.iushln(h),d=a.words[a.length-1]|0);var l=r.length-a.length,o;if(m!=="mod"){o=new s(null),o.length=l+1,o.words=new Array(o.length);for(var p=0;p<o.length;p++)o.words[p]=0}var g=r.clone()._ishlnsubmul(a,1,l);g.negative===0&&(r=g,o&&(o.words[l]=1));for(var u=l-1;u>=0;u--){var w=(r.words[a.length+u]|0)*67108864+(r.words[a.length+u-1]|0);for(w=Math.min(w/d|0,67108863),r._ishlnsubmul(a,w,u);r.negative!==0;)w--,r.negative=0,r._ishlnsubmul(a,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=w)}return o&&o.strip(),r.strip(),m!=="div"&&h!==0&&r.iushrn(h),{div:o||null,mod:r}},s.prototype.divmod=function(f,m,h){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var r,a,d;return this.negative!==0&&f.negative===0?(d=this.neg().divmod(f,m),m!=="mod"&&(r=d.div.neg()),m!=="div"&&(a=d.mod.neg(),h&&a.negative!==0&&a.iadd(f)),{div:r,mod:a}):this.negative===0&&f.negative!==0?(d=this.divmod(f.neg(),m),m!=="mod"&&(r=d.div.neg()),{div:r,mod:d.mod}):(this.negative&f.negative)!=0?(d=this.neg().divmod(f.neg(),m),m!=="div"&&(a=d.mod.neg(),h&&a.negative!==0&&a.isub(f)),{div:d.div,mod:a}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?m==="div"?{div:this.divn(f.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,m)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var m=this.divmod(f);if(m.mod.isZero())return m.div;var h=m.div.negative!==0?m.mod.isub(f):m.mod,r=f.ushrn(1),a=f.andln(1),d=h.cmp(r);return d<0||a===1&&d===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var m=(1<<26)%f,h=0,r=this.length-1;r>=0;r--)h=(m*h+(this.words[r]|0))%f;return h},s.prototype.idivn=function(f){n(f<=67108863);for(var m=0,h=this.length-1;h>=0;h--){var r=(this.words[h]|0)+m*67108864;this.words[h]=r/f|0,m=r%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var m=this,h=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var r=new s(1),a=new s(0),d=new s(0),v=new s(1),l=0;m.isEven()&&h.isEven();)m.iushrn(1),h.iushrn(1),++l;for(var o=h.clone(),p=m.clone();!m.isZero();){for(var g=0,u=1;(m.words[0]&u)==0&&g<26;++g,u<<=1);if(g>0)for(m.iushrn(g);g-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(o),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var w=0,P=1;(h.words[0]&P)==0&&w<26;++w,P<<=1);if(w>0)for(h.iushrn(w);w-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(o),v.isub(p)),d.iushrn(1),v.iushrn(1);m.cmp(h)>=0?(m.isub(h),r.isub(d),a.isub(v)):(h.isub(m),d.isub(r),v.isub(a))}return{a:d,b:v,gcd:h.iushln(l)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var m=this,h=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var r=new s(1),a=new s(0),d=h.clone();m.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,l=1;(m.words[0]&l)==0&&v<26;++v,l<<=1);if(v>0)for(m.iushrn(v);v-- >0;)r.isOdd()&&r.iadd(d),r.iushrn(1);for(var o=0,p=1;(h.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(h.iushrn(o);o-- >0;)a.isOdd()&&a.iadd(d),a.iushrn(1);m.cmp(h)>=0?(m.isub(h),r.isub(a)):(h.isub(m),a.isub(r))}var g;return m.cmpn(1)===0?g=r:g=a,g.cmpn(0)<0&&g.iadd(f),g},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var m=this.clone(),h=f.clone();m.negative=0,h.negative=0;for(var r=0;m.isEven()&&h.isEven();r++)m.iushrn(1),h.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;h.isEven();)h.iushrn(1);var a=m.cmp(h);if(a<0){var d=m;m=h,h=d}else if(a===0||h.cmpn(1)===0)break;m.isub(h)}while(!0);return h.iushln(r)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var m=f%26,h=(f-m)/26,r=1<<m;if(this.length<=h)return this._expand(h+1),this.words[h]|=r,this;for(var a=r,d=h;a!==0&&d<this.length;d++){var v=this.words[d]|0;v+=a,a=v>>>26,v&=67108863,this.words[d]=v}return a!==0&&(this.words[d]=a,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var m=f<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var h;if(this.length>1)h=1;else{m&&(f=-f),n(f<=67108863,"Number is too big");var r=this.words[0]|0;h=r===f?0:r<f?-1:1}return this.negative!==0?-h|0:h},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var m=this.ucmp(f);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var m=0,h=this.length-1;h>=0;h--){var r=this.words[h]|0,a=f.words[h]|0;if(r!==a){r<a?m=-1:r>a&&(m=1);break}}return m},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new N(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var j={k256:null,p224:null,p192:null,p25519:null};function D(b,f){this.name=b,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},D.prototype.ireduce=function(f){var m=f,h;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),h=m.bitLength();while(h>this.n);var r=h<this.n?-1:m.ucmp(this.p);return r===0?(m.words[0]=0,m.length=1):r>0?m.isub(this.p):m.strip(),m},D.prototype.split=function(f,m){f.iushrn(this.n,0,m)},D.prototype.imulK=function(f){return f.imul(this.k)};function $(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c($,D),$.prototype.split=function(f,m){for(var h=4194303,r=Math.min(f.length,9),a=0;a<r;a++)m.words[a]=f.words[a];if(m.length=r,f.length<=9){f.words[0]=0,f.length=1;return}var d=f.words[9];for(m.words[m.length++]=d&h,a=10;a<f.length;a++){var v=f.words[a]|0;f.words[a-10]=(v&h)<<4|d>>>22,d=v}d>>>=22,f.words[a-10]=d,d===0&&f.length>10?f.length-=10:f.length-=9},$.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var m=0,h=0;h<f.length;h++){var r=f.words[h]|0;m+=r*977,f.words[h]=m&67108863,m=r*64+(m/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(z,D);function K(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(K,D);function O(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(O,D),O.prototype.imulK=function(f){for(var m=0,h=0;h<f.length;h++){var r=(f.words[h]|0)*19+m,a=r&67108863;r>>>=26,f.words[h]=a,m=r}return m!==0&&(f.words[f.length++]=m),f},s._prime=function(f){if(j[f])return j[f];var m;if(f==="k256")m=new $;else if(f==="p224")m=new z;else if(f==="p192")m=new K;else if(f==="p25519")m=new O;else throw new Error("Unknown prime "+f);return j[f]=m,m};function N(b){if(typeof b=="string"){var f=s._prime(b);this.m=f.p,this.prime=f}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},N.prototype._verify2=function(f,m){n((f.negative|m.negative)==0,"red works only with positives"),n(f.red&&f.red===m.red,"red works only with red numbers")},N.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},N.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},N.prototype.add=function(f,m){this._verify2(f,m);var h=f.add(m);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(f,m){this._verify2(f,m);var h=f.iadd(m);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(f,m){this._verify2(f,m);var h=f.sub(m);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(f,m){this._verify2(f,m);var h=f.isub(m);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(f,m){return this._verify1(f),this.imod(f.ushln(m))},N.prototype.imul=function(f,m){return this._verify2(f,m),this.imod(f.imul(m))},N.prototype.mul=function(f,m){return this._verify2(f,m),this.imod(f.mul(m))},N.prototype.isqr=function(f){return this.imul(f,f.clone())},N.prototype.sqr=function(f){return this.mul(f,f)},N.prototype.sqrt=function(f){if(f.isZero())return f.clone();var m=this.m.andln(3);if(n(m%2==1),m===3){var h=this.m.add(new s(1)).iushrn(2);return this.pow(f,h)}for(var r=this.m.subn(1),a=0;!r.isZero()&&r.andln(1)===0;)a++,r.iushrn(1);n(!r.isZero());var d=new s(1).toRed(this),v=d.redNeg(),l=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new s(2*o*o).toRed(this);this.pow(o,l).cmp(v)!==0;)o.redIAdd(v);for(var p=this.pow(o,r),g=this.pow(f,r.addn(1).iushrn(1)),u=this.pow(f,r),w=a;u.cmp(d)!==0;){for(var P=u,L=0;P.cmp(d)!==0;L++)P=P.redSqr();n(L<w);var U=this.pow(p,new s(1).iushln(w-L-1));g=g.redMul(U),p=U.redSqr(),u=u.redMul(p),w=L}return g},N.prototype.invm=function(f){var m=f._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},N.prototype.pow=function(f,m){if(m.isZero())return new s(1);if(m.cmpn(1)===0)return f.clone();var h=4,r=new Array(1<<h);r[0]=new s(1).toRed(this),r[1]=f;for(var a=2;a<r.length;a++)r[a]=this.mul(r[a-1],f);var d=r[0],v=0,l=0,o=m.bitLength()%26;for(o===0&&(o=26),a=m.length-1;a>=0;a--){for(var p=m.words[a],g=o-1;g>=0;g--){var u=p>>g&1;if(d!==r[0]&&(d=this.sqr(d)),u===0&&v===0){l=0;continue}v<<=1,v|=u,l++,!(l!==h&&(a!==0||g!==0))&&(d=this.mul(d,r[v]),l=0,v=0)}o=26}return d},N.prototype.convertTo=function(f){var m=f.umod(this.m);return m===f?m.clone():m},N.prototype.convertFrom=function(f){var m=f.clone();return m.red=null,m},s.mont=function(f){return new W(f)};function W(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(W,N),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var m=this.imod(f.mul(this.rinv));return m.red=null,m},W.prototype.imul=function(f,m){if(f.isZero()||m.isZero())return f.words[0]=0,f.length=1,f;var h=f.imul(m),r=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=h.isub(r).iushrn(this.shift),d=a;return a.cmp(this.m)>=0?d=a.isub(this.m):a.cmpn(0)<0&&(d=a.iadd(this.m)),d._forceRed(this)},W.prototype.mul=function(f,m){if(f.isZero()||m.isZero())return new s(0)._forceRed(this);var h=f.mul(m),r=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=h.isub(r).iushrn(this.shift),d=a;return a.cmp(this.m)>=0?d=a.isub(this.m):a.cmpn(0)<0&&(d=a.iadd(this.m)),d._forceRed(this)},W.prototype.invm=function(f){var m=this.imod(f._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Pt)})($s);var Ks={exports:{}};(function(t){(function(e,i){function n(b,f){if(!b)throw new Error(f||"Assertion failed")}function c(b,f){b.super_=f;var m=function(){};m.prototype=f.prototype,b.prototype=new m,b.prototype.constructor=b}function s(b,f,m){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(b||0,f||10,m||"be"))}typeof e=="object"?e.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{y=ks("buffer").Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,m){return f.cmp(m)>0?f:m},s.min=function(f,m){return f.cmp(m)<0?f:m},s.prototype._init=function(f,m,h){if(typeof f=="number")return this._initNumber(f,m,h);if(typeof f=="object")return this._initArray(f,m,h);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),f=f.toString().replace(/\s+/g,"");var r=0;f[0]==="-"&&r++,m===16?this._parseHex(f,r):this._parseBase(f,m,r),f[0]==="-"&&(this.negative=1),this.strip(),h==="le"&&this._initArray(this.toArray(),m,h)},s.prototype._initNumber=function(f,m,h){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),m,h)},s.prototype._initArray=function(f,m,h){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a,d,v=0;if(h==="be")for(r=f.length-1,a=0;r>=0;r-=3)d=f[r]|f[r-1]<<8|f[r-2]<<16,this.words[a]|=d<<v&67108863,this.words[a+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,a++);else if(h==="le")for(r=0,a=0;r<f.length;r+=3)d=f[r]|f[r+1]<<8|f[r+2]<<16,this.words[a]|=d<<v&67108863,this.words[a+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,a++);return this.strip()};function _(b,f,m){for(var h=0,r=Math.min(b.length,m),a=f;a<r;a++){var d=b.charCodeAt(a)-48;h<<=4,d>=49&&d<=54?h|=d-49+10:d>=17&&d<=22?h|=d-17+10:h|=d&15}return h}s.prototype._parseHex=function(f,m){this.length=Math.ceil((f.length-m)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var r,a,d=0;for(h=f.length-6,r=0;h>=m;h-=6)a=_(f,h,h+6),this.words[r]|=a<<d&67108863,this.words[r+1]|=a>>>26-d&4194303,d+=24,d>=26&&(d-=26,r++);h+6!==m&&(a=_(f,m,h+6),this.words[r]|=a<<d&67108863,this.words[r+1]|=a>>>26-d&4194303),this.strip()};function M(b,f,m,h){for(var r=0,a=Math.min(b.length,m),d=f;d<a;d++){var v=b.charCodeAt(d)-48;r*=h,v>=49?r+=v-49+10:v>=17?r+=v-17+10:r+=v}return r}s.prototype._parseBase=function(f,m,h){this.words=[0],this.length=1;for(var r=0,a=1;a<=67108863;a*=m)r++;r--,a=a/m|0;for(var d=f.length-h,v=d%r,l=Math.min(d,d-v)+h,o=0,p=h;p<l;p+=r)o=M(f,p,p+r,m),this.imuln(a),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(v!==0){var g=1;for(o=M(f,p,f.length,m),p=0;p<v;p++)g*=m;this.imuln(g),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}},s.prototype.copy=function(f){f.words=new Array(this.length);for(var m=0;m<this.length;m++)f.words[m]=this.words[m];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,m){f=f||10,m=m|0||1;var h;if(f===16||f==="hex"){h="";for(var r=0,a=0,d=0;d<this.length;d++){var v=this.words[d],l=((v<<r|a)&16777215).toString(16);a=v>>>24-r&16777215,a!==0||d!==this.length-1?h=x[6-l.length]+l+h:h=l+h,r+=2,r>=26&&(r-=26,d--)}for(a!==0&&(h=a.toString(16)+h);h.length%m!=0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(f===(f|0)&&f>=2&&f<=36){var o=E[f],p=A[f];h="";var g=this.clone();for(g.negative=0;!g.isZero();){var u=g.modn(p).toString(f);g=g.idivn(p),g.isZero()?h=u+h:h=x[o-u.length]+u+h}for(this.isZero()&&(h="0"+h);h.length%m!=0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,m){return n(typeof y!="undefined"),this.toArrayLike(y,f,m)},s.prototype.toArray=function(f,m){return this.toArrayLike(Array,f,m)},s.prototype.toArrayLike=function(f,m,h){var r=this.byteLength(),a=h||Math.max(1,r);n(r<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var d=m==="le",v=new f(a),l,o,p=this.clone();if(d){for(o=0;!p.isZero();o++)l=p.andln(255),p.iushrn(8),v[o]=l;for(;o<a;o++)v[o]=0}else{for(o=0;o<a-r;o++)v[o]=0;for(o=0;!p.isZero();o++)l=p.andln(255),p.iushrn(8),v[a-o-1]=l}return v},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var m=f,h=0;return m>=4096&&(h+=13,m>>>=13),m>=64&&(h+=7,m>>>=7),m>=8&&(h+=4,m>>>=4),m>=2&&(h+=2,m>>>=2),h+m},s.prototype._zeroBits=function(f){if(f===0)return 26;var m=f,h=0;return(m&8191)==0&&(h+=13,m>>>=13),(m&127)==0&&(h+=7,m>>>=7),(m&15)==0&&(h+=4,m>>>=4),(m&3)==0&&(h+=2,m>>>=2),(m&1)==0&&h++,h},s.prototype.bitLength=function(){var f=this.words[this.length-1],m=this._countBits(f);return(this.length-1)*26+m};function S(b){for(var f=new Array(b.bitLength()),m=0;m<f.length;m++){var h=m/26|0,r=m%26;f[m]=(b.words[h]&1<<r)>>>r}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,m=0;m<this.length;m++){var h=this._zeroBits(this.words[m]);if(f+=h,h!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]|f.words[m];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)==0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var m;this.length>f.length?m=f:m=this;for(var h=0;h<m.length;h++)this.words[h]=this.words[h]&f.words[h];return this.length=m.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)==0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var m,h;this.length>f.length?(m=this,h=f):(m=f,h=this);for(var r=0;r<h.length;r++)this.words[r]=m.words[r]^h.words[r];if(this!==m)for(;r<m.length;r++)this.words[r]=m.words[r];return this.length=m.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)==0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var m=Math.ceil(f/26)|0,h=f%26;this._expand(m),h>0&&m--;for(var r=0;r<m;r++)this.words[r]=~this.words[r]&67108863;return h>0&&(this.words[r]=~this.words[r]&67108863>>26-h),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,m){n(typeof f=="number"&&f>=0);var h=f/26|0,r=f%26;return this._expand(h+1),m?this.words[h]=this.words[h]|1<<r:this.words[h]=this.words[h]&~(1<<r),this.strip()},s.prototype.iadd=function(f){var m;if(this.negative!==0&&f.negative===0)return this.negative=0,m=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,m=this.isub(f),f.negative=1,m._normSign();var h,r;this.length>f.length?(h=this,r=f):(h=f,r=this);for(var a=0,d=0;d<r.length;d++)m=(h.words[d]|0)+(r.words[d]|0)+a,this.words[d]=m&67108863,a=m>>>26;for(;a!==0&&d<h.length;d++)m=(h.words[d]|0)+a,this.words[d]=m&67108863,a=m>>>26;if(this.length=h.length,a!==0)this.words[this.length]=a,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},s.prototype.add=function(f){var m;return f.negative!==0&&this.negative===0?(f.negative=0,m=this.sub(f),f.negative^=1,m):f.negative===0&&this.negative!==0?(this.negative=0,m=f.sub(this),this.negative=1,m):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var m=this.iadd(f);return f.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var h=this.cmp(f);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var r,a;h>0?(r=this,a=f):(r=f,a=this);for(var d=0,v=0;v<a.length;v++)m=(r.words[v]|0)-(a.words[v]|0)+d,d=m>>26,this.words[v]=m&67108863;for(;d!==0&&v<r.length;v++)m=(r.words[v]|0)+d,d=m>>26,this.words[v]=m&67108863;if(d===0&&v<r.length&&r!==this)for(;v<r.length;v++)this.words[v]=r.words[v];return this.length=Math.max(this.length,v),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function k(b,f,m){m.negative=f.negative^b.negative;var h=b.length+f.length|0;m.length=h,h=h-1|0;var r=b.words[0]|0,a=f.words[0]|0,d=r*a,v=d&67108863,l=d/67108864|0;m.words[0]=v;for(var o=1;o<h;o++){for(var p=l>>>26,g=l&67108863,u=Math.min(o,f.length-1),w=Math.max(0,o-b.length+1);w<=u;w++){var P=o-w|0;r=b.words[P]|0,a=f.words[w]|0,d=r*a+g,p+=d/67108864|0,g=d&67108863}m.words[o]=g|0,l=p|0}return l!==0?m.words[o]=l|0:m.length--,m.strip()}var C=function(f,m,h){var r=f.words,a=m.words,d=h.words,v=0,l,o,p,g=r[0]|0,u=g&8191,w=g>>>13,P=r[1]|0,L=P&8191,U=P>>>13,Tt=r[2]|0,H=Tt&8191,V=Tt>>>13,Lt=r[3]|0,J=Lt&8191,X=Lt>>>13,Yt=r[4]|0,tt=Yt&8191,nt=Yt>>>13,le=r[5]|0,Z=le&8191,ot=le>>>13,Qt=r[6]|0,et=Qt&8191,G=Qt>>>13,jt=r[7]|0,Y=jt&8191,st=jt>>>13,Ne=r[8]|0,mt=Ne&8191,vt=Ne>>>13,Ee=r[9]|0,ut=Ee&8191,ht=Ee>>>13,Le=a[0]|0,lt=Le&8191,ct=Le>>>13,De=a[1]|0,gt=De&8191,rt=De>>>13,Se=a[2]|0,yt=Se&8191,dt=Se>>>13,Fe=a[3]|0,pt=Fe&8191,ft=Fe>>>13,Ue=a[4]|0,it=Ue&8191,wt=Ue>>>13,He=a[5]|0,bt=He&8191,Mt=He>>>13,qe=a[6]|0,Q=qe&8191,_t=qe>>>13,$e=a[7]|0,xt=$e&8191,Et=$e>>>13,Ke=a[8]|0,at=Ke&8191,St=Ke>>>13,We=a[9]|0,At=We&8191,Ot=We>>>13;h.negative=f.negative^m.negative,h.length=19,l=Math.imul(u,lt),o=Math.imul(u,ct),o=o+Math.imul(w,lt)|0,p=Math.imul(w,ct);var Ce=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,l=Math.imul(L,lt),o=Math.imul(L,ct),o=o+Math.imul(U,lt)|0,p=Math.imul(U,ct),l=l+Math.imul(u,gt)|0,o=o+Math.imul(u,rt)|0,o=o+Math.imul(w,gt)|0,p=p+Math.imul(w,rt)|0;var Rt=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,l=Math.imul(H,lt),o=Math.imul(H,ct),o=o+Math.imul(V,lt)|0,p=Math.imul(V,ct),l=l+Math.imul(L,gt)|0,o=o+Math.imul(L,rt)|0,o=o+Math.imul(U,gt)|0,p=p+Math.imul(U,rt)|0,l=l+Math.imul(u,yt)|0,o=o+Math.imul(u,dt)|0,o=o+Math.imul(w,yt)|0,p=p+Math.imul(w,dt)|0;var It=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(It>>>26)|0,It&=67108863,l=Math.imul(J,lt),o=Math.imul(J,ct),o=o+Math.imul(X,lt)|0,p=Math.imul(X,ct),l=l+Math.imul(H,gt)|0,o=o+Math.imul(H,rt)|0,o=o+Math.imul(V,gt)|0,p=p+Math.imul(V,rt)|0,l=l+Math.imul(L,yt)|0,o=o+Math.imul(L,dt)|0,o=o+Math.imul(U,yt)|0,p=p+Math.imul(U,dt)|0,l=l+Math.imul(u,pt)|0,o=o+Math.imul(u,ft)|0,o=o+Math.imul(w,pt)|0,p=p+Math.imul(w,ft)|0;var ce=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(tt,lt),o=Math.imul(tt,ct),o=o+Math.imul(nt,lt)|0,p=Math.imul(nt,ct),l=l+Math.imul(J,gt)|0,o=o+Math.imul(J,rt)|0,o=o+Math.imul(X,gt)|0,p=p+Math.imul(X,rt)|0,l=l+Math.imul(H,yt)|0,o=o+Math.imul(H,dt)|0,o=o+Math.imul(V,yt)|0,p=p+Math.imul(V,dt)|0,l=l+Math.imul(L,pt)|0,o=o+Math.imul(L,ft)|0,o=o+Math.imul(U,pt)|0,p=p+Math.imul(U,ft)|0,l=l+Math.imul(u,it)|0,o=o+Math.imul(u,wt)|0,o=o+Math.imul(w,it)|0,p=p+Math.imul(w,wt)|0;var de=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(Z,lt),o=Math.imul(Z,ct),o=o+Math.imul(ot,lt)|0,p=Math.imul(ot,ct),l=l+Math.imul(tt,gt)|0,o=o+Math.imul(tt,rt)|0,o=o+Math.imul(nt,gt)|0,p=p+Math.imul(nt,rt)|0,l=l+Math.imul(J,yt)|0,o=o+Math.imul(J,dt)|0,o=o+Math.imul(X,yt)|0,p=p+Math.imul(X,dt)|0,l=l+Math.imul(H,pt)|0,o=o+Math.imul(H,ft)|0,o=o+Math.imul(V,pt)|0,p=p+Math.imul(V,ft)|0,l=l+Math.imul(L,it)|0,o=o+Math.imul(L,wt)|0,o=o+Math.imul(U,it)|0,p=p+Math.imul(U,wt)|0,l=l+Math.imul(u,bt)|0,o=o+Math.imul(u,Mt)|0,o=o+Math.imul(w,bt)|0,p=p+Math.imul(w,Mt)|0;var pe=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(et,lt),o=Math.imul(et,ct),o=o+Math.imul(G,lt)|0,p=Math.imul(G,ct),l=l+Math.imul(Z,gt)|0,o=o+Math.imul(Z,rt)|0,o=o+Math.imul(ot,gt)|0,p=p+Math.imul(ot,rt)|0,l=l+Math.imul(tt,yt)|0,o=o+Math.imul(tt,dt)|0,o=o+Math.imul(nt,yt)|0,p=p+Math.imul(nt,dt)|0,l=l+Math.imul(J,pt)|0,o=o+Math.imul(J,ft)|0,o=o+Math.imul(X,pt)|0,p=p+Math.imul(X,ft)|0,l=l+Math.imul(H,it)|0,o=o+Math.imul(H,wt)|0,o=o+Math.imul(V,it)|0,p=p+Math.imul(V,wt)|0,l=l+Math.imul(L,bt)|0,o=o+Math.imul(L,Mt)|0,o=o+Math.imul(U,bt)|0,p=p+Math.imul(U,Mt)|0,l=l+Math.imul(u,Q)|0,o=o+Math.imul(u,_t)|0,o=o+Math.imul(w,Q)|0,p=p+Math.imul(w,_t)|0;var me=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(me>>>26)|0,me&=67108863,l=Math.imul(Y,lt),o=Math.imul(Y,ct),o=o+Math.imul(st,lt)|0,p=Math.imul(st,ct),l=l+Math.imul(et,gt)|0,o=o+Math.imul(et,rt)|0,o=o+Math.imul(G,gt)|0,p=p+Math.imul(G,rt)|0,l=l+Math.imul(Z,yt)|0,o=o+Math.imul(Z,dt)|0,o=o+Math.imul(ot,yt)|0,p=p+Math.imul(ot,dt)|0,l=l+Math.imul(tt,pt)|0,o=o+Math.imul(tt,ft)|0,o=o+Math.imul(nt,pt)|0,p=p+Math.imul(nt,ft)|0,l=l+Math.imul(J,it)|0,o=o+Math.imul(J,wt)|0,o=o+Math.imul(X,it)|0,p=p+Math.imul(X,wt)|0,l=l+Math.imul(H,bt)|0,o=o+Math.imul(H,Mt)|0,o=o+Math.imul(V,bt)|0,p=p+Math.imul(V,Mt)|0,l=l+Math.imul(L,Q)|0,o=o+Math.imul(L,_t)|0,o=o+Math.imul(U,Q)|0,p=p+Math.imul(U,_t)|0,l=l+Math.imul(u,xt)|0,o=o+Math.imul(u,Et)|0,o=o+Math.imul(w,xt)|0,p=p+Math.imul(w,Et)|0;var ve=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,l=Math.imul(mt,lt),o=Math.imul(mt,ct),o=o+Math.imul(vt,lt)|0,p=Math.imul(vt,ct),l=l+Math.imul(Y,gt)|0,o=o+Math.imul(Y,rt)|0,o=o+Math.imul(st,gt)|0,p=p+Math.imul(st,rt)|0,l=l+Math.imul(et,yt)|0,o=o+Math.imul(et,dt)|0,o=o+Math.imul(G,yt)|0,p=p+Math.imul(G,dt)|0,l=l+Math.imul(Z,pt)|0,o=o+Math.imul(Z,ft)|0,o=o+Math.imul(ot,pt)|0,p=p+Math.imul(ot,ft)|0,l=l+Math.imul(tt,it)|0,o=o+Math.imul(tt,wt)|0,o=o+Math.imul(nt,it)|0,p=p+Math.imul(nt,wt)|0,l=l+Math.imul(J,bt)|0,o=o+Math.imul(J,Mt)|0,o=o+Math.imul(X,bt)|0,p=p+Math.imul(X,Mt)|0,l=l+Math.imul(H,Q)|0,o=o+Math.imul(H,_t)|0,o=o+Math.imul(V,Q)|0,p=p+Math.imul(V,_t)|0,l=l+Math.imul(L,xt)|0,o=o+Math.imul(L,Et)|0,o=o+Math.imul(U,xt)|0,p=p+Math.imul(U,Et)|0,l=l+Math.imul(u,at)|0,o=o+Math.imul(u,St)|0,o=o+Math.imul(w,at)|0,p=p+Math.imul(w,St)|0;var ne=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(ut,lt),o=Math.imul(ut,ct),o=o+Math.imul(ht,lt)|0,p=Math.imul(ht,ct),l=l+Math.imul(mt,gt)|0,o=o+Math.imul(mt,rt)|0,o=o+Math.imul(vt,gt)|0,p=p+Math.imul(vt,rt)|0,l=l+Math.imul(Y,yt)|0,o=o+Math.imul(Y,dt)|0,o=o+Math.imul(st,yt)|0,p=p+Math.imul(st,dt)|0,l=l+Math.imul(et,pt)|0,o=o+Math.imul(et,ft)|0,o=o+Math.imul(G,pt)|0,p=p+Math.imul(G,ft)|0,l=l+Math.imul(Z,it)|0,o=o+Math.imul(Z,wt)|0,o=o+Math.imul(ot,it)|0,p=p+Math.imul(ot,wt)|0,l=l+Math.imul(tt,bt)|0,o=o+Math.imul(tt,Mt)|0,o=o+Math.imul(nt,bt)|0,p=p+Math.imul(nt,Mt)|0,l=l+Math.imul(J,Q)|0,o=o+Math.imul(J,_t)|0,o=o+Math.imul(X,Q)|0,p=p+Math.imul(X,_t)|0,l=l+Math.imul(H,xt)|0,o=o+Math.imul(H,Et)|0,o=o+Math.imul(V,xt)|0,p=p+Math.imul(V,Et)|0,l=l+Math.imul(L,at)|0,o=o+Math.imul(L,St)|0,o=o+Math.imul(U,at)|0,p=p+Math.imul(U,St)|0,l=l+Math.imul(u,At)|0,o=o+Math.imul(u,Ot)|0,o=o+Math.imul(w,At)|0,p=p+Math.imul(w,Ot)|0;var ge=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,l=Math.imul(ut,gt),o=Math.imul(ut,rt),o=o+Math.imul(ht,gt)|0,p=Math.imul(ht,rt),l=l+Math.imul(mt,yt)|0,o=o+Math.imul(mt,dt)|0,o=o+Math.imul(vt,yt)|0,p=p+Math.imul(vt,dt)|0,l=l+Math.imul(Y,pt)|0,o=o+Math.imul(Y,ft)|0,o=o+Math.imul(st,pt)|0,p=p+Math.imul(st,ft)|0,l=l+Math.imul(et,it)|0,o=o+Math.imul(et,wt)|0,o=o+Math.imul(G,it)|0,p=p+Math.imul(G,wt)|0,l=l+Math.imul(Z,bt)|0,o=o+Math.imul(Z,Mt)|0,o=o+Math.imul(ot,bt)|0,p=p+Math.imul(ot,Mt)|0,l=l+Math.imul(tt,Q)|0,o=o+Math.imul(tt,_t)|0,o=o+Math.imul(nt,Q)|0,p=p+Math.imul(nt,_t)|0,l=l+Math.imul(J,xt)|0,o=o+Math.imul(J,Et)|0,o=o+Math.imul(X,xt)|0,p=p+Math.imul(X,Et)|0,l=l+Math.imul(H,at)|0,o=o+Math.imul(H,St)|0,o=o+Math.imul(V,at)|0,p=p+Math.imul(V,St)|0,l=l+Math.imul(L,At)|0,o=o+Math.imul(L,Ot)|0,o=o+Math.imul(U,At)|0,p=p+Math.imul(U,Ot)|0;var te=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(te>>>26)|0,te&=67108863,l=Math.imul(ut,yt),o=Math.imul(ut,dt),o=o+Math.imul(ht,yt)|0,p=Math.imul(ht,dt),l=l+Math.imul(mt,pt)|0,o=o+Math.imul(mt,ft)|0,o=o+Math.imul(vt,pt)|0,p=p+Math.imul(vt,ft)|0,l=l+Math.imul(Y,it)|0,o=o+Math.imul(Y,wt)|0,o=o+Math.imul(st,it)|0,p=p+Math.imul(st,wt)|0,l=l+Math.imul(et,bt)|0,o=o+Math.imul(et,Mt)|0,o=o+Math.imul(G,bt)|0,p=p+Math.imul(G,Mt)|0,l=l+Math.imul(Z,Q)|0,o=o+Math.imul(Z,_t)|0,o=o+Math.imul(ot,Q)|0,p=p+Math.imul(ot,_t)|0,l=l+Math.imul(tt,xt)|0,o=o+Math.imul(tt,Et)|0,o=o+Math.imul(nt,xt)|0,p=p+Math.imul(nt,Et)|0,l=l+Math.imul(J,at)|0,o=o+Math.imul(J,St)|0,o=o+Math.imul(X,at)|0,p=p+Math.imul(X,St)|0,l=l+Math.imul(H,At)|0,o=o+Math.imul(H,Ot)|0,o=o+Math.imul(V,At)|0,p=p+Math.imul(V,Ot)|0;var oe=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(ut,pt),o=Math.imul(ut,ft),o=o+Math.imul(ht,pt)|0,p=Math.imul(ht,ft),l=l+Math.imul(mt,it)|0,o=o+Math.imul(mt,wt)|0,o=o+Math.imul(vt,it)|0,p=p+Math.imul(vt,wt)|0,l=l+Math.imul(Y,bt)|0,o=o+Math.imul(Y,Mt)|0,o=o+Math.imul(st,bt)|0,p=p+Math.imul(st,Mt)|0,l=l+Math.imul(et,Q)|0,o=o+Math.imul(et,_t)|0,o=o+Math.imul(G,Q)|0,p=p+Math.imul(G,_t)|0,l=l+Math.imul(Z,xt)|0,o=o+Math.imul(Z,Et)|0,o=o+Math.imul(ot,xt)|0,p=p+Math.imul(ot,Et)|0,l=l+Math.imul(tt,at)|0,o=o+Math.imul(tt,St)|0,o=o+Math.imul(nt,at)|0,p=p+Math.imul(nt,St)|0,l=l+Math.imul(J,At)|0,o=o+Math.imul(J,Ot)|0,o=o+Math.imul(X,At)|0,p=p+Math.imul(X,Ot)|0;var ye=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,l=Math.imul(ut,it),o=Math.imul(ut,wt),o=o+Math.imul(ht,it)|0,p=Math.imul(ht,wt),l=l+Math.imul(mt,bt)|0,o=o+Math.imul(mt,Mt)|0,o=o+Math.imul(vt,bt)|0,p=p+Math.imul(vt,Mt)|0,l=l+Math.imul(Y,Q)|0,o=o+Math.imul(Y,_t)|0,o=o+Math.imul(st,Q)|0,p=p+Math.imul(st,_t)|0,l=l+Math.imul(et,xt)|0,o=o+Math.imul(et,Et)|0,o=o+Math.imul(G,xt)|0,p=p+Math.imul(G,Et)|0,l=l+Math.imul(Z,at)|0,o=o+Math.imul(Z,St)|0,o=o+Math.imul(ot,at)|0,p=p+Math.imul(ot,St)|0,l=l+Math.imul(tt,At)|0,o=o+Math.imul(tt,Ot)|0,o=o+Math.imul(nt,At)|0,p=p+Math.imul(nt,Ot)|0;var ee=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul(ut,bt),o=Math.imul(ut,Mt),o=o+Math.imul(ht,bt)|0,p=Math.imul(ht,Mt),l=l+Math.imul(mt,Q)|0,o=o+Math.imul(mt,_t)|0,o=o+Math.imul(vt,Q)|0,p=p+Math.imul(vt,_t)|0,l=l+Math.imul(Y,xt)|0,o=o+Math.imul(Y,Et)|0,o=o+Math.imul(st,xt)|0,p=p+Math.imul(st,Et)|0,l=l+Math.imul(et,at)|0,o=o+Math.imul(et,St)|0,o=o+Math.imul(G,at)|0,p=p+Math.imul(G,St)|0,l=l+Math.imul(Z,At)|0,o=o+Math.imul(Z,Ot)|0,o=o+Math.imul(ot,At)|0,p=p+Math.imul(ot,Ot)|0;var ae=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(ut,Q),o=Math.imul(ut,_t),o=o+Math.imul(ht,Q)|0,p=Math.imul(ht,_t),l=l+Math.imul(mt,xt)|0,o=o+Math.imul(mt,Et)|0,o=o+Math.imul(vt,xt)|0,p=p+Math.imul(vt,Et)|0,l=l+Math.imul(Y,at)|0,o=o+Math.imul(Y,St)|0,o=o+Math.imul(st,at)|0,p=p+Math.imul(st,St)|0,l=l+Math.imul(et,At)|0,o=o+Math.imul(et,Ot)|0,o=o+Math.imul(G,At)|0,p=p+Math.imul(G,Ot)|0;var we=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(we>>>26)|0,we&=67108863,l=Math.imul(ut,xt),o=Math.imul(ut,Et),o=o+Math.imul(ht,xt)|0,p=Math.imul(ht,Et),l=l+Math.imul(mt,at)|0,o=o+Math.imul(mt,St)|0,o=o+Math.imul(vt,at)|0,p=p+Math.imul(vt,St)|0,l=l+Math.imul(Y,At)|0,o=o+Math.imul(Y,Ot)|0,o=o+Math.imul(st,At)|0,p=p+Math.imul(st,Ot)|0;var be=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(be>>>26)|0,be&=67108863,l=Math.imul(ut,at),o=Math.imul(ut,St),o=o+Math.imul(ht,at)|0,p=Math.imul(ht,St),l=l+Math.imul(mt,At)|0,o=o+Math.imul(mt,Ot)|0,o=o+Math.imul(vt,At)|0,p=p+Math.imul(vt,Ot)|0;var Me=(v+l|0)+((o&8191)<<13)|0;v=(p+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,l=Math.imul(ut,At),o=Math.imul(ut,Ot),o=o+Math.imul(ht,At)|0,p=Math.imul(ht,Ot);var fe=(v+l|0)+((o&8191)<<13)|0;return v=(p+(o>>>13)|0)+(fe>>>26)|0,fe&=67108863,d[0]=Ce,d[1]=Rt,d[2]=It,d[3]=ce,d[4]=de,d[5]=pe,d[6]=me,d[7]=ve,d[8]=ne,d[9]=ge,d[10]=te,d[11]=oe,d[12]=ye,d[13]=ee,d[14]=ae,d[15]=we,d[16]=be,d[17]=Me,d[18]=fe,v!==0&&(d[19]=v,h.length++),h};Math.imul||(C=k);function R(b,f,m){m.negative=f.negative^b.negative,m.length=b.length+f.length;for(var h=0,r=0,a=0;a<m.length-1;a++){var d=r;r=0;for(var v=h&67108863,l=Math.min(a,f.length-1),o=Math.max(0,a-b.length+1);o<=l;o++){var p=a-o,g=b.words[p]|0,u=f.words[o]|0,w=g*u,P=w&67108863;d=d+(w/67108864|0)|0,P=P+v|0,v=P&67108863,d=d+(P>>>26)|0,r+=d>>>26,d&=67108863}m.words[a]=v,h=d,d=r}return h!==0?m.words[a]=h:m.length--,m.strip()}function B(b,f,m){var h=new I;return h.mulp(b,f,m)}s.prototype.mulTo=function(f,m){var h,r=this.length+f.length;return this.length===10&&f.length===10?h=C(this,f,m):r<63?h=k(this,f,m):r<1024?h=R(this,f,m):h=B(this,f,m),h};function I(b,f){this.x=b,this.y=f}I.prototype.makeRBT=function(f){for(var m=new Array(f),h=s.prototype._countBits(f)-1,r=0;r<f;r++)m[r]=this.revBin(r,h,f);return m},I.prototype.revBin=function(f,m,h){if(f===0||f===h-1)return f;for(var r=0,a=0;a<m;a++)r|=(f&1)<<m-a-1,f>>=1;return r},I.prototype.permute=function(f,m,h,r,a,d){for(var v=0;v<d;v++)r[v]=m[f[v]],a[v]=h[f[v]]},I.prototype.transform=function(f,m,h,r,a,d){this.permute(d,f,m,h,r,a);for(var v=1;v<a;v<<=1)for(var l=v<<1,o=Math.cos(2*Math.PI/l),p=Math.sin(2*Math.PI/l),g=0;g<a;g+=l)for(var u=o,w=p,P=0;P<v;P++){var L=h[g+P],U=r[g+P],Tt=h[g+P+v],H=r[g+P+v],V=u*Tt-w*H;H=u*H+w*Tt,Tt=V,h[g+P]=L+Tt,r[g+P]=U+H,h[g+P+v]=L-Tt,r[g+P+v]=U-H,P!==l&&(V=o*u-p*w,w=o*w+p*u,u=V)}},I.prototype.guessLen13b=function(f,m){var h=Math.max(m,f)|1,r=h&1,a=0;for(h=h/2|0;h;h=h>>>1)a++;return 1<<a+1+r},I.prototype.conjugate=function(f,m,h){if(!(h<=1))for(var r=0;r<h/2;r++){var a=f[r];f[r]=f[h-r-1],f[h-r-1]=a,a=m[r],m[r]=-m[h-r-1],m[h-r-1]=-a}},I.prototype.normalize13b=function(f,m){for(var h=0,r=0;r<m/2;r++){var a=Math.round(f[2*r+1]/m)*8192+Math.round(f[2*r]/m)+h;f[r]=a&67108863,a<67108864?h=0:h=a/67108864|0}return f},I.prototype.convert13b=function(f,m,h,r){for(var a=0,d=0;d<m;d++)a=a+(f[d]|0),h[2*d]=a&8191,a=a>>>13,h[2*d+1]=a&8191,a=a>>>13;for(d=2*m;d<r;++d)h[d]=0;n(a===0),n((a&~8191)==0)},I.prototype.stub=function(f){for(var m=new Array(f),h=0;h<f;h++)m[h]=0;return m},I.prototype.mulp=function(f,m,h){var r=2*this.guessLen13b(f.length,m.length),a=this.makeRBT(r),d=this.stub(r),v=new Array(r),l=new Array(r),o=new Array(r),p=new Array(r),g=new Array(r),u=new Array(r),w=h.words;w.length=r,this.convert13b(f.words,f.length,v,r),this.convert13b(m.words,m.length,p,r),this.transform(v,d,l,o,r,a),this.transform(p,d,g,u,r,a);for(var P=0;P<r;P++){var L=l[P]*g[P]-o[P]*u[P];o[P]=l[P]*u[P]+o[P]*g[P],l[P]=L}return this.conjugate(l,o,r),this.transform(l,o,w,d,r,a),this.conjugate(w,d,r),this.normalize13b(w,r),h.negative=f.negative^m.negative,h.length=f.length+m.length,h.strip()},s.prototype.mul=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),this.mulTo(f,m)},s.prototype.mulf=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),B(this,f,m)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var m=0,h=0;h<this.length;h++){var r=(this.words[h]|0)*f,a=(r&67108863)+(m&67108863);m>>=26,m+=r/67108864|0,m+=a>>>26,this.words[h]=a&67108863}return m!==0&&(this.words[h]=m,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var m=S(f);if(m.length===0)return new s(1);for(var h=this,r=0;r<m.length&&m[r]===0;r++,h=h.sqr());if(++r<m.length)for(var a=h.sqr();r<m.length;r++,a=a.sqr())m[r]!==0&&(h=h.mul(a));return h},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26,r=67108863>>>26-m<<26-m,a;if(m!==0){var d=0;for(a=0;a<this.length;a++){var v=this.words[a]&r,l=(this.words[a]|0)-v<<m;this.words[a]=l|d,d=v>>>26-m}d&&(this.words[a]=d,this.length++)}if(h!==0){for(a=this.length-1;a>=0;a--)this.words[a+h]=this.words[a];for(a=0;a<h;a++)this.words[a]=0;this.length+=h}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,m,h){n(typeof f=="number"&&f>=0);var r;m?r=(m-m%26)/26:r=0;var a=f%26,d=Math.min((f-a)/26,this.length),v=67108863^67108863>>>a<<a,l=h;if(r-=d,r=Math.max(0,r),l){for(var o=0;o<d;o++)l.words[o]=this.words[o];l.length=d}if(d!==0)if(this.length>d)for(this.length-=d,o=0;o<this.length;o++)this.words[o]=this.words[o+d];else this.words[0]=0,this.length=1;var p=0;for(o=this.length-1;o>=0&&(p!==0||o>=r);o--){var g=this.words[o]|0;this.words[o]=p<<26-a|g>>>a,p=g&v}return l&&p!==0&&(l.words[l.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,m,h){return n(this.negative===0),this.iushrn(f,m,h)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26,r=1<<m;if(this.length<=h)return!1;var a=this.words[h];return!!(a&r)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,h=(f-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(m!==0&&h++,this.length=Math.min(h,this.length),m!==0){var r=67108863^67108863>>>m<<m;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,m,h){var r=f.length+h,a;this._expand(r);var d,v=0;for(a=0;a<f.length;a++){d=(this.words[a+h]|0)+v;var l=(f.words[a]|0)*m;d-=l&67108863,v=(d>>26)-(l/67108864|0),this.words[a+h]=d&67108863}for(;a<this.length-h;a++)d=(this.words[a+h]|0)+v,v=d>>26,this.words[a+h]=d&67108863;if(v===0)return this.strip();for(n(v===-1),v=0,a=0;a<this.length;a++)d=-(this.words[a]|0)+v,v=d>>26,this.words[a]=d&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,m){var h=this.length-f.length,r=this.clone(),a=f,d=a.words[a.length-1]|0,v=this._countBits(d);h=26-v,h!==0&&(a=a.ushln(h),r.iushln(h),d=a.words[a.length-1]|0);var l=r.length-a.length,o;if(m!=="mod"){o=new s(null),o.length=l+1,o.words=new Array(o.length);for(var p=0;p<o.length;p++)o.words[p]=0}var g=r.clone()._ishlnsubmul(a,1,l);g.negative===0&&(r=g,o&&(o.words[l]=1));for(var u=l-1;u>=0;u--){var w=(r.words[a.length+u]|0)*67108864+(r.words[a.length+u-1]|0);for(w=Math.min(w/d|0,67108863),r._ishlnsubmul(a,w,u);r.negative!==0;)w--,r.negative=0,r._ishlnsubmul(a,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=w)}return o&&o.strip(),r.strip(),m!=="div"&&h!==0&&r.iushrn(h),{div:o||null,mod:r}},s.prototype.divmod=function(f,m,h){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var r,a,d;return this.negative!==0&&f.negative===0?(d=this.neg().divmod(f,m),m!=="mod"&&(r=d.div.neg()),m!=="div"&&(a=d.mod.neg(),h&&a.negative!==0&&a.iadd(f)),{div:r,mod:a}):this.negative===0&&f.negative!==0?(d=this.divmod(f.neg(),m),m!=="mod"&&(r=d.div.neg()),{div:r,mod:d.mod}):(this.negative&f.negative)!=0?(d=this.neg().divmod(f.neg(),m),m!=="div"&&(a=d.mod.neg(),h&&a.negative!==0&&a.isub(f)),{div:d.div,mod:a}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?m==="div"?{div:this.divn(f.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,m)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var m=this.divmod(f);if(m.mod.isZero())return m.div;var h=m.div.negative!==0?m.mod.isub(f):m.mod,r=f.ushrn(1),a=f.andln(1),d=h.cmp(r);return d<0||a===1&&d===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var m=(1<<26)%f,h=0,r=this.length-1;r>=0;r--)h=(m*h+(this.words[r]|0))%f;return h},s.prototype.idivn=function(f){n(f<=67108863);for(var m=0,h=this.length-1;h>=0;h--){var r=(this.words[h]|0)+m*67108864;this.words[h]=r/f|0,m=r%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var m=this,h=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var r=new s(1),a=new s(0),d=new s(0),v=new s(1),l=0;m.isEven()&&h.isEven();)m.iushrn(1),h.iushrn(1),++l;for(var o=h.clone(),p=m.clone();!m.isZero();){for(var g=0,u=1;(m.words[0]&u)==0&&g<26;++g,u<<=1);if(g>0)for(m.iushrn(g);g-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(o),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var w=0,P=1;(h.words[0]&P)==0&&w<26;++w,P<<=1);if(w>0)for(h.iushrn(w);w-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(o),v.isub(p)),d.iushrn(1),v.iushrn(1);m.cmp(h)>=0?(m.isub(h),r.isub(d),a.isub(v)):(h.isub(m),d.isub(r),v.isub(a))}return{a:d,b:v,gcd:h.iushln(l)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var m=this,h=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var r=new s(1),a=new s(0),d=h.clone();m.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,l=1;(m.words[0]&l)==0&&v<26;++v,l<<=1);if(v>0)for(m.iushrn(v);v-- >0;)r.isOdd()&&r.iadd(d),r.iushrn(1);for(var o=0,p=1;(h.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(h.iushrn(o);o-- >0;)a.isOdd()&&a.iadd(d),a.iushrn(1);m.cmp(h)>=0?(m.isub(h),r.isub(a)):(h.isub(m),a.isub(r))}var g;return m.cmpn(1)===0?g=r:g=a,g.cmpn(0)<0&&g.iadd(f),g},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var m=this.clone(),h=f.clone();m.negative=0,h.negative=0;for(var r=0;m.isEven()&&h.isEven();r++)m.iushrn(1),h.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;h.isEven();)h.iushrn(1);var a=m.cmp(h);if(a<0){var d=m;m=h,h=d}else if(a===0||h.cmpn(1)===0)break;m.isub(h)}while(!0);return h.iushln(r)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var m=f%26,h=(f-m)/26,r=1<<m;if(this.length<=h)return this._expand(h+1),this.words[h]|=r,this;for(var a=r,d=h;a!==0&&d<this.length;d++){var v=this.words[d]|0;v+=a,a=v>>>26,v&=67108863,this.words[d]=v}return a!==0&&(this.words[d]=a,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var m=f<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var h;if(this.length>1)h=1;else{m&&(f=-f),n(f<=67108863,"Number is too big");var r=this.words[0]|0;h=r===f?0:r<f?-1:1}return this.negative!==0?-h|0:h},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var m=this.ucmp(f);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var m=0,h=this.length-1;h>=0;h--){var r=this.words[h]|0,a=f.words[h]|0;if(r!==a){r<a?m=-1:r>a&&(m=1);break}}return m},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new N(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var j={k256:null,p224:null,p192:null,p25519:null};function D(b,f){this.name=b,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},D.prototype.ireduce=function(f){var m=f,h;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),h=m.bitLength();while(h>this.n);var r=h<this.n?-1:m.ucmp(this.p);return r===0?(m.words[0]=0,m.length=1):r>0?m.isub(this.p):m.strip(),m},D.prototype.split=function(f,m){f.iushrn(this.n,0,m)},D.prototype.imulK=function(f){return f.imul(this.k)};function $(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c($,D),$.prototype.split=function(f,m){for(var h=4194303,r=Math.min(f.length,9),a=0;a<r;a++)m.words[a]=f.words[a];if(m.length=r,f.length<=9){f.words[0]=0,f.length=1;return}var d=f.words[9];for(m.words[m.length++]=d&h,a=10;a<f.length;a++){var v=f.words[a]|0;f.words[a-10]=(v&h)<<4|d>>>22,d=v}d>>>=22,f.words[a-10]=d,d===0&&f.length>10?f.length-=10:f.length-=9},$.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var m=0,h=0;h<f.length;h++){var r=f.words[h]|0;m+=r*977,f.words[h]=m&67108863,m=r*64+(m/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(z,D);function K(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(K,D);function O(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(O,D),O.prototype.imulK=function(f){for(var m=0,h=0;h<f.length;h++){var r=(f.words[h]|0)*19+m,a=r&67108863;r>>>=26,f.words[h]=a,m=r}return m!==0&&(f.words[f.length++]=m),f},s._prime=function(f){if(j[f])return j[f];var m;if(f==="k256")m=new $;else if(f==="p224")m=new z;else if(f==="p192")m=new K;else if(f==="p25519")m=new O;else throw new Error("Unknown prime "+f);return j[f]=m,m};function N(b){if(typeof b=="string"){var f=s._prime(b);this.m=f.p,this.prime=f}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}N.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},N.prototype._verify2=function(f,m){n((f.negative|m.negative)==0,"red works only with positives"),n(f.red&&f.red===m.red,"red works only with red numbers")},N.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},N.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},N.prototype.add=function(f,m){this._verify2(f,m);var h=f.add(m);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},N.prototype.iadd=function(f,m){this._verify2(f,m);var h=f.iadd(m);return h.cmp(this.m)>=0&&h.isub(this.m),h},N.prototype.sub=function(f,m){this._verify2(f,m);var h=f.sub(m);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},N.prototype.isub=function(f,m){this._verify2(f,m);var h=f.isub(m);return h.cmpn(0)<0&&h.iadd(this.m),h},N.prototype.shl=function(f,m){return this._verify1(f),this.imod(f.ushln(m))},N.prototype.imul=function(f,m){return this._verify2(f,m),this.imod(f.imul(m))},N.prototype.mul=function(f,m){return this._verify2(f,m),this.imod(f.mul(m))},N.prototype.isqr=function(f){return this.imul(f,f.clone())},N.prototype.sqr=function(f){return this.mul(f,f)},N.prototype.sqrt=function(f){if(f.isZero())return f.clone();var m=this.m.andln(3);if(n(m%2==1),m===3){var h=this.m.add(new s(1)).iushrn(2);return this.pow(f,h)}for(var r=this.m.subn(1),a=0;!r.isZero()&&r.andln(1)===0;)a++,r.iushrn(1);n(!r.isZero());var d=new s(1).toRed(this),v=d.redNeg(),l=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new s(2*o*o).toRed(this);this.pow(o,l).cmp(v)!==0;)o.redIAdd(v);for(var p=this.pow(o,r),g=this.pow(f,r.addn(1).iushrn(1)),u=this.pow(f,r),w=a;u.cmp(d)!==0;){for(var P=u,L=0;P.cmp(d)!==0;L++)P=P.redSqr();n(L<w);var U=this.pow(p,new s(1).iushln(w-L-1));g=g.redMul(U),p=U.redSqr(),u=u.redMul(p),w=L}return g},N.prototype.invm=function(f){var m=f._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},N.prototype.pow=function(f,m){if(m.isZero())return new s(1);if(m.cmpn(1)===0)return f.clone();var h=4,r=new Array(1<<h);r[0]=new s(1).toRed(this),r[1]=f;for(var a=2;a<r.length;a++)r[a]=this.mul(r[a-1],f);var d=r[0],v=0,l=0,o=m.bitLength()%26;for(o===0&&(o=26),a=m.length-1;a>=0;a--){for(var p=m.words[a],g=o-1;g>=0;g--){var u=p>>g&1;if(d!==r[0]&&(d=this.sqr(d)),u===0&&v===0){l=0;continue}v<<=1,v|=u,l++,!(l!==h&&(a!==0||g!==0))&&(d=this.mul(d,r[v]),l=0,v=0)}o=26}return d},N.prototype.convertTo=function(f){var m=f.umod(this.m);return m===f?m.clone():m},N.prototype.convertFrom=function(f){var m=f.clone();return m.red=null,m},s.mont=function(f){return new W(f)};function W(b){N.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(W,N),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var m=this.imod(f.mul(this.rinv));return m.red=null,m},W.prototype.imul=function(f,m){if(f.isZero()||m.isZero())return f.words[0]=0,f.length=1,f;var h=f.imul(m),r=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=h.isub(r).iushrn(this.shift),d=a;return a.cmp(this.m)>=0?d=a.isub(this.m):a.cmpn(0)<0&&(d=a.iadd(this.m)),d._forceRed(this)},W.prototype.mul=function(f,m){if(f.isZero()||m.isZero())return new s(0)._forceRed(this);var h=f.mul(m),r=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=h.isub(r).iushrn(this.shift),d=a;return a.cmp(this.m)>=0?d=a.isub(this.m):a.cmpn(0)<0&&(d=a.iadd(this.m)),d._forceRed(this)},W.prototype.invm=function(f){var m=this.imod(f._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Pt)})(Ks);var bi=Ks.exports,Ws=Ph,zs=function(e){if(typeof e=="string"||typeof e=="number"){var i=new bi(1),n=String(e).toLowerCase().trim(),c=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",s=Ws(n);if(s.substr(0,1)==="-"&&(s=Ws(s.slice(1)),i=new bi(-1,10)),s=s===""?"0":s,!s.match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||c===!0&&s.match(/^[0-9A-Fa-f]+$/))return new bi(s,16).mul(i);if((s.match(/^-?[0-9]+$/)||s==="")&&c===!1)return new bi(s,10).mul(i)}else if(typeof e=="object"&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new bi(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},Xr=$s.exports,jh=zs,Dh=new Xr(0),Vs=new Xr(-1),Mi={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function fo(t){var e=t?t.toLowerCase():"ether",i=Mi[e];if(typeof i!="string")throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(Mi,null,2));return new Xr(i,10)}function Gs(t){if(typeof t=="string"){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}else{if(typeof t=="number")return String(t);if(typeof t=="object"&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10)}throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}function Fh(t,e,i){var n=jh(t),c=n.lt(Dh),s=fo(e),y=Mi[e].length-1||1,_=i||{};c&&(n=n.mul(Vs));for(var M=n.mod(s).toString(10);M.length<y;)M="0"+M;_.pad||(M=M.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var x=n.div(s).toString(10);_.commify&&(x=x.replace(/\B(?=(\d{3})+(?!\d))/g,","));var E=""+x+(M=="0"?"":"."+M);return c&&(E="-"+E),E}function Uh(t,e){var i=Gs(t),n=fo(e),c=Mi[e].length-1||1,s=i.substring(0,1)==="-";if(s&&(i=i.substring(1)),i===".")throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var y=i.split(".");if(y.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var _=y[0],M=y[1];if(_||(_="0"),M||(M="0"),M.length>c)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;M.length<c;)M+="0";_=new Xr(_),M=new Xr(M);var x=_.mul(n).add(M);return s&&(x=x.mul(Vs)),new Xr(x.toString(10),10)}var Hh={unitMap:Mi,numberToString:Gs,getValueOfUnit:fo,fromWei:Fh,toWei:Uh},Zs={};/*! https://mths.be/utf8js v3.0.0 by @mathias */(function(t){(function(e){var i=String.fromCharCode;function n(R){for(var B=[],I=0,j=R.length,D,$;I<j;)D=R.charCodeAt(I++),D>=55296&&D<=56319&&I<j?($=R.charCodeAt(I++),($&64512)==56320?B.push(((D&1023)<<10)+($&1023)+65536):(B.push(D),I--)):B.push(D);return B}function c(R){for(var B=R.length,I=-1,j,D="";++I<B;)j=R[I],j>65535&&(j-=65536,D+=i(j>>>10&1023|55296),j=56320|j&1023),D+=i(j);return D}function s(R){if(R>=55296&&R<=57343)throw Error("Lone surrogate U+"+R.toString(16).toUpperCase()+" is not a scalar value")}function y(R,B){return i(R>>B&63|128)}function _(R){if((R&4294967168)==0)return i(R);var B="";return(R&4294965248)==0?B=i(R>>6&31|192):(R&4294901760)==0?(s(R),B=i(R>>12&15|224),B+=y(R,6)):(R&4292870144)==0&&(B=i(R>>18&7|240),B+=y(R,12),B+=y(R,6)),B+=i(R&63|128),B}function M(R){for(var B=n(R),I=B.length,j=-1,D,$="";++j<I;)D=B[j],$+=_(D);return $}function x(){if(k>=S)throw Error("Invalid byte index");var R=A[k]&255;if(k++,(R&192)==128)return R&63;throw Error("Invalid continuation byte")}function E(){var R,B,I,j,D;if(k>S)throw Error("Invalid byte index");if(k==S)return!1;if(R=A[k]&255,k++,(R&128)==0)return R;if((R&224)==192){if(B=x(),D=(R&31)<<6|B,D>=128)return D;throw Error("Invalid continuation byte")}if((R&240)==224){if(B=x(),I=x(),D=(R&15)<<12|B<<6|I,D>=2048)return s(D),D;throw Error("Invalid continuation byte")}if((R&248)==240&&(B=x(),I=x(),j=x(),D=(R&7)<<18|B<<12|I<<6|j,D>=65536&&D<=1114111))return D;throw Error("Invalid UTF-8 detected")}var A,S,k;function C(R){A=n(R),S=A.length,k=0;for(var B=[],I;(I=E())!==!1;)B.push(I);return c(B)}e.version="3.0.0",e.encode=M,e.decode=C})(t)})(Zs);var Js={},uo={},Tr={exports:{}};(function(t){(function(e,i){function n(h,r){if(!h)throw new Error(r||"Assertion failed")}function c(h,r){h.super_=r;var a=function(){};a.prototype=r.prototype,h.prototype=new a,h.prototype.constructor=h}function s(h,r,a){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((r==="le"||r==="be")&&(a=r,r=10),this._init(h||0,r||10,a||"be"))}typeof e=="object"?e.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?y=window.Buffer:y=require("buffer").Buffer}catch{}s.isBN=function(r){return r instanceof s?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===s.wordSize&&Array.isArray(r.words)},s.max=function(r,a){return r.cmp(a)>0?r:a},s.min=function(r,a){return r.cmp(a)<0?r:a},s.prototype._init=function(r,a,d){if(typeof r=="number")return this._initNumber(r,a,d);if(typeof r=="object")return this._initArray(r,a,d);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),r=r.toString().replace(/\s+/g,"");var v=0;r[0]==="-"&&(v++,this.negative=1),v<r.length&&(a===16?this._parseHex(r,v,d):(this._parseBase(r,a,v),d==="le"&&this._initArray(this.toArray(),a,d)))},s.prototype._initNumber=function(r,a,d){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(n(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),a,d)},s.prototype._initArray=function(r,a,d){if(n(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var l,o,p=0;if(d==="be")for(v=r.length-1,l=0;v>=0;v-=3)o=r[v]|r[v-1]<<8|r[v-2]<<16,this.words[l]|=o<<p&67108863,this.words[l+1]=o>>>26-p&67108863,p+=24,p>=26&&(p-=26,l++);else if(d==="le")for(v=0,l=0;v<r.length;v+=3)o=r[v]|r[v+1]<<8|r[v+2]<<16,this.words[l]|=o<<p&67108863,this.words[l+1]=o>>>26-p&67108863,p+=24,p>=26&&(p-=26,l++);return this._strip()};function _(h,r){var a=h.charCodeAt(r);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;n(!1,"Invalid character in "+h)}function M(h,r,a){var d=_(h,a);return a-1>=r&&(d|=_(h,a-1)<<4),d}s.prototype._parseHex=function(r,a,d){this.length=Math.ceil((r.length-a)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var l=0,o=0,p;if(d==="be")for(v=r.length-1;v>=a;v-=2)p=M(r,a,v)<<l,this.words[o]|=p&67108863,l>=18?(l-=18,o+=1,this.words[o]|=p>>>26):l+=8;else{var g=r.length-a;for(v=g%2==0?a+1:a;v<r.length;v+=2)p=M(r,a,v)<<l,this.words[o]|=p&67108863,l>=18?(l-=18,o+=1,this.words[o]|=p>>>26):l+=8}this._strip()};function x(h,r,a,d){for(var v=0,l=0,o=Math.min(h.length,a),p=r;p<o;p++){var g=h.charCodeAt(p)-48;v*=d,g>=49?l=g-49+10:g>=17?l=g-17+10:l=g,n(g>=0&&l<d,"Invalid character"),v+=l}return v}s.prototype._parseBase=function(r,a,d){this.words=[0],this.length=1;for(var v=0,l=1;l<=67108863;l*=a)v++;v--,l=l/a|0;for(var o=r.length-d,p=o%v,g=Math.min(o,o-p)+d,u=0,w=d;w<g;w+=v)u=x(r,w,w+v,a),this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(p!==0){var P=1;for(u=x(r,w,r.length,a),w=0;w<p;w++)P*=a;this.imuln(P),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(r){r.words=new Array(this.length);for(var a=0;a<this.length;a++)r.words[a]=this.words[a];r.length=this.length,r.negative=this.negative,r.red=this.red};function E(h,r){h.words=r.words,h.length=r.length,h.negative=r.negative,h.red=r.red}if(s.prototype._move=function(r){E(r,this)},s.prototype.clone=function(){var r=new s(null);return this.copy(r),r},s.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{s.prototype.inspect=A}else s.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(r,a){r=r||10,a=a|0||1;var d;if(r===16||r==="hex"){d="";for(var v=0,l=0,o=0;o<this.length;o++){var p=this.words[o],g=((p<<v|l)&16777215).toString(16);l=p>>>24-v&16777215,l!==0||o!==this.length-1?d=S[6-g.length]+g+d:d=g+d,v+=2,v>=26&&(v-=26,o--)}for(l!==0&&(d=l.toString(16)+d);d.length%a!=0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(r===(r|0)&&r>=2&&r<=36){var u=k[r],w=C[r];d="";var P=this.clone();for(P.negative=0;!P.isZero();){var L=P.modrn(w).toString(r);P=P.idivn(w),P.isZero()?d=L+d:d=S[u-L.length]+L+d}for(this.isZero()&&(d="0"+d);d.length%a!=0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},s.prototype.toJSON=function(){return this.toString(16,2)},y&&(s.prototype.toBuffer=function(r,a){return this.toArrayLike(y,r,a)}),s.prototype.toArray=function(r,a){return this.toArrayLike(Array,r,a)};var R=function(r,a){return r.allocUnsafe?r.allocUnsafe(a):new r(a)};s.prototype.toArrayLike=function(r,a,d){this._strip();var v=this.byteLength(),l=d||Math.max(1,v);n(v<=l,"byte array longer than desired length"),n(l>0,"Requested array length <= 0");var o=R(r,l),p=a==="le"?"LE":"BE";return this["_toArrayLike"+p](o,v),o},s.prototype._toArrayLikeLE=function(r,a){for(var d=0,v=0,l=0,o=0;l<this.length;l++){var p=this.words[l]<<o|v;r[d++]=p&255,d<r.length&&(r[d++]=p>>8&255),d<r.length&&(r[d++]=p>>16&255),o===6?(d<r.length&&(r[d++]=p>>24&255),v=0,o=0):(v=p>>>24,o+=2)}if(d<r.length)for(r[d++]=v;d<r.length;)r[d++]=0},s.prototype._toArrayLikeBE=function(r,a){for(var d=r.length-1,v=0,l=0,o=0;l<this.length;l++){var p=this.words[l]<<o|v;r[d--]=p&255,d>=0&&(r[d--]=p>>8&255),d>=0&&(r[d--]=p>>16&255),o===6?(d>=0&&(r[d--]=p>>24&255),v=0,o=0):(v=p>>>24,o+=2)}if(d>=0)for(r[d--]=v;d>=0;)r[d--]=0},Math.clz32?s.prototype._countBits=function(r){return 32-Math.clz32(r)}:s.prototype._countBits=function(r){var a=r,d=0;return a>=4096&&(d+=13,a>>>=13),a>=64&&(d+=7,a>>>=7),a>=8&&(d+=4,a>>>=4),a>=2&&(d+=2,a>>>=2),d+a},s.prototype._zeroBits=function(r){if(r===0)return 26;var a=r,d=0;return(a&8191)==0&&(d+=13,a>>>=13),(a&127)==0&&(d+=7,a>>>=7),(a&15)==0&&(d+=4,a>>>=4),(a&3)==0&&(d+=2,a>>>=2),(a&1)==0&&d++,d},s.prototype.bitLength=function(){var r=this.words[this.length-1],a=this._countBits(r);return(this.length-1)*26+a};function B(h){for(var r=new Array(h.bitLength()),a=0;a<r.length;a++){var d=a/26|0,v=a%26;r[a]=h.words[d]>>>v&1}return r}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,a=0;a<this.length;a++){var d=this._zeroBits(this.words[a]);if(r+=d,d!==26)break}return r},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},s.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var a=0;a<r.length;a++)this.words[a]=this.words[a]|r.words[a];return this._strip()},s.prototype.ior=function(r){return n((this.negative|r.negative)==0),this.iuor(r)},s.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},s.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},s.prototype.iuand=function(r){var a;this.length>r.length?a=r:a=this;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]&r.words[d];return this.length=a.length,this._strip()},s.prototype.iand=function(r){return n((this.negative|r.negative)==0),this.iuand(r)},s.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},s.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},s.prototype.iuxor=function(r){var a,d;this.length>r.length?(a=this,d=r):(a=r,d=this);for(var v=0;v<d.length;v++)this.words[v]=a.words[v]^d.words[v];if(this!==a)for(;v<a.length;v++)this.words[v]=a.words[v];return this.length=a.length,this._strip()},s.prototype.ixor=function(r){return n((this.negative|r.negative)==0),this.iuxor(r)},s.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},s.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},s.prototype.inotn=function(r){n(typeof r=="number"&&r>=0);var a=Math.ceil(r/26)|0,d=r%26;this._expand(a),d>0&&a--;for(var v=0;v<a;v++)this.words[v]=~this.words[v]&67108863;return d>0&&(this.words[v]=~this.words[v]&67108863>>26-d),this._strip()},s.prototype.notn=function(r){return this.clone().inotn(r)},s.prototype.setn=function(r,a){n(typeof r=="number"&&r>=0);var d=r/26|0,v=r%26;return this._expand(d+1),a?this.words[d]=this.words[d]|1<<v:this.words[d]=this.words[d]&~(1<<v),this._strip()},s.prototype.iadd=function(r){var a;if(this.negative!==0&&r.negative===0)return this.negative=0,a=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,a=this.isub(r),r.negative=1,a._normSign();var d,v;this.length>r.length?(d=this,v=r):(d=r,v=this);for(var l=0,o=0;o<v.length;o++)a=(d.words[o]|0)+(v.words[o]|0)+l,this.words[o]=a&67108863,l=a>>>26;for(;l!==0&&o<d.length;o++)a=(d.words[o]|0)+l,this.words[o]=a&67108863,l=a>>>26;if(this.length=d.length,l!==0)this.words[this.length]=l,this.length++;else if(d!==this)for(;o<d.length;o++)this.words[o]=d.words[o];return this},s.prototype.add=function(r){var a;return r.negative!==0&&this.negative===0?(r.negative=0,a=this.sub(r),r.negative^=1,a):r.negative===0&&this.negative!==0?(this.negative=0,a=r.sub(this),this.negative=1,a):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},s.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var a=this.iadd(r);return r.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var d=this.cmp(r);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,l;d>0?(v=this,l=r):(v=r,l=this);for(var o=0,p=0;p<l.length;p++)a=(v.words[p]|0)-(l.words[p]|0)+o,o=a>>26,this.words[p]=a&67108863;for(;o!==0&&p<v.length;p++)a=(v.words[p]|0)+o,o=a>>26,this.words[p]=a&67108863;if(o===0&&p<v.length&&v!==this)for(;p<v.length;p++)this.words[p]=v.words[p];return this.length=Math.max(this.length,p),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(r){return this.clone().isub(r)};function I(h,r,a){a.negative=r.negative^h.negative;var d=h.length+r.length|0;a.length=d,d=d-1|0;var v=h.words[0]|0,l=r.words[0]|0,o=v*l,p=o&67108863,g=o/67108864|0;a.words[0]=p;for(var u=1;u<d;u++){for(var w=g>>>26,P=g&67108863,L=Math.min(u,r.length-1),U=Math.max(0,u-h.length+1);U<=L;U++){var Tt=u-U|0;v=h.words[Tt]|0,l=r.words[U]|0,o=v*l+P,w+=o/67108864|0,P=o&67108863}a.words[u]=P|0,g=w|0}return g!==0?a.words[u]=g|0:a.length--,a._strip()}var j=function(r,a,d){var v=r.words,l=a.words,o=d.words,p=0,g,u,w,P=v[0]|0,L=P&8191,U=P>>>13,Tt=v[1]|0,H=Tt&8191,V=Tt>>>13,Lt=v[2]|0,J=Lt&8191,X=Lt>>>13,Yt=v[3]|0,tt=Yt&8191,nt=Yt>>>13,le=v[4]|0,Z=le&8191,ot=le>>>13,Qt=v[5]|0,et=Qt&8191,G=Qt>>>13,jt=v[6]|0,Y=jt&8191,st=jt>>>13,Ne=v[7]|0,mt=Ne&8191,vt=Ne>>>13,Ee=v[8]|0,ut=Ee&8191,ht=Ee>>>13,Le=v[9]|0,lt=Le&8191,ct=Le>>>13,De=l[0]|0,gt=De&8191,rt=De>>>13,Se=l[1]|0,yt=Se&8191,dt=Se>>>13,Fe=l[2]|0,pt=Fe&8191,ft=Fe>>>13,Ue=l[3]|0,it=Ue&8191,wt=Ue>>>13,He=l[4]|0,bt=He&8191,Mt=He>>>13,qe=l[5]|0,Q=qe&8191,_t=qe>>>13,$e=l[6]|0,xt=$e&8191,Et=$e>>>13,Ke=l[7]|0,at=Ke&8191,St=Ke>>>13,We=l[8]|0,At=We&8191,Ot=We>>>13,Ce=l[9]|0,Rt=Ce&8191,It=Ce>>>13;d.negative=r.negative^a.negative,d.length=19,g=Math.imul(L,gt),u=Math.imul(L,rt),u=u+Math.imul(U,gt)|0,w=Math.imul(U,rt);var ce=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,g=Math.imul(H,gt),u=Math.imul(H,rt),u=u+Math.imul(V,gt)|0,w=Math.imul(V,rt),g=g+Math.imul(L,yt)|0,u=u+Math.imul(L,dt)|0,u=u+Math.imul(U,yt)|0,w=w+Math.imul(U,dt)|0;var de=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(de>>>26)|0,de&=67108863,g=Math.imul(J,gt),u=Math.imul(J,rt),u=u+Math.imul(X,gt)|0,w=Math.imul(X,rt),g=g+Math.imul(H,yt)|0,u=u+Math.imul(H,dt)|0,u=u+Math.imul(V,yt)|0,w=w+Math.imul(V,dt)|0,g=g+Math.imul(L,pt)|0,u=u+Math.imul(L,ft)|0,u=u+Math.imul(U,pt)|0,w=w+Math.imul(U,ft)|0;var pe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,g=Math.imul(tt,gt),u=Math.imul(tt,rt),u=u+Math.imul(nt,gt)|0,w=Math.imul(nt,rt),g=g+Math.imul(J,yt)|0,u=u+Math.imul(J,dt)|0,u=u+Math.imul(X,yt)|0,w=w+Math.imul(X,dt)|0,g=g+Math.imul(H,pt)|0,u=u+Math.imul(H,ft)|0,u=u+Math.imul(V,pt)|0,w=w+Math.imul(V,ft)|0,g=g+Math.imul(L,it)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(U,it)|0,w=w+Math.imul(U,wt)|0;var me=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(me>>>26)|0,me&=67108863,g=Math.imul(Z,gt),u=Math.imul(Z,rt),u=u+Math.imul(ot,gt)|0,w=Math.imul(ot,rt),g=g+Math.imul(tt,yt)|0,u=u+Math.imul(tt,dt)|0,u=u+Math.imul(nt,yt)|0,w=w+Math.imul(nt,dt)|0,g=g+Math.imul(J,pt)|0,u=u+Math.imul(J,ft)|0,u=u+Math.imul(X,pt)|0,w=w+Math.imul(X,ft)|0,g=g+Math.imul(H,it)|0,u=u+Math.imul(H,wt)|0,u=u+Math.imul(V,it)|0,w=w+Math.imul(V,wt)|0,g=g+Math.imul(L,bt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(U,bt)|0,w=w+Math.imul(U,Mt)|0;var ve=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,g=Math.imul(et,gt),u=Math.imul(et,rt),u=u+Math.imul(G,gt)|0,w=Math.imul(G,rt),g=g+Math.imul(Z,yt)|0,u=u+Math.imul(Z,dt)|0,u=u+Math.imul(ot,yt)|0,w=w+Math.imul(ot,dt)|0,g=g+Math.imul(tt,pt)|0,u=u+Math.imul(tt,ft)|0,u=u+Math.imul(nt,pt)|0,w=w+Math.imul(nt,ft)|0,g=g+Math.imul(J,it)|0,u=u+Math.imul(J,wt)|0,u=u+Math.imul(X,it)|0,w=w+Math.imul(X,wt)|0,g=g+Math.imul(H,bt)|0,u=u+Math.imul(H,Mt)|0,u=u+Math.imul(V,bt)|0,w=w+Math.imul(V,Mt)|0,g=g+Math.imul(L,Q)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(U,Q)|0,w=w+Math.imul(U,_t)|0;var ne=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,g=Math.imul(Y,gt),u=Math.imul(Y,rt),u=u+Math.imul(st,gt)|0,w=Math.imul(st,rt),g=g+Math.imul(et,yt)|0,u=u+Math.imul(et,dt)|0,u=u+Math.imul(G,yt)|0,w=w+Math.imul(G,dt)|0,g=g+Math.imul(Z,pt)|0,u=u+Math.imul(Z,ft)|0,u=u+Math.imul(ot,pt)|0,w=w+Math.imul(ot,ft)|0,g=g+Math.imul(tt,it)|0,u=u+Math.imul(tt,wt)|0,u=u+Math.imul(nt,it)|0,w=w+Math.imul(nt,wt)|0,g=g+Math.imul(J,bt)|0,u=u+Math.imul(J,Mt)|0,u=u+Math.imul(X,bt)|0,w=w+Math.imul(X,Mt)|0,g=g+Math.imul(H,Q)|0,u=u+Math.imul(H,_t)|0,u=u+Math.imul(V,Q)|0,w=w+Math.imul(V,_t)|0,g=g+Math.imul(L,xt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(U,xt)|0,w=w+Math.imul(U,Et)|0;var ge=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,g=Math.imul(mt,gt),u=Math.imul(mt,rt),u=u+Math.imul(vt,gt)|0,w=Math.imul(vt,rt),g=g+Math.imul(Y,yt)|0,u=u+Math.imul(Y,dt)|0,u=u+Math.imul(st,yt)|0,w=w+Math.imul(st,dt)|0,g=g+Math.imul(et,pt)|0,u=u+Math.imul(et,ft)|0,u=u+Math.imul(G,pt)|0,w=w+Math.imul(G,ft)|0,g=g+Math.imul(Z,it)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(ot,it)|0,w=w+Math.imul(ot,wt)|0,g=g+Math.imul(tt,bt)|0,u=u+Math.imul(tt,Mt)|0,u=u+Math.imul(nt,bt)|0,w=w+Math.imul(nt,Mt)|0,g=g+Math.imul(J,Q)|0,u=u+Math.imul(J,_t)|0,u=u+Math.imul(X,Q)|0,w=w+Math.imul(X,_t)|0,g=g+Math.imul(H,xt)|0,u=u+Math.imul(H,Et)|0,u=u+Math.imul(V,xt)|0,w=w+Math.imul(V,Et)|0,g=g+Math.imul(L,at)|0,u=u+Math.imul(L,St)|0,u=u+Math.imul(U,at)|0,w=w+Math.imul(U,St)|0;var te=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(te>>>26)|0,te&=67108863,g=Math.imul(ut,gt),u=Math.imul(ut,rt),u=u+Math.imul(ht,gt)|0,w=Math.imul(ht,rt),g=g+Math.imul(mt,yt)|0,u=u+Math.imul(mt,dt)|0,u=u+Math.imul(vt,yt)|0,w=w+Math.imul(vt,dt)|0,g=g+Math.imul(Y,pt)|0,u=u+Math.imul(Y,ft)|0,u=u+Math.imul(st,pt)|0,w=w+Math.imul(st,ft)|0,g=g+Math.imul(et,it)|0,u=u+Math.imul(et,wt)|0,u=u+Math.imul(G,it)|0,w=w+Math.imul(G,wt)|0,g=g+Math.imul(Z,bt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(ot,bt)|0,w=w+Math.imul(ot,Mt)|0,g=g+Math.imul(tt,Q)|0,u=u+Math.imul(tt,_t)|0,u=u+Math.imul(nt,Q)|0,w=w+Math.imul(nt,_t)|0,g=g+Math.imul(J,xt)|0,u=u+Math.imul(J,Et)|0,u=u+Math.imul(X,xt)|0,w=w+Math.imul(X,Et)|0,g=g+Math.imul(H,at)|0,u=u+Math.imul(H,St)|0,u=u+Math.imul(V,at)|0,w=w+Math.imul(V,St)|0,g=g+Math.imul(L,At)|0,u=u+Math.imul(L,Ot)|0,u=u+Math.imul(U,At)|0,w=w+Math.imul(U,Ot)|0;var oe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,g=Math.imul(lt,gt),u=Math.imul(lt,rt),u=u+Math.imul(ct,gt)|0,w=Math.imul(ct,rt),g=g+Math.imul(ut,yt)|0,u=u+Math.imul(ut,dt)|0,u=u+Math.imul(ht,yt)|0,w=w+Math.imul(ht,dt)|0,g=g+Math.imul(mt,pt)|0,u=u+Math.imul(mt,ft)|0,u=u+Math.imul(vt,pt)|0,w=w+Math.imul(vt,ft)|0,g=g+Math.imul(Y,it)|0,u=u+Math.imul(Y,wt)|0,u=u+Math.imul(st,it)|0,w=w+Math.imul(st,wt)|0,g=g+Math.imul(et,bt)|0,u=u+Math.imul(et,Mt)|0,u=u+Math.imul(G,bt)|0,w=w+Math.imul(G,Mt)|0,g=g+Math.imul(Z,Q)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(ot,Q)|0,w=w+Math.imul(ot,_t)|0,g=g+Math.imul(tt,xt)|0,u=u+Math.imul(tt,Et)|0,u=u+Math.imul(nt,xt)|0,w=w+Math.imul(nt,Et)|0,g=g+Math.imul(J,at)|0,u=u+Math.imul(J,St)|0,u=u+Math.imul(X,at)|0,w=w+Math.imul(X,St)|0,g=g+Math.imul(H,At)|0,u=u+Math.imul(H,Ot)|0,u=u+Math.imul(V,At)|0,w=w+Math.imul(V,Ot)|0,g=g+Math.imul(L,Rt)|0,u=u+Math.imul(L,It)|0,u=u+Math.imul(U,Rt)|0,w=w+Math.imul(U,It)|0;var ye=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,g=Math.imul(lt,yt),u=Math.imul(lt,dt),u=u+Math.imul(ct,yt)|0,w=Math.imul(ct,dt),g=g+Math.imul(ut,pt)|0,u=u+Math.imul(ut,ft)|0,u=u+Math.imul(ht,pt)|0,w=w+Math.imul(ht,ft)|0,g=g+Math.imul(mt,it)|0,u=u+Math.imul(mt,wt)|0,u=u+Math.imul(vt,it)|0,w=w+Math.imul(vt,wt)|0,g=g+Math.imul(Y,bt)|0,u=u+Math.imul(Y,Mt)|0,u=u+Math.imul(st,bt)|0,w=w+Math.imul(st,Mt)|0,g=g+Math.imul(et,Q)|0,u=u+Math.imul(et,_t)|0,u=u+Math.imul(G,Q)|0,w=w+Math.imul(G,_t)|0,g=g+Math.imul(Z,xt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(ot,xt)|0,w=w+Math.imul(ot,Et)|0,g=g+Math.imul(tt,at)|0,u=u+Math.imul(tt,St)|0,u=u+Math.imul(nt,at)|0,w=w+Math.imul(nt,St)|0,g=g+Math.imul(J,At)|0,u=u+Math.imul(J,Ot)|0,u=u+Math.imul(X,At)|0,w=w+Math.imul(X,Ot)|0,g=g+Math.imul(H,Rt)|0,u=u+Math.imul(H,It)|0,u=u+Math.imul(V,Rt)|0,w=w+Math.imul(V,It)|0;var ee=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ee>>>26)|0,ee&=67108863,g=Math.imul(lt,pt),u=Math.imul(lt,ft),u=u+Math.imul(ct,pt)|0,w=Math.imul(ct,ft),g=g+Math.imul(ut,it)|0,u=u+Math.imul(ut,wt)|0,u=u+Math.imul(ht,it)|0,w=w+Math.imul(ht,wt)|0,g=g+Math.imul(mt,bt)|0,u=u+Math.imul(mt,Mt)|0,u=u+Math.imul(vt,bt)|0,w=w+Math.imul(vt,Mt)|0,g=g+Math.imul(Y,Q)|0,u=u+Math.imul(Y,_t)|0,u=u+Math.imul(st,Q)|0,w=w+Math.imul(st,_t)|0,g=g+Math.imul(et,xt)|0,u=u+Math.imul(et,Et)|0,u=u+Math.imul(G,xt)|0,w=w+Math.imul(G,Et)|0,g=g+Math.imul(Z,at)|0,u=u+Math.imul(Z,St)|0,u=u+Math.imul(ot,at)|0,w=w+Math.imul(ot,St)|0,g=g+Math.imul(tt,At)|0,u=u+Math.imul(tt,Ot)|0,u=u+Math.imul(nt,At)|0,w=w+Math.imul(nt,Ot)|0,g=g+Math.imul(J,Rt)|0,u=u+Math.imul(J,It)|0,u=u+Math.imul(X,Rt)|0,w=w+Math.imul(X,It)|0;var ae=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,g=Math.imul(lt,it),u=Math.imul(lt,wt),u=u+Math.imul(ct,it)|0,w=Math.imul(ct,wt),g=g+Math.imul(ut,bt)|0,u=u+Math.imul(ut,Mt)|0,u=u+Math.imul(ht,bt)|0,w=w+Math.imul(ht,Mt)|0,g=g+Math.imul(mt,Q)|0,u=u+Math.imul(mt,_t)|0,u=u+Math.imul(vt,Q)|0,w=w+Math.imul(vt,_t)|0,g=g+Math.imul(Y,xt)|0,u=u+Math.imul(Y,Et)|0,u=u+Math.imul(st,xt)|0,w=w+Math.imul(st,Et)|0,g=g+Math.imul(et,at)|0,u=u+Math.imul(et,St)|0,u=u+Math.imul(G,at)|0,w=w+Math.imul(G,St)|0,g=g+Math.imul(Z,At)|0,u=u+Math.imul(Z,Ot)|0,u=u+Math.imul(ot,At)|0,w=w+Math.imul(ot,Ot)|0,g=g+Math.imul(tt,Rt)|0,u=u+Math.imul(tt,It)|0,u=u+Math.imul(nt,Rt)|0,w=w+Math.imul(nt,It)|0;var we=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,g=Math.imul(lt,bt),u=Math.imul(lt,Mt),u=u+Math.imul(ct,bt)|0,w=Math.imul(ct,Mt),g=g+Math.imul(ut,Q)|0,u=u+Math.imul(ut,_t)|0,u=u+Math.imul(ht,Q)|0,w=w+Math.imul(ht,_t)|0,g=g+Math.imul(mt,xt)|0,u=u+Math.imul(mt,Et)|0,u=u+Math.imul(vt,xt)|0,w=w+Math.imul(vt,Et)|0,g=g+Math.imul(Y,at)|0,u=u+Math.imul(Y,St)|0,u=u+Math.imul(st,at)|0,w=w+Math.imul(st,St)|0,g=g+Math.imul(et,At)|0,u=u+Math.imul(et,Ot)|0,u=u+Math.imul(G,At)|0,w=w+Math.imul(G,Ot)|0,g=g+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,It)|0,u=u+Math.imul(ot,Rt)|0,w=w+Math.imul(ot,It)|0;var be=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(be>>>26)|0,be&=67108863,g=Math.imul(lt,Q),u=Math.imul(lt,_t),u=u+Math.imul(ct,Q)|0,w=Math.imul(ct,_t),g=g+Math.imul(ut,xt)|0,u=u+Math.imul(ut,Et)|0,u=u+Math.imul(ht,xt)|0,w=w+Math.imul(ht,Et)|0,g=g+Math.imul(mt,at)|0,u=u+Math.imul(mt,St)|0,u=u+Math.imul(vt,at)|0,w=w+Math.imul(vt,St)|0,g=g+Math.imul(Y,At)|0,u=u+Math.imul(Y,Ot)|0,u=u+Math.imul(st,At)|0,w=w+Math.imul(st,Ot)|0,g=g+Math.imul(et,Rt)|0,u=u+Math.imul(et,It)|0,u=u+Math.imul(G,Rt)|0,w=w+Math.imul(G,It)|0;var Me=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(Me>>>26)|0,Me&=67108863,g=Math.imul(lt,xt),u=Math.imul(lt,Et),u=u+Math.imul(ct,xt)|0,w=Math.imul(ct,Et),g=g+Math.imul(ut,at)|0,u=u+Math.imul(ut,St)|0,u=u+Math.imul(ht,at)|0,w=w+Math.imul(ht,St)|0,g=g+Math.imul(mt,At)|0,u=u+Math.imul(mt,Ot)|0,u=u+Math.imul(vt,At)|0,w=w+Math.imul(vt,Ot)|0,g=g+Math.imul(Y,Rt)|0,u=u+Math.imul(Y,It)|0,u=u+Math.imul(st,Rt)|0,w=w+Math.imul(st,It)|0;var fe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,g=Math.imul(lt,at),u=Math.imul(lt,St),u=u+Math.imul(ct,at)|0,w=Math.imul(ct,St),g=g+Math.imul(ut,At)|0,u=u+Math.imul(ut,Ot)|0,u=u+Math.imul(ht,At)|0,w=w+Math.imul(ht,Ot)|0,g=g+Math.imul(mt,Rt)|0,u=u+Math.imul(mt,It)|0,u=u+Math.imul(vt,Rt)|0,w=w+Math.imul(vt,It)|0;var pr=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(pr>>>26)|0,pr&=67108863,g=Math.imul(lt,At),u=Math.imul(lt,Ot),u=u+Math.imul(ct,At)|0,w=Math.imul(ct,Ot),g=g+Math.imul(ut,Rt)|0,u=u+Math.imul(ut,It)|0,u=u+Math.imul(ht,Rt)|0,w=w+Math.imul(ht,It)|0;var mr=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(lt,Rt),u=Math.imul(lt,It),u=u+Math.imul(ct,Rt)|0,w=Math.imul(ct,It);var vr=(p+g|0)+((u&8191)<<13)|0;return p=(w+(u>>>13)|0)+(vr>>>26)|0,vr&=67108863,o[0]=ce,o[1]=de,o[2]=pe,o[3]=me,o[4]=ve,o[5]=ne,o[6]=ge,o[7]=te,o[8]=oe,o[9]=ye,o[10]=ee,o[11]=ae,o[12]=we,o[13]=be,o[14]=Me,o[15]=fe,o[16]=pr,o[17]=mr,o[18]=vr,p!==0&&(o[19]=p,d.length++),d};Math.imul||(j=I);function D(h,r,a){a.negative=r.negative^h.negative,a.length=h.length+r.length;for(var d=0,v=0,l=0;l<a.length-1;l++){var o=v;v=0;for(var p=d&67108863,g=Math.min(l,r.length-1),u=Math.max(0,l-h.length+1);u<=g;u++){var w=l-u,P=h.words[w]|0,L=r.words[u]|0,U=P*L,Tt=U&67108863;o=o+(U/67108864|0)|0,Tt=Tt+p|0,p=Tt&67108863,o=o+(Tt>>>26)|0,v+=o>>>26,o&=67108863}a.words[l]=p,d=o,o=v}return d!==0?a.words[l]=d:a.length--,a._strip()}function $(h,r,a){return D(h,r,a)}s.prototype.mulTo=function(r,a){var d,v=this.length+r.length;return this.length===10&&r.length===10?d=j(this,r,a):v<63?d=I(this,r,a):v<1024?d=D(this,r,a):d=$(this,r,a),d},s.prototype.mul=function(r){var a=new s(null);return a.words=new Array(this.length+r.length),this.mulTo(r,a)},s.prototype.mulf=function(r){var a=new s(null);return a.words=new Array(this.length+r.length),$(this,r,a)},s.prototype.imul=function(r){return this.clone().mulTo(r,this)},s.prototype.imuln=function(r){var a=r<0;a&&(r=-r),n(typeof r=="number"),n(r<67108864);for(var d=0,v=0;v<this.length;v++){var l=(this.words[v]|0)*r,o=(l&67108863)+(d&67108863);d>>=26,d+=l/67108864|0,d+=o>>>26,this.words[v]=o&67108863}return d!==0&&(this.words[v]=d,this.length++),a?this.ineg():this},s.prototype.muln=function(r){return this.clone().imuln(r)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(r){var a=B(r);if(a.length===0)return new s(1);for(var d=this,v=0;v<a.length&&a[v]===0;v++,d=d.sqr());if(++v<a.length)for(var l=d.sqr();v<a.length;v++,l=l.sqr())a[v]!==0&&(d=d.mul(l));return d},s.prototype.iushln=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26,v=67108863>>>26-a<<26-a,l;if(a!==0){var o=0;for(l=0;l<this.length;l++){var p=this.words[l]&v,g=(this.words[l]|0)-p<<a;this.words[l]=g|o,o=p>>>26-a}o&&(this.words[l]=o,this.length++)}if(d!==0){for(l=this.length-1;l>=0;l--)this.words[l+d]=this.words[l];for(l=0;l<d;l++)this.words[l]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(r){return n(this.negative===0),this.iushln(r)},s.prototype.iushrn=function(r,a,d){n(typeof r=="number"&&r>=0);var v;a?v=(a-a%26)/26:v=0;var l=r%26,o=Math.min((r-l)/26,this.length),p=67108863^67108863>>>l<<l,g=d;if(v-=o,v=Math.max(0,v),g){for(var u=0;u<o;u++)g.words[u]=this.words[u];g.length=o}if(o!==0)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=v);u--){var P=this.words[u]|0;this.words[u]=w<<26-l|P>>>l,w=P&p}return g&&w!==0&&(g.words[g.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(r,a,d){return n(this.negative===0),this.iushrn(r,a,d)},s.prototype.shln=function(r){return this.clone().ishln(r)},s.prototype.ushln=function(r){return this.clone().iushln(r)},s.prototype.shrn=function(r){return this.clone().ishrn(r)},s.prototype.ushrn=function(r){return this.clone().iushrn(r)},s.prototype.testn=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26,v=1<<a;if(this.length<=d)return!1;var l=this.words[d];return!!(l&v)},s.prototype.imaskn=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(a!==0&&d++,this.length=Math.min(d,this.length),a!==0){var v=67108863^67108863>>>a<<a;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(r){return this.clone().imaskn(r)},s.prototype.iaddn=function(r){return n(typeof r=="number"),n(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<=r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},s.prototype._iaddn=function(r){this.words[0]+=r;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},s.prototype.isubn=function(r){if(n(typeof r=="number"),n(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},s.prototype.addn=function(r){return this.clone().iaddn(r)},s.prototype.subn=function(r){return this.clone().isubn(r)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(r,a,d){var v=r.length+d,l;this._expand(v);var o,p=0;for(l=0;l<r.length;l++){o=(this.words[l+d]|0)+p;var g=(r.words[l]|0)*a;o-=g&67108863,p=(o>>26)-(g/67108864|0),this.words[l+d]=o&67108863}for(;l<this.length-d;l++)o=(this.words[l+d]|0)+p,p=o>>26,this.words[l+d]=o&67108863;if(p===0)return this._strip();for(n(p===-1),p=0,l=0;l<this.length;l++)o=-(this.words[l]|0)+p,p=o>>26,this.words[l]=o&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(r,a){var d=this.length-r.length,v=this.clone(),l=r,o=l.words[l.length-1]|0,p=this._countBits(o);d=26-p,d!==0&&(l=l.ushln(d),v.iushln(d),o=l.words[l.length-1]|0);var g=v.length-l.length,u;if(a!=="mod"){u=new s(null),u.length=g+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var P=v.clone()._ishlnsubmul(l,1,g);P.negative===0&&(v=P,u&&(u.words[g]=1));for(var L=g-1;L>=0;L--){var U=(v.words[l.length+L]|0)*67108864+(v.words[l.length+L-1]|0);for(U=Math.min(U/o|0,67108863),v._ishlnsubmul(l,U,L);v.negative!==0;)U--,v.negative=0,v._ishlnsubmul(l,1,L),v.isZero()||(v.negative^=1);u&&(u.words[L]=U)}return u&&u._strip(),v._strip(),a!=="div"&&d!==0&&v.iushrn(d),{div:u||null,mod:v}},s.prototype.divmod=function(r,a,d){if(n(!r.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,l,o;return this.negative!==0&&r.negative===0?(o=this.neg().divmod(r,a),a!=="mod"&&(v=o.div.neg()),a!=="div"&&(l=o.mod.neg(),d&&l.negative!==0&&l.iadd(r)),{div:v,mod:l}):this.negative===0&&r.negative!==0?(o=this.divmod(r.neg(),a),a!=="mod"&&(v=o.div.neg()),{div:v,mod:o.mod}):(this.negative&r.negative)!=0?(o=this.neg().divmod(r.neg(),a),a!=="div"&&(l=o.mod.neg(),d&&l.negative!==0&&l.isub(r)),{div:o.div,mod:l}):r.length>this.length||this.cmp(r)<0?{div:new s(0),mod:this}:r.length===1?a==="div"?{div:this.divn(r.words[0]),mod:null}:a==="mod"?{div:null,mod:new s(this.modrn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new s(this.modrn(r.words[0]))}:this._wordDiv(r,a)},s.prototype.div=function(r){return this.divmod(r,"div",!1).div},s.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},s.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},s.prototype.divRound=function(r){var a=this.divmod(r);if(a.mod.isZero())return a.div;var d=a.div.negative!==0?a.mod.isub(r):a.mod,v=r.ushrn(1),l=r.andln(1),o=d.cmp(v);return o<0||l===1&&o===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},s.prototype.modrn=function(r){var a=r<0;a&&(r=-r),n(r<=67108863);for(var d=(1<<26)%r,v=0,l=this.length-1;l>=0;l--)v=(d*v+(this.words[l]|0))%r;return a?-v:v},s.prototype.modn=function(r){return this.modrn(r)},s.prototype.idivn=function(r){var a=r<0;a&&(r=-r),n(r<=67108863);for(var d=0,v=this.length-1;v>=0;v--){var l=(this.words[v]|0)+d*67108864;this.words[v]=l/r|0,d=l%r}return this._strip(),a?this.ineg():this},s.prototype.divn=function(r){return this.clone().idivn(r)},s.prototype.egcd=function(r){n(r.negative===0),n(!r.isZero());var a=this,d=r.clone();a.negative!==0?a=a.umod(r):a=a.clone();for(var v=new s(1),l=new s(0),o=new s(0),p=new s(1),g=0;a.isEven()&&d.isEven();)a.iushrn(1),d.iushrn(1),++g;for(var u=d.clone(),w=a.clone();!a.isZero();){for(var P=0,L=1;(a.words[0]&L)==0&&P<26;++P,L<<=1);if(P>0)for(a.iushrn(P);P-- >0;)(v.isOdd()||l.isOdd())&&(v.iadd(u),l.isub(w)),v.iushrn(1),l.iushrn(1);for(var U=0,Tt=1;(d.words[0]&Tt)==0&&U<26;++U,Tt<<=1);if(U>0)for(d.iushrn(U);U-- >0;)(o.isOdd()||p.isOdd())&&(o.iadd(u),p.isub(w)),o.iushrn(1),p.iushrn(1);a.cmp(d)>=0?(a.isub(d),v.isub(o),l.isub(p)):(d.isub(a),o.isub(v),p.isub(l))}return{a:o,b:p,gcd:d.iushln(g)}},s.prototype._invmp=function(r){n(r.negative===0),n(!r.isZero());var a=this,d=r.clone();a.negative!==0?a=a.umod(r):a=a.clone();for(var v=new s(1),l=new s(0),o=d.clone();a.cmpn(1)>0&&d.cmpn(1)>0;){for(var p=0,g=1;(a.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(a.iushrn(p);p-- >0;)v.isOdd()&&v.iadd(o),v.iushrn(1);for(var u=0,w=1;(d.words[0]&w)==0&&u<26;++u,w<<=1);if(u>0)for(d.iushrn(u);u-- >0;)l.isOdd()&&l.iadd(o),l.iushrn(1);a.cmp(d)>=0?(a.isub(d),v.isub(l)):(d.isub(a),l.isub(v))}var P;return a.cmpn(1)===0?P=v:P=l,P.cmpn(0)<0&&P.iadd(r),P},s.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var a=this.clone(),d=r.clone();a.negative=0,d.negative=0;for(var v=0;a.isEven()&&d.isEven();v++)a.iushrn(1),d.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;d.isEven();)d.iushrn(1);var l=a.cmp(d);if(l<0){var o=a;a=d,d=o}else if(l===0||d.cmpn(1)===0)break;a.isub(d)}while(!0);return d.iushln(v)},s.prototype.invm=function(r){return this.egcd(r).a.umod(r)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(r){return this.words[0]&r},s.prototype.bincn=function(r){n(typeof r=="number");var a=r%26,d=(r-a)/26,v=1<<a;if(this.length<=d)return this._expand(d+1),this.words[d]|=v,this;for(var l=v,o=d;l!==0&&o<this.length;o++){var p=this.words[o]|0;p+=l,l=p>>>26,p&=67108863,this.words[o]=p}return l!==0&&(this.words[o]=l,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(r){var a=r<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var d;if(this.length>1)d=1;else{a&&(r=-r),n(r<=67108863,"Number is too big");var v=this.words[0]|0;d=v===r?0:v<r?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var a=this.ucmp(r);return this.negative!==0?-a|0:a},s.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var a=0,d=this.length-1;d>=0;d--){var v=this.words[d]|0,l=r.words[d]|0;if(v!==l){v<l?a=-1:v>l&&(a=1);break}}return a},s.prototype.gtn=function(r){return this.cmpn(r)===1},s.prototype.gt=function(r){return this.cmp(r)===1},s.prototype.gten=function(r){return this.cmpn(r)>=0},s.prototype.gte=function(r){return this.cmp(r)>=0},s.prototype.ltn=function(r){return this.cmpn(r)===-1},s.prototype.lt=function(r){return this.cmp(r)===-1},s.prototype.lten=function(r){return this.cmpn(r)<=0},s.prototype.lte=function(r){return this.cmp(r)<=0},s.prototype.eqn=function(r){return this.cmpn(r)===0},s.prototype.eq=function(r){return this.cmp(r)===0},s.red=function(r){return new f(r)},s.prototype.toRed=function(r){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(r){return this.red=r,this},s.prototype.forceRed=function(r){return n(!this.red,"Already a number in reduction context"),this._forceRed(r)},s.prototype.redAdd=function(r){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},s.prototype.redIAdd=function(r){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},s.prototype.redSub=function(r){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},s.prototype.redISub=function(r){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},s.prototype.redShl=function(r){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},s.prototype.redMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},s.prototype.redIMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(r){return n(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var z={k256:null,p224:null,p192:null,p25519:null};function K(h,r){this.name=h,this.p=new s(r,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var r=new s(null);return r.words=new Array(Math.ceil(this.n/13)),r},K.prototype.ireduce=function(r){var a=r,d;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),d=a.bitLength();while(d>this.n);var v=d<this.n?-1:a.ucmp(this.p);return v===0?(a.words[0]=0,a.length=1):v>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},K.prototype.split=function(r,a){r.iushrn(this.n,0,a)},K.prototype.imulK=function(r){return r.imul(this.k)};function O(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(O,K),O.prototype.split=function(r,a){for(var d=4194303,v=Math.min(r.length,9),l=0;l<v;l++)a.words[l]=r.words[l];if(a.length=v,r.length<=9){r.words[0]=0,r.length=1;return}var o=r.words[9];for(a.words[a.length++]=o&d,l=10;l<r.length;l++){var p=r.words[l]|0;r.words[l-10]=(p&d)<<4|o>>>22,o=p}o>>>=22,r.words[l-10]=o,o===0&&r.length>10?r.length-=10:r.length-=9},O.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var a=0,d=0;d<r.length;d++){var v=r.words[d]|0;a+=v*977,r.words[d]=a&67108863,a=v*64+(a/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function N(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(N,K);function W(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(W,K);function b(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(b,K),b.prototype.imulK=function(r){for(var a=0,d=0;d<r.length;d++){var v=(r.words[d]|0)*19+a,l=v&67108863;v>>>=26,r.words[d]=l,a=v}return a!==0&&(r.words[r.length++]=a),r},s._prime=function(r){if(z[r])return z[r];var a;if(r==="k256")a=new O;else if(r==="p224")a=new N;else if(r==="p192")a=new W;else if(r==="p25519")a=new b;else throw new Error("Unknown prime "+r);return z[r]=a,a};function f(h){if(typeof h=="string"){var r=s._prime(h);this.m=r.p,this.prime=r}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}f.prototype._verify1=function(r){n(r.negative===0,"red works only with positives"),n(r.red,"red works only with red numbers")},f.prototype._verify2=function(r,a){n((r.negative|a.negative)==0,"red works only with positives"),n(r.red&&r.red===a.red,"red works only with red numbers")},f.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):(E(r,r.umod(this.m)._forceRed(this)),r)},f.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},f.prototype.add=function(r,a){this._verify2(r,a);var d=r.add(a);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},f.prototype.iadd=function(r,a){this._verify2(r,a);var d=r.iadd(a);return d.cmp(this.m)>=0&&d.isub(this.m),d},f.prototype.sub=function(r,a){this._verify2(r,a);var d=r.sub(a);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},f.prototype.isub=function(r,a){this._verify2(r,a);var d=r.isub(a);return d.cmpn(0)<0&&d.iadd(this.m),d},f.prototype.shl=function(r,a){return this._verify1(r),this.imod(r.ushln(a))},f.prototype.imul=function(r,a){return this._verify2(r,a),this.imod(r.imul(a))},f.prototype.mul=function(r,a){return this._verify2(r,a),this.imod(r.mul(a))},f.prototype.isqr=function(r){return this.imul(r,r.clone())},f.prototype.sqr=function(r){return this.mul(r,r)},f.prototype.sqrt=function(r){if(r.isZero())return r.clone();var a=this.m.andln(3);if(n(a%2==1),a===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(r,d)}for(var v=this.m.subn(1),l=0;!v.isZero()&&v.andln(1)===0;)l++,v.iushrn(1);n(!v.isZero());var o=new s(1).toRed(this),p=o.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,g).cmp(p)!==0;)u.redIAdd(p);for(var w=this.pow(u,v),P=this.pow(r,v.addn(1).iushrn(1)),L=this.pow(r,v),U=l;L.cmp(o)!==0;){for(var Tt=L,H=0;Tt.cmp(o)!==0;H++)Tt=Tt.redSqr();n(H<U);var V=this.pow(w,new s(1).iushln(U-H-1));P=P.redMul(V),w=V.redSqr(),L=L.redMul(w),U=H}return P},f.prototype.invm=function(r){var a=r._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},f.prototype.pow=function(r,a){if(a.isZero())return new s(1).toRed(this);if(a.cmpn(1)===0)return r.clone();var d=4,v=new Array(1<<d);v[0]=new s(1).toRed(this),v[1]=r;for(var l=2;l<v.length;l++)v[l]=this.mul(v[l-1],r);var o=v[0],p=0,g=0,u=a.bitLength()%26;for(u===0&&(u=26),l=a.length-1;l>=0;l--){for(var w=a.words[l],P=u-1;P>=0;P--){var L=w>>P&1;if(o!==v[0]&&(o=this.sqr(o)),L===0&&p===0){g=0;continue}p<<=1,p|=L,g++,!(g!==d&&(l!==0||P!==0))&&(o=this.mul(o,v[p]),g=0,p=0)}u=26}return o},f.prototype.convertTo=function(r){var a=r.umod(this.m);return a===r?a.clone():a},f.prototype.convertFrom=function(r){var a=r.clone();return a.red=null,a},s.mont=function(r){return new m(r)};function m(h){f.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(m,f),m.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},m.prototype.convertFrom=function(r){var a=this.imod(r.mul(this.rinv));return a.red=null,a},m.prototype.imul=function(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var d=r.imul(a),v=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=d.isub(v).iushrn(this.shift),o=l;return l.cmp(this.m)>=0?o=l.isub(this.m):l.cmpn(0)<0&&(o=l.iadd(this.m)),o._forceRed(this)},m.prototype.mul=function(r,a){if(r.isZero()||a.isZero())return new s(0)._forceRed(this);var d=r.mul(a),v=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=d.isub(v).iushrn(this.shift),o=l;return l.cmp(this.m)>=0?o=l.isub(this.m):l.cmpn(0)<0&&(o=l.iadd(this.m)),o._forceRed(this)},m.prototype.invm=function(r){var a=this.imod(r._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(t,Pt)})(Tr);(function(t){var e=Pt&&Pt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var i=ao.Buffer,n=e(Tr.exports);t.MAX_INTEGER=new n.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new n.default("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=i.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=i.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=i.from(t.KECCAK256_RLP_S,"hex")})(uo);var ho={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.isHexString=Wt.getKeys=Wt.fromAscii=Wt.fromUtf8=Wt.toAscii=Wt.arrayContainsArray=Wt.getBinarySize=Wt.padToEven=Wt.stripHexPrefix=Wt.isHexPrefixed=void 0;function Xs(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof t);return t[0]==="0"&&t[1]==="x"}Wt.isHexPrefixed=Xs;var qh=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof t);return Xs(t)?t.slice(2):t};Wt.stripHexPrefix=qh;function Ys(t){var e=t;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received "+typeof e);return e.length%2&&(e="0"+e),e}Wt.padToEven=Ys;function $h(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved "+typeof t);return Buffer.byteLength(t,"utf8")}Wt.getBinarySize=$h;function Kh(t,e,i){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '"+typeof e+"'");return e[i?"some":"every"](function(n){return t.indexOf(n)>=0})}Wt.arrayContainsArray=Kh;function Wh(t){var e="",i=0,n=t.length;for(t.substring(0,2)==="0x"&&(i=2);i<n;i+=2){var c=parseInt(t.substr(i,2),16);e+=String.fromCharCode(c)}return e}Wt.toAscii=Wh;function zh(t){var e=Buffer.from(t,"utf8");return"0x"+Ys(e.toString("hex")).replace(/^0+|0+$/g,"")}Wt.fromUtf8=zh;function Vh(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i),c=n.toString(16);e+=c.length<2?"0"+c:c}return"0x"+e}Wt.fromAscii=Vh;function Gh(t,e,i){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof t);if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof t);for(var n=[],c=0;c<t.length;c++){var s=t[c][e];if(i&&!s)s="";else if(typeof s!="string")throw new Error("invalid abi - expected type 'string', received "+typeof s);n.push(s)}return n}Wt.getKeys=Gh;function Zh(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}Wt.isHexString=Zh;var Pr={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.assertIsString=Ve.assertIsArray=Ve.assertIsBuffer=Ve.assertIsHexString=void 0;var Jh=Wt,Xh=function(t){if(!(0,Jh.isHexString)(t)){var e="This method only supports 0x-prefixed hex strings but input was: "+t;throw new Error(e)}};Ve.assertIsHexString=Xh;var Yh=function(t){if(!Buffer.isBuffer(t)){var e="This method only supports Buffer but input was: "+t;throw new Error(e)}};Ve.assertIsBuffer=Yh;var Qh=function(t){if(!Array.isArray(t)){var e="This method only supports number arrays but input was: "+t;throw new Error(e)}};Ve.assertIsArray=Qh;var tl=function(t){if(typeof t!="string"){var e="This method only supports strings but input was: "+t;throw new Error(e)}};Ve.assertIsString=tl;(function(t){var e=Pt&&Pt.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.toUtf8=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;var i=e(Tr.exports),n=Wt,c=Ve,s=function(O){if(!Number.isSafeInteger(O)||O<0)throw new Error("Received an invalid integer type: "+O);return"0x"+O.toString(16)};t.intToHex=s;var y=function(O){var N=(0,t.intToHex)(O);return Buffer.from((0,n.padToEven)(N.slice(2)),"hex")};t.intToBuffer=y;var _=function(O){return Buffer.allocUnsafe(O).fill(0)};t.zeros=_;var M=function(O,N,W){var b=(0,t.zeros)(N);return W?O.length<N?(O.copy(b),b):O.slice(0,N):O.length<N?(O.copy(b,N-O.length),b):O.slice(-N)},x=function(O,N){return(0,c.assertIsBuffer)(O),M(O,N,!1)};t.setLengthLeft=x;var E=function(O,N){return(0,c.assertIsBuffer)(O),M(O,N,!0)};t.setLengthRight=E;var A=function(O){for(var N=O[0];O.length>0&&N.toString()==="0";)O=O.slice(1),N=O[0];return O},S=function(O){return(0,c.assertIsBuffer)(O),A(O)};t.unpadBuffer=S;var k=function(O){return(0,c.assertIsArray)(O),A(O)};t.unpadArray=k;var C=function(O){return(0,c.assertIsHexString)(O),O=(0,n.stripHexPrefix)(O),A(O)};t.unpadHexString=C;var R=function(O){if(O==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(O)||Array.isArray(O)||O instanceof Uint8Array)return Buffer.from(O);if(typeof O=="string"){if(!(0,n.isHexString)(O))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+O);return Buffer.from((0,n.padToEven)((0,n.stripHexPrefix)(O)),"hex")}if(typeof O=="number")return(0,t.intToBuffer)(O);if(i.default.isBN(O))return O.toArrayLike(Buffer);if(O.toArray)return Buffer.from(O.toArray());if(O.toBuffer)return Buffer.from(O.toBuffer());throw new Error("invalid type")};t.toBuffer=R;var B=function(O){return new i.default((0,t.toBuffer)(O)).toNumber()};t.bufferToInt=B;var I=function(O){return O=(0,t.toBuffer)(O),"0x"+O.toString("hex")};t.bufferToHex=I;var j=function(O){return new i.default(O).fromTwos(256)};t.fromSigned=j;var D=function(O){return Buffer.from(O.toTwos(256).toArray())};t.toUnsigned=D;var $=function(O){return typeof O!="string"||(0,n.isHexPrefixed)(O)?O:"0x"+O};t.addHexPrefix=$;var z=function(O){var N=/^(00)+|(00)+$/g;if(O=(0,n.stripHexPrefix)(O),O.length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var W=Buffer.from(O.replace(N,""),"hex");return W.toString("utf8")};t.toUtf8=z;var K=function(O){if(Buffer.isBuffer(O))return"0x"+O.toString("hex");if(O instanceof Array){for(var N=[],W=0;W<O.length;W++)N.push((0,t.baToJSON)(O[W]));return N}};t.baToJSON=K})(Pr);var Yi={};(function(t){var e=Pt&&Pt.__createBinding||(Object.create?function(O,N,W,b){b===void 0&&(b=W),Object.defineProperty(O,b,{enumerable:!0,get:function(){return N[W]}})}:function(O,N,W,b){b===void 0&&(b=W),O[b]=N[W]}),i=Pt&&Pt.__setModuleDefault||(Object.create?function(O,N){Object.defineProperty(O,"default",{enumerable:!0,value:N})}:function(O,N){O.default=N}),n=Pt&&Pt.__importStar||function(O){if(O&&O.__esModule)return O;var N={};if(O!=null)for(var W in O)W!=="default"&&Object.prototype.hasOwnProperty.call(O,W)&&e(N,O,W);return i(N,O),N};Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160FromArray=t.ripemd160FromString=t.ripemd160=t.sha256FromArray=t.sha256FromString=t.sha256=t.keccakFromArray=t.keccakFromHexString=t.keccakFromString=t.keccak256=t.keccak=void 0;var c=Ch,s=Ds,y=n(Zi),_=Pr,M=Ve,x=function(O,N){switch(N===void 0&&(N=256),(0,M.assertIsBuffer)(O),N){case 224:return(0,c.keccak224)(O);case 256:return(0,c.keccak256)(O);case 384:return(0,c.keccak384)(O);case 512:return(0,c.keccak512)(O);default:throw new Error("Invald algorithm: keccak"+N)}};t.keccak=x;var E=function(O){return(0,t.keccak)(O)};t.keccak256=E;var A=function(O,N){N===void 0&&(N=256),(0,M.assertIsString)(O);var W=Buffer.from(O,"utf8");return(0,t.keccak)(W,N)};t.keccakFromString=A;var S=function(O,N){return N===void 0&&(N=256),(0,M.assertIsHexString)(O),(0,t.keccak)((0,_.toBuffer)(O),N)};t.keccakFromHexString=S;var k=function(O,N){return N===void 0&&(N=256),(0,M.assertIsArray)(O),(0,t.keccak)((0,_.toBuffer)(O),N)};t.keccakFromArray=k;var C=function(O){return O=(0,_.toBuffer)(O),s("sha256").update(O).digest()},R=function(O){return(0,M.assertIsBuffer)(O),C(O)};t.sha256=R;var B=function(O){return(0,M.assertIsString)(O),C(O)};t.sha256FromString=B;var I=function(O){return(0,M.assertIsArray)(O),C(O)};t.sha256FromArray=I;var j=function(O,N){O=(0,_.toBuffer)(O);var W=s("rmd160").update(O).digest();return N===!0?(0,_.setLengthLeft)(W,32):W},D=function(O,N){return(0,M.assertIsBuffer)(O),j(O,N)};t.ripemd160=D;var $=function(O,N){return(0,M.assertIsString)(O),j(O,N)};t.ripemd160FromString=$;var z=function(O,N){return(0,M.assertIsArray)(O),j(O,N)};t.ripemd160FromArray=z;var K=function(O){return(0,t.keccak)(y.encode(O))};t.rlphash=K})(Yi);var Qi={};(function(t){var e=Pt&&Pt.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=t.bnToRlp=t.bnToUnpaddedBuffer=t.bnToHex=void 0;var i=e(Tr.exports),n=Wt,c=Pr;function s(E){return"0x"+E.toString(16)}t.bnToHex=s;function y(E){return(0,c.unpadBuffer)(E.toArrayLike(Buffer))}t.bnToUnpaddedBuffer=y;function _(E){return y(E)}t.bnToRlp=_;var M;(function(E){E[E.Number=0]="Number",E[E.BN=1]="BN",E[E.Buffer=2]="Buffer",E[E.PrefixedHexString=3]="PrefixedHexString"})(M=t.TypeOutput||(t.TypeOutput={}));function x(E,A){if(E===null)return null;if(E!==void 0){if(typeof E=="string"&&!(0,n.isHexString)(E))throw new Error("A string must be provided with a 0x-prefix, given: "+E);if(typeof E=="number"&&!Number.isSafeInteger(E))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var S=(0,c.toBuffer)(E);if(A===M.Buffer)return S;if(A===M.BN)return new i.default(S);if(A===M.Number){var k=new i.default(S),C=new i.default(Number.MAX_SAFE_INTEGER.toString());if(k.gt(C))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return k.toNumber()}else return"0x"+S.toString("hex")}}t.toType=x})(Qi);(function(t){var e=Pt&&Pt.__createBinding||(Object.create?function(r,a,d,v){v===void 0&&(v=d),Object.defineProperty(r,v,{enumerable:!0,get:function(){return a[d]}})}:function(r,a,d,v){v===void 0&&(v=d),r[v]=a[d]}),i=Pt&&Pt.__setModuleDefault||(Object.create?function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}:function(r,a){r.default=a}),n=Pt&&Pt.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var d in r)d!=="default"&&Object.prototype.hasOwnProperty.call(r,d)&&e(a,r,d);return i(a,r),a},c=Pt&&Pt.__read||function(r,a){var d=typeof Symbol=="function"&&r[Symbol.iterator];if(!d)return r;var v=d.call(r),l,o=[],p;try{for(;(a===void 0||a-- >0)&&!(l=v.next()).done;)o.push(l.value)}catch(g){p={error:g}}finally{try{l&&!l.done&&(d=v.return)&&d.call(v)}finally{if(p)throw p.error}}return o},s=Pt&&Pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var y=s(Qe),_=s(Tr.exports),M=n(Zi),x=Fs,E=Wt,A=uo,S=Pr,k=Yi,C=Ve,R=Qi,B=function(){function r(a,d,v,l){a===void 0&&(a=new _.default(0)),d===void 0&&(d=new _.default(0)),v===void 0&&(v=A.KECCAK256_RLP),l===void 0&&(l=A.KECCAK256_NULL),this.nonce=a,this.balance=d,this.stateRoot=v,this.codeHash=l,this._validate()}return r.fromAccountData=function(a){var d=a.nonce,v=a.balance,l=a.stateRoot,o=a.codeHash;return new r(d?new _.default((0,S.toBuffer)(d)):void 0,v?new _.default((0,S.toBuffer)(v)):void 0,l?(0,S.toBuffer)(l):void 0,o?(0,S.toBuffer)(o):void 0)},r.fromRlpSerializedAccount=function(a){var d=M.decode(a);if(!Array.isArray(d))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(d)},r.fromValuesArray=function(a){var d=c(a,4),v=d[0],l=d[1],o=d[2],p=d[3];return new r(new _.default(v),new _.default(l),o,p)},r.prototype._validate=function(){if(this.nonce.lt(new _.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new _.default(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[(0,R.bnToUnpaddedBuffer)(this.nonce),(0,R.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return M.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(A.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(A.KECCAK256_NULL)},r}();t.Account=B;var I=function(r){try{(0,C.assertIsString)(r)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(r)};t.isValidAddress=I;var j=function(r,a){(0,C.assertIsHexString)(r);var d=(0,E.stripHexPrefix)(r).toLowerCase(),v="";if(a){var l=(0,R.toType)(a,R.TypeOutput.BN);v=l.toString()+"0x"}for(var o=(0,k.keccakFromString)(v+d).toString("hex"),p="0x",g=0;g<d.length;g++)parseInt(o[g],16)>=8?p+=d[g].toUpperCase():p+=d[g];return p};t.toChecksumAddress=j;var D=function(r,a){return(0,t.isValidAddress)(r)&&(0,t.toChecksumAddress)(r,a)===r};t.isValidChecksumAddress=D;var $=function(r,a){(0,C.assertIsBuffer)(r),(0,C.assertIsBuffer)(a);var d=new _.default(a);return d.isZero()?(0,k.rlphash)([r,null]).slice(-20):(0,k.rlphash)([r,Buffer.from(d.toArray())]).slice(-20)};t.generateAddress=$;var z=function(r,a,d){(0,C.assertIsBuffer)(r),(0,C.assertIsBuffer)(a),(0,C.assertIsBuffer)(d),(0,y.default)(r.length===20),(0,y.default)(a.length===32);var v=(0,k.keccak256)(Buffer.concat([Buffer.from("ff","hex"),r,a,(0,k.keccak256)(d)]));return v.slice(-20)};t.generateAddress2=z;var K=function(r){return(0,x.privateKeyVerify)(r)};t.isValidPrivate=K;var O=function(r,a){return a===void 0&&(a=!1),(0,C.assertIsBuffer)(r),r.length===64?(0,x.publicKeyVerify)(Buffer.concat([Buffer.from([4]),r])):a?(0,x.publicKeyVerify)(r):!1};t.isValidPublic=O;var N=function(r,a){return a===void 0&&(a=!1),(0,C.assertIsBuffer)(r),a&&r.length!==64&&(r=Buffer.from((0,x.publicKeyConvert)(r,!1).slice(1))),(0,y.default)(r.length===64),(0,k.keccak)(r).slice(-20)};t.pubToAddress=N,t.publicToAddress=t.pubToAddress;var W=function(r){return(0,C.assertIsBuffer)(r),Buffer.from((0,x.publicKeyCreate)(r,!1)).slice(1)};t.privateToPublic=W;var b=function(r){return(0,t.publicToAddress)((0,t.privateToPublic)(r))};t.privateToAddress=b;var f=function(r){return(0,C.assertIsBuffer)(r),r.length!==64&&(r=Buffer.from((0,x.publicKeyConvert)(r,!1).slice(1))),r};t.importPublic=f;var m=function(){var r=20,a=(0,S.zeros)(r);return(0,S.bufferToHex)(a)};t.zeroAddress=m;var h=function(r){try{(0,C.assertIsString)(r)}catch{return!1}var a=(0,t.zeroAddress)();return a===r};t.isZeroAddress=h})(ho);var tn={},Qs=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.Address=void 0;var Ur=Qs(Qe),en=Qs(Tr.exports),ta=Pr,_i=ho,el=function(){function t(e){(0,Ur.default)(e.length===20,"Invalid address length"),this.buf=e}return t.zero=function(){return new t((0,ta.zeros)(20))},t.fromString=function(e){return(0,Ur.default)((0,_i.isValidAddress)(e),"Invalid address"),new t((0,ta.toBuffer)(e))},t.fromPublicKey=function(e){(0,Ur.default)(Buffer.isBuffer(e),"Public key should be Buffer");var i=(0,_i.pubToAddress)(e);return new t(i)},t.fromPrivateKey=function(e){(0,Ur.default)(Buffer.isBuffer(e),"Private key should be Buffer");var i=(0,_i.privateToAddress)(e);return new t(i)},t.generate=function(e,i){return(0,Ur.default)(en.default.isBN(i)),new t((0,_i.generateAddress)(e.buf,i.toArrayLike(Buffer)))},t.generate2=function(e,i,n){return(0,Ur.default)(Buffer.isBuffer(i)),(0,Ur.default)(Buffer.isBuffer(n)),new t((0,_i.generateAddress2)(e.buf,i,n))},t.prototype.equals=function(e){return this.buf.equals(e.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var e=new en.default(this.buf),i=new en.default(0),n=new en.default("ffff","hex");return e.gte(i)&&e.lte(n)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return Buffer.from(this.buf)},t}();tn.Address=el;var Oe={},rl=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.hashPersonalMessage=Oe.isValidSignature=Oe.fromRpcSig=Oe.toCompactSig=Oe.toRpcSig=Oe.ecrecover=Oe.ecsign=void 0;var lo=Fs,xi=rl(Tr.exports),tr=Pr,il=Yi,nl=Ve,Cr=Qi;function ol(t,e,i){var n=(0,lo.ecdsaSign)(t,e),c=n.signature,s=n.recid,y=Buffer.from(c.slice(0,32)),_=Buffer.from(c.slice(32,64));if(!i||typeof i=="number"){if(i&&!Number.isSafeInteger(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var M=i?s+(i*2+35):s+27;return{r:y,s:_,v:M}}var x=(0,Cr.toType)(i,Cr.TypeOutput.BN),E=x.muln(2).addn(35).addn(s).toArrayLike(Buffer);return{r:y,s:_,v:E}}Oe.ecsign=ol;function rn(t,e){var i=(0,Cr.toType)(t,Cr.TypeOutput.BN);if(!e)return i.subn(27);var n=(0,Cr.toType)(e,Cr.TypeOutput.BN);return i.sub(n.muln(2).addn(35))}function nn(t){var e=new xi.default(t);return e.eqn(0)||e.eqn(1)}var sl=function(t,e,i,n,c){var s=Buffer.concat([(0,tr.setLengthLeft)(i,32),(0,tr.setLengthLeft)(n,32)],64),y=rn(e,c);if(!nn(y))throw new Error("Invalid signature v value");var _=(0,lo.ecdsaRecover)(s,y.toNumber(),t);return Buffer.from((0,lo.publicKeyConvert)(_,!1).slice(1))};Oe.ecrecover=sl;var al=function(t,e,i,n){var c=rn(t,n);if(!nn(c))throw new Error("Invalid signature v value");return(0,tr.bufferToHex)(Buffer.concat([(0,tr.setLengthLeft)(e,32),(0,tr.setLengthLeft)(i,32),(0,tr.toBuffer)(t)]))};Oe.toRpcSig=al;var fl=function(t,e,i,n){var c=rn(t,n);if(!nn(c))throw new Error("Invalid signature v value");var s=(0,Cr.toType)(t,Cr.TypeOutput.Number),y=i;return(s>28&&s%2==1||s===1||s===28)&&(y=Buffer.from(i),y[0]|=128),(0,tr.bufferToHex)(Buffer.concat([(0,tr.setLengthLeft)(e,32),(0,tr.setLengthLeft)(y,32)]))};Oe.toCompactSig=fl;var ul=function(t){var e=(0,tr.toBuffer)(t),i,n,c;if(e.length>=65)i=e.slice(0,32),n=e.slice(32,64),c=(0,tr.bufferToInt)(e.slice(64));else if(e.length===64)i=e.slice(0,32),n=e.slice(32,64),c=(0,tr.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return c<27&&(c+=27),{v:c,r:i,s:n}};Oe.fromRpcSig=ul;var hl=function(t,e,i,n,c){n===void 0&&(n=!0);var s=new xi.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),y=new xi.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||i.length!==32||!nn(rn(t,c)))return!1;var _=new xi.default(e),M=new xi.default(i);return!(_.isZero()||_.gt(y)||M.isZero()||M.gt(y)||n&&M.cmp(s)===1)};Oe.isValidSignature=hl;var ll=function(t){(0,nl.assertIsBuffer)(t);var e=Buffer.from(`Ethereum Signed Message:
`+t.length,"utf-8");return(0,il.keccak)(Buffer.concat([e,t]))};Oe.hashPersonalMessage=ll;var on={},cl=Pt&&Pt.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),dl=Pt&&Pt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pl=Pt&&Pt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&cl(e,t,i);return dl(e,t),e},ml=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});on.defineProperties=void 0;var ea=ml(Qe),vl=Wt,ra=pl(Zi),sn=Pr,gl=function(t,e,i){if(t.raw=[],t._fields=[],t.toJSON=function(c){if(c===void 0&&(c=!1),c){var s={};return t._fields.forEach(function(y){s[y]="0x"+t[y].toString("hex")}),s}return(0,sn.baToJSON)(t.raw)},t.serialize=function(){return ra.encode(t.raw)},e.forEach(function(c,s){t._fields.push(c.name);function y(){return t.raw[s]}function _(M){M=(0,sn.toBuffer)(M),M.toString("hex")==="00"&&!c.allowZero&&(M=Buffer.allocUnsafe(0)),c.allowLess&&c.length?(M=(0,sn.unpadBuffer)(M),(0,ea.default)(c.length>=M.length,"The field "+c.name+" must not have more "+c.length+" bytes")):!(c.allowZero&&M.length===0)&&c.length&&(0,ea.default)(c.length===M.length,"The field "+c.name+" must have byte length of "+c.length),t.raw[s]=M}Object.defineProperty(t,c.name,{enumerable:!0,configurable:!0,get:y,set:_}),c.default&&(t[c.name]=c.default),c.alias&&Object.defineProperty(t,c.alias,{enumerable:!1,configurable:!0,set:_,get:y})}),i)if(typeof i=="string"&&(i=Buffer.from((0,vl.stripHexPrefix)(i),"hex")),Buffer.isBuffer(i)&&(i=ra.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(c,s){t[t._fields[s]]=(0,sn.toBuffer)(c)})}else if(typeof i=="object"){var n=Object.keys(i);e.forEach(function(c){n.indexOf(c.name)!==-1&&(t[c.name]=i[c.name]),n.indexOf(c.alias)!==-1&&(t[c.alias]=i[c.alias])})}else throw new Error("invalid data")};on.defineProperties=gl;var Yr={},yl=Pt&&Pt.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),wl=Pt&&Pt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bl=Pt&&Pt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&yl(e,t,i);return wl(e,t),e},Ml=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.rlp=Yr.BN=void 0;var _l=Ml(Tr.exports);Yr.BN=_l.default;var xl=bl(Zi);Yr.rlp=xl;(function(t){var e=Pt&&Pt.__createBinding||(Object.create?function(c,s,y,_){_===void 0&&(_=y),Object.defineProperty(c,_,{enumerable:!0,get:function(){return s[y]}})}:function(c,s,y,_){_===void 0&&(_=y),c[_]=s[y]}),i=Pt&&Pt.__exportStar||function(c,s){for(var y in c)y!=="default"&&!Object.prototype.hasOwnProperty.call(s,y)&&e(s,c,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,i(uo,t),i(ho,t),i(tn,t),i(Yi,t),i(Oe,t),i(Pr,t),i(on,t),i(Yr,t),i(Qi,t);var n=Wt;Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}})})(Js);var gr={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});const El=gh.exports;function Sl(t){return"0x"+El.keccak_256(ia(t))}Qr.keccak256=Sl;Qr.padLeft=(t,e)=>{const i=/^0x/i.test(t)||typeof t=="number";t=t.toString().replace(/^0x/i,"");const n=e-t.length+1>=0?e-t.length+1:0;return(i?"0x":"")+new Array(n).join("0")+t};function Al(t){const e=[];for(let i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((t[i]&15).toString(16));return`0x${e.join("").replace(/^0+/,"")}`}Qr.bytesToHex=Al;function ia(t){if(t==null)throw new Error("cannot convert null value to array");if(typeof t=="string"){const e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw new Error("invalid hexidecimal string");if(e[1]!=="0x")throw new Error("hex string must have 0x prefix");t=t.substring(2),t.length%2&&(t="0"+t);const i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(t.substr(n,2),16));return co(new Uint8Array(i))}if(Ol(t))return co(new Uint8Array(t));throw new Error("invalid arrayify value")}Qr.toByteArray=ia;function Ol(t){if(!t||parseInt(String(t.length))!=t.length||typeof t=="string")return!1;for(let e=0;e<t.length;e++){const i=t[e];if(i<0||i>=256||parseInt(String(i))!=i)return!1}return!0}function co(t){return t.slice!==void 0||(t.slice=()=>{const e=Array.prototype.slice.call(arguments);return co(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}Object.defineProperty(gr,"__esModule",{value:!0});const po=Qr;function an(t){return typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t))}gr.isBloom=an;function fn(t,e){typeof e=="object"&&e.constructor===Uint8Array&&(e=po.bytesToHex(e));const i=po.keccak256(e).replace("0x","");for(let n=0;n<12;n+=4){const c=(parseInt(i.substr(n,2),16)<<8)+parseInt(i.substr(n+2,2),16)&2047,s=Tl(t.charCodeAt(t.length-1-Math.floor(c/4))),y=1<<c%4;if((s&y)!==y)return!1}return!0}gr.isInBloom=fn;function Tl(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error("invalid bloom")}function Pl(t,e){if(!an(t))throw new Error("Invalid bloom given");if(!mo(e))throw new Error(`Invalid ethereum address given: "${e}"`);const i=po.padLeft(e,64);return fn(t,i)}gr.isUserEthereumAddressInBloom=Pl;function Cl(t,e){if(!an(t))throw new Error("Invalid bloom given");if(!mo(e))throw new Error(`Invalid contract address given: "${e}"`);return fn(t,e)}gr.isContractAddressInBloom=Cl;function Bl(t,e){if(!an(t))throw new Error("Invalid bloom given");if(!na(e))throw new Error("Invalid topic");return fn(t,e)}gr.isTopicInBloom=Bl;function na(t){if(typeof t!="string")return!1;if(/^(0x)?[0-9a-f]{64}$/i.test(t)){if(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t))return!0}else return!1;return!1}gr.isTopic=na;function mo(t){return typeof t!="string"?!1:!!(t.match(/^(0x)?[0-9a-fA-F]{40}$/)||t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}gr.isAddress=mo;var vo=zi.exports,Rl=zs,oa=Zs,un=Js,ti=gr,go=function(t){return vo.isBN(t)},sa=function(t){return t&&t.constructor&&t.constructor.name==="BigNumber"},Ei=function(t){try{return Rl.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},kl=function(t){return"0x"+Ei(t).toTwos(256).toString(16,64)},aa=function(t){return/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x|0X)?[0-9a-f]{40}$/.test(t)||/^(0x|0X)?[0-9A-F]{40}$/.test(t)?!0:fa(t):!1},fa=function(t){t=t.replace(/^0x/i,"");for(var e=hn(t.toLowerCase()).replace(/^0x/i,""),i=0;i<40;i++)if(parseInt(e[i],16)>7&&t[i].toUpperCase()!==t[i]||parseInt(e[i],16)<=7&&t[i].toLowerCase()!==t[i])return!1;return!0},Il=function(t,e,i){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var c=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(c).join(i||"0")+t},Nl=function(t,e,i){var n=/^0x/i.test(t)||typeof t=="number";t=t.toString(16).replace(/^0x/i,"");var c=e-t.length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(c).join(i||"0")},yo=function(t){t=oa.encode(t);var e="";t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:\u0000)*/,""),t=t.split("").reverse().join("");for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),c=n.toString(16);e+=c.length<2?"0"+c:c}return"0x"+e},Ll=function(t){if(!Hr(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');var e="",i=0;t=t.replace(/^0x/i,""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join(""),t=t.replace(/^(?:00)*/,""),t=t.split("").reverse().join("");for(var n=t.length,c=0;c<n;c+=2)i=parseInt(t.substr(c,2),16),e+=String.fromCharCode(i);return oa.decode(e)},ua=function(t){if(!t)return t;if(typeof t=="string"&&!Hr(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return Ei(t).toNumber()},jl=function(t){if(!t)return t;if(typeof t=="string"&&!Hr(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return Ei(t).toString(10)},wo=function(t){if(t==null)return t;if(!isFinite(t)&&!Hr(t))throw new Error('Given input "'+t+'" is not a number.');var e=Ei(t),i=e.toString(16);return e.lt(new vo(0))?"-0x"+i.substr(1):"0x"+i},Dl=function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((t[i]&15).toString(16));return"0x"+e.join("")},Fl=function(t){if(t=t.toString(16),!Hr(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},ha=function(t,e){if(aa(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(Buffer.isBuffer(t))return"0x"+t.toString("hex");if(typeof t=="object"&&!!t&&!sa(t)&&!go(t))return e?"string":yo(JSON.stringify(t));if(typeof t=="string"){if(t.indexOf("-0x")===0||t.indexOf("-0X")===0)return e?"int256":wo(t);if(t.indexOf("0x")===0||t.indexOf("0X")===0)return e?"bytes":t;if(!isFinite(t))return e?"string":yo(t)}return e?t<0?"int256":"uint256":wo(t)},Hr=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t)},la=function(t){return(typeof t=="string"||typeof t=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},Ul=function(t){return t!==0&&la(t)?t.replace(/^(-)?0x/i,"$1"):t},Hl=function(t){return ti.isBloom(t)},ql=function(t,e){return ti.isUserEthereumAddressInBloom(t,e)},$l=function(t,e){return ti.isContractAddressInBloom(t,e)},Kl=function(t){return ti.isTopic(t)},Wl=function(t,e){return ti.isTopicInBloom(t,e)},zl=function(t,e){return ti.isInBloom(t,e)},ca="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",hn=function(t){go(t)&&(t=t.toString()),Hr(t)&&/^0x/i.test(t.toString())?t=un.toBuffer(t):typeof t=="string"&&(t=Buffer.from(t,"utf-8"));var e=un.bufferToHex(un.keccak256(t));return e===ca?null:e};hn._Hash=un.keccak256;var Vl=function(t){return t=hn(t),t===null?ca:t},Gl=function(t){return typeof t=="number"?t:ua(ha(t))},da={BN:vo,isBN:go,isBigNumber:sa,toBN:Ei,isAddress:aa,isBloom:Hl,isUserEthereumAddressInBloom:ql,isContractAddressInBloom:$l,isTopic:Kl,isTopicInBloom:Wl,isInBloom:zl,checkAddressChecksum:fa,utf8ToHex:yo,hexToUtf8:Ll,hexToNumber:ua,hexToNumberString:jl,numberToHex:wo,toHex:ha,hexToBytes:Fl,bytesToHex:Dl,isHex:la,isHexStrict:Hr,stripHexPrefix:Ul,leftPad:Il,rightPad:Nl,toTwosComplement:kl,sha3:hn,sha3Raw:Vl,toNumber:Gl},qr=zi.exports,Ge=da,Zl=function(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t},Jl=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null},Xl=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null},pa=function(t){var e=typeof t;if(e==="string")return Ge.isHexStrict(t)?new qr(t.replace(/0x/i,""),16):new qr(t,10);if(e==="number")return new qr(t);if(Ge.isBigNumber(t))return new qr(t.toString(10));if(Ge.isBN(t))return t;throw new Error(t+" is not a number")},ma=function(t,e,i){var n,c;if(t=Zl(t),t==="bytes"){if(e.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+e.length);return e}else{if(t==="string")return Ge.utf8ToHex(e);if(t==="bool")return e?"01":"00";if(t.startsWith("address")){if(i?n=64:n=40,!Ge.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return Ge.leftPad(e.toLowerCase(),n)}}if(n=Jl(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(i&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return Ge.rightPad(e,n*2)}else if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(c=pa(e),c.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c.bitLength());if(c.lt(new qr(0)))throw new Error("Supplied uint "+c.toString()+" is negative");return n?Ge.leftPad(c.toString("hex"),n/8*2):c}else if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(c=pa(e),c.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c.bitLength());return c.lt(new qr(0))?c.toTwos(n).toString("hex"):n?Ge.leftPad(c.toString("hex"),n/8*2):c}else throw new Error("Unsupported or invalid type: "+t)},bo=function(t){if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,i="",n,c;if(!!t&&typeof t=="object"&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,i=t.hasOwnProperty("v")?t.v:t.value):(e=Ge.toHex(t,!0),i=Ge.toHex(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")),(e.startsWith("int")||e.startsWith("uint"))&&typeof i=="string"&&!/^(-)?0x/i.test(i)&&(i=new qr(i)),Array.isArray(i)){if(c=Xl(e),c&&i.length!==c)throw new Error(e+" is not matching the given array "+JSON.stringify(i));c=i.length}return Array.isArray(i)?(n=i.map(function(s){return ma(e,s,c).toString("hex").replace("0x","")}),n.join("")):(n=ma(e,i,c),n.toString("hex").replace("0x",""))},Yl=function(){var t=Array.prototype.slice.call(arguments),e=t.map(bo);return Ge.sha3("0x"+e.join(""))},Ql=function(){return Ge.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(bo).join(""))},tc=function(){var t=Array.prototype.slice.call(arguments),e=t.map(bo);return"0x"+e.join("").toLowerCase()},ec={soliditySha3:Yl,soliditySha3Raw:Ql,encodePacked:tc},$r=Hh,Nt=da,Mo=ec,rc=Bh.exports,va=zi.exports,ic=function(t,e,i,n,c){return!!t&&typeof t=="object"&&!(t instanceof Error)&&t.data&&((!!t.data&&typeof t.data=="object"||Array.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+`
`+t.data),typeof t=="string"&&(t=new Error(t)),typeof n=="function"&&n(t,c),typeof i=="function"&&((e&&typeof e.listeners=="function"&&e.listeners("error").length||typeof n=="function")&&e.catch(function(){}),setTimeout(function(){i(t)},1)),e&&typeof e.emit=="function"&&setTimeout(function(){e.emit("error",t,c),e.removeAllListeners()},1),e},nc=function(t){return!!t&&typeof t=="object"&&t.name&&t.name.indexOf("(")!==-1?t.name:t.name+"("+_o(!1,t.inputs).join(",")+")"},_o=function(t,e){var i=[];return e.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var c="",s=n.type.indexOf("[");s>=0&&(c=n.type.substring(s));var y=_o(t,n.components);Array.isArray(y)&&t?i.push("tuple("+y.join(",")+")"+c):t?i.push("("+y+")"):i.push("("+y.join(",")+")"+c)}else i.push(n.type)}),i},oc=function(t){return"0x"+rc(t).toString("hex")},ga=function(t){if(!Nt.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",i=0,n=t.length;for(t.substring(0,2)==="0x"&&(i=2);i<n;i+=2){var c=parseInt(t.substr(i,2),16);e+=String.fromCharCode(c)}return e},ya=function(t){if(!t)return"0x00";for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i),c=n.toString(16);e+=c.length<2?"0"+c:c}return"0x"+e},wa=function(t){if(t=t?t.toLowerCase():"ether",!$r.unitMap[t])throw new Error('This unit "'+t+`" doesn't exist, please use the one of the following units`+JSON.stringify($r.unitMap,null,2));return t},sc=function(t,e){if(e=wa(e),!Nt.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Nt.isBN(t)?$r.fromWei(t,e):$r.fromWei(t,e).toString(10)},ac=function(t,e){if(e=wa(e),!Nt.isBN(t)&&typeof t!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Nt.isBN(t)?$r.toWei(t,e):$r.toWei(t,e).toString(10)},fc=function(t){if(typeof t=="undefined")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=Nt.sha3(t).replace(/^0x/i,""),i="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?i+=t[n].toUpperCase():i+=t[n];return i},uc=function(t,e){if(t==e)return 0;if((t=="genesis"||t=="earliest"||t==0)&&(e=="genesis"||e=="earliest"||e==0))return 0;if(t=="genesis"||t=="earliest")return-1;if(e=="genesis"||e=="earliest")return 1;if(t=="latest")return e=="pending"?-1:1;if(e==="latest")return t=="pending"?1:-1;if(t=="pending")return 1;if(e=="pending")return-1;{let i=new va(t),n=new va(e);return i.lt(n)?-1:i.eq(n)?0:1}},je={_fireError:ic,_jsonInterfaceMethodToString:nc,_flattenTypes:_o,randomHex:oc,BN:Nt.BN,isBN:Nt.isBN,isBigNumber:Nt.isBigNumber,isHex:Nt.isHex,isHexStrict:Nt.isHexStrict,sha3:Nt.sha3,sha3Raw:Nt.sha3Raw,keccak256:Nt.sha3,soliditySha3:Mo.soliditySha3,soliditySha3Raw:Mo.soliditySha3Raw,encodePacked:Mo.encodePacked,isAddress:Nt.isAddress,checkAddressChecksum:Nt.checkAddressChecksum,toChecksumAddress:fc,toHex:Nt.toHex,toBN:Nt.toBN,bytesToHex:Nt.bytesToHex,hexToBytes:Nt.hexToBytes,hexToNumberString:Nt.hexToNumberString,hexToNumber:Nt.hexToNumber,toDecimal:Nt.hexToNumber,numberToHex:Nt.numberToHex,fromDecimal:Nt.numberToHex,hexToUtf8:Nt.hexToUtf8,hexToString:Nt.hexToUtf8,toUtf8:Nt.hexToUtf8,stripHexPrefix:Nt.stripHexPrefix,utf8ToHex:Nt.utf8ToHex,stringToHex:Nt.utf8ToHex,fromUtf8:Nt.utf8ToHex,hexToAscii:ga,toAscii:ga,asciiToHex:ya,fromAscii:ya,unitMap:$r.unitMap,toWei:ac,fromWei:sc,padLeft:Nt.leftPad,leftPad:Nt.leftPad,padRight:Nt.rightPad,rightPad:Nt.rightPad,toTwosComplement:Nt.toTwosComplement,isBloom:Nt.isBloom,isUserEthereumAddressInBloom:Nt.isUserEthereumAddressInBloom,isContractAddressInBloom:Nt.isContractAddressInBloom,isTopic:Nt.isTopic,isTopicInBloom:Nt.isTopicInBloom,isInBloom:Nt.isInBloom,compareBlockNumbers:uc,toNumber:Nt.toNumber};const ba=je,Ma=zi.exports,hc=function(t,e){let i=t;for(;i.length<e*2;)i="0"+i;return i},_a=function(t){const e="A".charCodeAt(0),i="Z".charCodeAt(0);return t=t.toUpperCase(),t=t.substr(4)+t.substr(0,4),t.split("").map(function(n){const c=n.charCodeAt(0);return c>=e&&c<=i?c-e+10:n}).join("")},xa=function(t){let e=t,i;for(;e.length>2;)i=e.slice(0,9),e=parseInt(i,10)%97+e.slice(i.length);return parseInt(e,10)%97};class Br{constructor(e){this._iban=e}static toAddress(e){if(e=new Br(e),!e.isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()}static toIban(e){return Br.fromAddress(e).toString()}static fromAddress(e){if(!ba.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");const n=new Ma(e,16).toString(36),c=hc(n,15);return Br.fromBban(c.toUpperCase())}static fromBban(e){const i="XE",n=xa(_a(i+"00"+e)),c=("0"+(98-n)).slice(-2);return new Br(i+c+e)}static createIndirect(e){return Br.fromBban("ETH"+e.institution+e.identifier)}static isValid(e){return new Br(e).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&xa(_a(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.substr(2,2)}institution(){return this.isIndirect()?this._iban.substr(7,4):""}client(){return this.isIndirect()?this._iban.substr(11):""}toAddress(){if(this.isDirect()){const e=this._iban.substr(4),i=new Ma(e,36);return ba.toChecksumAddress(i.toString(16,20))}return""}toString(){return this._iban}}var lc=Br,kt=je,cc=lc,dc=function(t){return t.map(kt.numberToHex)},pc=function(t){return t.address=kt.toChecksumAddress(t.address),t.nonce=kt.hexToNumberString(t.nonce),t.balance=kt.hexToNumberString(t.balance),t},Kr=function(t){return kt.toBN(t).toString(10)},mc=function(t){return t==="latest"||t==="pending"||t==="earliest"},vc=function(t){return this&&t==null?Si(this.defaultBlock):Si(t)},Si=function(t){if(t!==void 0)return mc(t)?t:t==="genesis"?"0x0":kt.isHexStrict(t)?typeof t=="string"?t.toLowerCase():t:kt.numberToHex(t)},Ea=function(t){if(t.to&&(t.to=ei(t.to)),t.data&&t.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!t.data.startsWith("0x")&&(t.data="0x"+t.data),t.data&&!kt.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete t.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(e){return t[e]!==void 0}).forEach(function(e){t[e]=kt.numberToHex(t[e])}),t},gc=function(t){t=Ea(t);var e=t.from||(this?this.defaultAccount:null);return e&&(t.from=ei(e)),t},yc=function(t){if(t=Ea(t),typeof t.from!="number"&&!(!!t.from&&typeof t.from=="object")){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&typeof t.from!="number")throw new Error('The send transactions "from" field must be defined!');t.from=ei(t.from)}return t},wc=function(t){return kt.isHexStrict(t)?t:kt.utf8ToHex(t)},Sa=function(t){return t.blockNumber!==null&&(t.blockNumber=kt.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=kt.hexToNumber(t.transactionIndex)),t.nonce=kt.hexToNumber(t.nonce),t.gas=kt.hexToNumber(t.gas),t.gasPrice&&(t.gasPrice=Kr(t.gasPrice)),t.maxFeePerGas&&(t.maxFeePerGas=Kr(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=Kr(t.maxPriorityFeePerGas)),t.type&&(t.type=kt.hexToNumber(t.type)),t.value=Kr(t.value),t.to&&kt.isAddress(t.to)?t.to=kt.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=kt.toChecksumAddress(t.from)),t},bc=function(t){if(typeof t!="object")throw new Error("Received receipt is invalid: "+t);return t.blockNumber!==null&&(t.blockNumber=kt.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=kt.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=kt.hexToNumber(t.cumulativeGasUsed),t.gasUsed=kt.hexToNumber(t.gasUsed),Array.isArray(t.logs)&&(t.logs=t.logs.map(Aa)),t.effectiveGasPrice&&(t.effectiveGasPrice=kt.hexToNumber(t.effectiveGasPrice)),t.contractAddress&&(t.contractAddress=kt.toChecksumAddress(t.contractAddress)),typeof t.status!="undefined"&&t.status!==null&&(t.status=Boolean(parseInt(t.status))),t},Mc=function(t){return t.gasLimit=kt.hexToNumber(t.gasLimit),t.gasUsed=kt.hexToNumber(t.gasUsed),t.size=kt.hexToNumber(t.size),t.timestamp=kt.hexToNumber(t.timestamp),t.number!==null&&(t.number=kt.hexToNumber(t.number)),t.difficulty&&(t.difficulty=Kr(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=Kr(t.totalDifficulty)),Array.isArray(t.transactions)&&t.transactions.forEach(function(e){if(typeof e!="string")return Sa(e)}),t.miner&&(t.miner=kt.toChecksumAddress(t.miner)),t.baseFeePerGas&&(t.baseFeePerGas=kt.hexToNumber(t.baseFeePerGas)),t},_c=function(t){var e=function(i){return i===null||typeof i=="undefined"?null:(i=String(i),i.indexOf("0x")===0?i:kt.fromUtf8(i))};return t===void 0&&(t={}),t.fromBlock===void 0&&(t=eo(gi({},t),{fromBlock:"latest"})),(t.fromBlock||t.fromBlock===0)&&(t.fromBlock=Si(t.fromBlock)),(t.toBlock||t.toBlock===0)&&(t.toBlock=Si(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map(function(i){return Array.isArray(i)?i.map(e):e(i)}),e=null,t.address&&(t.address=Array.isArray(t.address)?t.address.map(function(i){return ei(i)}):ei(t.address)),t},Aa=function(t){if(typeof t.blockHash=="string"&&typeof t.transactionHash=="string"&&typeof t.logIndex=="string"){var e=kt.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").substr(0,8)}else t.id||(t.id=null);return t.blockNumber!==null&&(t.blockNumber=kt.hexToNumber(t.blockNumber)),t.transactionIndex!==null&&(t.transactionIndex=kt.hexToNumber(t.transactionIndex)),t.logIndex!==null&&(t.logIndex=kt.hexToNumber(t.logIndex)),t.address&&(t.address=kt.toChecksumAddress(t.address)),t},xc=function(t){return t.ttl&&(t.ttl=kt.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=kt.numberToHex(t.workToProve)),t.priority&&(t.priority=kt.numberToHex(t.priority)),Array.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(e){return e.indexOf("0x")===0?e:kt.fromUtf8(e)}),t},Ec=function(t){return t.expiry=kt.hexToNumber(t.expiry),t.sent=kt.hexToNumber(t.sent),t.ttl=kt.hexToNumber(t.ttl),t.workProved=kt.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(e){return kt.toUtf8(e)}),t},ei=function(t){var e=new cc(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(kt.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error(`Provided address ${t} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},Sc=function(t){return t.startingBlock=kt.hexToNumber(t.startingBlock),t.currentBlock=kt.hexToNumber(t.currentBlock),t.highestBlock=kt.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=kt.hexToNumber(t.knownStates),t.pulledStates=kt.hexToNumber(t.pulledStates)),t},Ac={inputDefaultBlockNumberFormatter:vc,inputBlockNumberFormatter:Si,inputCallFormatter:gc,inputTransactionFormatter:yc,inputAddressFormatter:ei,inputPostFormatter:xc,inputLogFormatter:_c,inputSignFormatter:wc,inputStorageKeysFormatter:dc,outputProofFormatter:pc,outputBigNumberFormatter:Kr,outputTransactionFormatter:Sa,outputTransactionReceiptFormatter:bc,outputBlockFormatter:Mc,outputLogFormatter:Aa,outputPostFormatter:Ec,outputSyncingFormatter:Sc},Oc=Lh,Tc=Ac,er={errors:Oc,formatters:Tc},Wr={messageId:0};Wr.toPayload=function(t,e){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(e)+'"!');return Wr.messageId++,{jsonrpc:"2.0",id:Wr.messageId,method:t,params:e||[]}};Wr.isValidResponse=function(t){return Array.isArray(t)?t.every(e):e(t);function e(i){return!!i&&!i.error&&i.jsonrpc==="2.0"&&(typeof i.id=="number"||typeof i.id=="string")&&i.result!==void 0}};Wr.toBatchPayload=function(t){return t.map(function(e){return Wr.toPayload(e.method,e.params)})};var Oa=Wr,Pc=Oa,Ta=er.errors,ln=function(t){this.requestManager=t,this.requests=[]};ln.prototype.add=function(t){this.requests.push(t)};ln.prototype.execute=function(){var t=this.requests,e=this._sortResponses.bind(this);this.requestManager.sendBatch(t,function(i,n){n=e(n),t.map(function(c,s){return n[s]||{}}).forEach(function(c,s){if(t[s].callback){if(c&&c.error)return t[s].callback(Ta.ErrorResponse(c));if(!Pc.isValidResponse(c))return t[s].callback(Ta.InvalidResponse(c));try{t[s].callback(null,t[s].format?t[s].format(c.result):c.result)}catch(y){t[s].callback(y)}}})})};ln.prototype._sortResponses=function(t){return(t||[]).sort((e,i)=>e.id-i.id)};var Cc=ln,xo=null,Be;try{Be=Function("return this")()}catch{Be=window}typeof Be.ethereum!="undefined"?xo=Be.ethereum:typeof Be.web3!="undefined"&&Be.web3.currentProvider&&(Be.web3.currentProvider.sendAsync&&(Be.web3.currentProvider.send=Be.web3.currentProvider.sendAsync,delete Be.web3.currentProvider.sendAsync),!Be.web3.currentProvider.on&&Be.web3.currentProvider.connection&&Be.web3.currentProvider.connection.constructor.name==="ipcProviderWrapper"&&(Be.web3.currentProvider.on=function(t,e){if(typeof e!="function")throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.connection.on("data",function(i){var n="";i=i.toString();try{n=JSON.parse(i)}catch{return e(new Error("Couldn't parse response data"+i))}!n.id&&n.method.indexOf("_subscription")!==-1&&e(null,n)});break;default:this.connection.on(t,e);break}}),xo=Be.web3.currentProvider);var Bc=xo,cn={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function c(M,x,E){this.fn=M,this.context=x,this.once=E||!1}function s(M,x,E,A,S){if(typeof E!="function")throw new TypeError("The listener must be a function");var k=new c(E,A||M,S),C=i?i+x:x;return M._events[C]?M._events[C].fn?M._events[C]=[M._events[C],k]:M._events[C].push(k):(M._events[C]=k,M._eventsCount++),M}function y(M,x){--M._eventsCount==0?M._events=new n:delete M._events[x]}function _(){this._events=new n,this._eventsCount=0}_.prototype.eventNames=function(){var x=[],E,A;if(this._eventsCount===0)return x;for(A in E=this._events)e.call(E,A)&&x.push(i?A.slice(1):A);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(E)):x},_.prototype.listeners=function(x){var E=i?i+x:x,A=this._events[E];if(!A)return[];if(A.fn)return[A.fn];for(var S=0,k=A.length,C=new Array(k);S<k;S++)C[S]=A[S].fn;return C},_.prototype.listenerCount=function(x){var E=i?i+x:x,A=this._events[E];return A?A.fn?1:A.length:0},_.prototype.emit=function(x,E,A,S,k,C){var R=i?i+x:x;if(!this._events[R])return!1;var B=this._events[R],I=arguments.length,j,D;if(B.fn){switch(B.once&&this.removeListener(x,B.fn,void 0,!0),I){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,E),!0;case 3:return B.fn.call(B.context,E,A),!0;case 4:return B.fn.call(B.context,E,A,S),!0;case 5:return B.fn.call(B.context,E,A,S,k),!0;case 6:return B.fn.call(B.context,E,A,S,k,C),!0}for(D=1,j=new Array(I-1);D<I;D++)j[D-1]=arguments[D];B.fn.apply(B.context,j)}else{var $=B.length,z;for(D=0;D<$;D++)switch(B[D].once&&this.removeListener(x,B[D].fn,void 0,!0),I){case 1:B[D].fn.call(B[D].context);break;case 2:B[D].fn.call(B[D].context,E);break;case 3:B[D].fn.call(B[D].context,E,A);break;case 4:B[D].fn.call(B[D].context,E,A,S);break;default:if(!j)for(z=1,j=new Array(I-1);z<I;z++)j[z-1]=arguments[z];B[D].fn.apply(B[D].context,j)}}return!0},_.prototype.on=function(x,E,A){return s(this,x,E,A,!1)},_.prototype.once=function(x,E,A){return s(this,x,E,A,!0)},_.prototype.removeListener=function(x,E,A,S){var k=i?i+x:x;if(!this._events[k])return this;if(!E)return y(this,k),this;var C=this._events[k];if(C.fn)C.fn===E&&(!S||C.once)&&(!A||C.context===A)&&y(this,k);else{for(var R=0,B=[],I=C.length;R<I;R++)(C[R].fn!==E||S&&!C[R].once||A&&C[R].context!==A)&&B.push(C[R]);B.length?this._events[k]=B.length===1?B[0]:B:y(this,k)}return this},_.prototype.removeAllListeners=function(x){var E;return x?(E=i?i+x:x,this._events[E]&&y(this,E)):(this._events=new n,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=i,_.EventEmitter=_,t.exports=_})(cn);var Rc=Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]",kc=typeof navigator!="undefined"&&navigator.product==="ReactNative",Eo=null,dn=null;if(Rc||kc){Eo=function(t){return Buffer.from(t).toString("base64")};var Pa=Qe;if(Pa.URL){var Ic=Pa.URL;dn=function(t){return new Ic(t)}}else dn=Qe.parse}else Eo=btoa.bind(window),dn=function(t){return new URL(t)};var Nc={parseURL:dn,btoa:Eo};const Lc="websocket@^1.0.32",jc="websocket@1.0.34",Dc=!1,Fc="sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",Uc="/websocket",Hc={},qc={type:"range",registry:!0,raw:"websocket@^1.0.32",name:"websocket",escapedName:"websocket",rawSpec:"^1.0.32",saveSpec:null,fetchSpec:"^1.0.32"},$c=["/web3-providers-ws"],Kc="https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",Wc="2bdc2602c08bf2c82253b730655c0ef7dcab3111",zc="websocket@^1.0.32",Vc="/Users/elgene/Visual Studio Code /krypt2/node_modules/web3-providers-ws",Gc={name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},Zc="lib/browser.js",Jc={url:"https://github.com/theturtle32/WebSocket-Node/issues"},Xc=!1,Yc={verbose:!1},Qc=[{name:"I\xF1aki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],t0={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},e0=!1,r0="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",i0={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},n0={lib:"./lib"},o0={node:">=4.0.0"},s0="https://github.com/theturtle32/WebSocket-Node",a0=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],f0="Apache-2.0",u0="index",h0="websocket",l0={type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},c0={gulp:"gulp",test:"tape test/unit/*.js"},d0="1.0.34";var p0={_from:Lc,_id:jc,_inBundle:Dc,_integrity:Fc,_location:Uc,_phantomChildren:Hc,_requested:qc,_requiredBy:$c,_resolved:Kc,_shasum:Wc,_spec:zc,_where:Vc,author:Gc,browser:Zc,bugs:Jc,bundleDependencies:Xc,config:Yc,contributors:Qc,dependencies:t0,deprecated:e0,description:r0,devDependencies:i0,directories:n0,engines:o0,homepage:s0,keywords:a0,license:f0,main:u0,name:h0,repository:l0,scripts:c0,version:d0},m0=p0.version,zr;if(typeof globalThis=="object")zr=globalThis;else try{zr=require("es5-ext/global")}catch{}finally{if(!zr&&typeof window!="undefined"&&(zr=window),!zr)throw new Error("Could not determine global this")}var Ai=zr.WebSocket||zr.MozWebSocket,v0=m0;function Ca(t,e){var i;return e?i=new Ai(t,e):i=new Ai(t),i}Ai&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(Ca,t,{get:function(){return Ai[t]}})});var g0={w3cwebsocket:Ai?Ca:null,version:v0},Ba=cn.exports,So=Nc,yr=er.errors,y0=g0.w3cwebsocket,Te=function(e,i){Ba.call(this),i=i||{},this.url=e,this._customTimeout=i.timeout||1e3*15,this.headers=i.headers||{},this.protocol=i.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},i.reconnect),this.clientConfig=i.clientConfig||void 0,this.requestOptions=i.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var n=So.parseURL(e);n.username&&n.password&&(this.headers.authorization="Basic "+So.btoa(n.username+":"+n.password)),n.auth&&(this.headers.authorization="Basic "+So.btoa(n.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};Te.prototype=Object.create(Ba.prototype);Te.prototype.constructor=Te;Te.prototype.connect=function(){this.connection=new y0(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()};Te.prototype._onMessage=function(t){var e=this;this._parseResponse(typeof t.data=="string"?t.data:"").forEach(function(i){if(i.method&&i.method.indexOf("_subscription")!==-1){e.emit(e.DATA,i);return}var n=i.id;Array.isArray(i)&&(n=i[0].id),e.responseQueue.has(n)&&(e.responseQueue.get(n).callback!==void 0&&e.responseQueue.get(n).callback(!1,i),e.responseQueue.delete(n))})};Te.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var t=this;this.requestQueue.forEach(function(e,i){t.send(e.payload,e.callback),t.requestQueue.delete(i)})}};Te.prototype._onClose=function(t){var e=this;if(this.reconnectOptions.auto&&(![1e3,1001].includes(t.code)||t.wasClean===!1)){this.reconnect();return}this.emit(this.CLOSE,t),this.requestQueue.size>0&&this.requestQueue.forEach(function(i,n){i.callback(yr.ConnectionNotOpenError(t)),e.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(i,n){i.callback(yr.InvalidConnection("on WS",t)),e.responseQueue.delete(n)}),this._removeSocketListeners(),this.removeAllListeners()};Te.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))};Te.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)};Te.prototype._parseResponse=function(t){var e=this,i=[],n=t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(c){e.lastChunk&&(c=e.lastChunk+c);var s=null;try{s=JSON.parse(c)}catch{e.lastChunk=c,clearTimeout(e.lastChunkTimeout),e.lastChunkTimeout=setTimeout(function(){if(e.reconnectOptions.auto&&e.reconnectOptions.onTimeout){e.reconnect();return}e.emit(e.ERROR,yr.ConnectionTimeout(e._customTimeout)),e.requestQueue.size>0&&e.requestQueue.forEach(function(_,M){_.callback(yr.ConnectionTimeout(e._customTimeout)),e.requestQueue.delete(M)})},e._customTimeout);return}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,s&&i.push(s)}),i};Te.prototype.send=function(t,e){var i=this,n=t.id,c={payload:t,callback:e};if(Array.isArray(t)&&(n=t[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting){this.requestQueue.set(n,c);return}if(this.connection.readyState!==this.connection.OPEN){this.requestQueue.delete(n),this.emit(this.ERROR,yr.ConnectionNotOpenError()),c.callback(yr.ConnectionNotOpenError());return}this.responseQueue.set(n,c),this.requestQueue.delete(n);try{this.connection.send(JSON.stringify(c.payload))}catch(s){c.callback(s),i.responseQueue.delete(n)}};Te.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()};Te.prototype.disconnect=function(t,e){this._removeSocketListeners(),this.connection.close(t||1e3,e)};Te.prototype.supportsSubscriptions=function(){return!0};Te.prototype.reconnect=function(){var t=this;if(this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(e,i){e.callback(yr.PendingRequestsOnReconnectingError()),t.responseQueue.delete(i)}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts){setTimeout(function(){t.reconnectAttempts++,t._removeSocketListeners(),t.emit(t.RECONNECT,t.reconnectAttempts),t.connect()},this.reconnectOptions.delay);return}this.emit(this.ERROR,yr.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(e,i){e.callback(yr.MaxAttemptsReachedOnReconnectingError()),t.requestQueue.delete(i)})};var w0=Te,Ao=er.errors,b0=kh.XMLHttpRequest,M0=Qe,_0=Qe,Oi=function(e,i){i=i||{},this.withCredentials=i.withCredentials||!1,this.timeout=i.timeout||0,this.headers=i.headers,this.agent=i.agent,this.connected=!1;const n=i.keepAlive!==!1;this.host=e||"http://localhost:8545",this.agent||(this.host.substring(0,5)==="https"?this.httpsAgent=new _0.Agent({keepAlive:n}):this.httpAgent=new M0.Agent({keepAlive:n}))};Oi.prototype._prepareRequest=function(){var t;if(typeof XMLHttpRequest!="undefined")t=new XMLHttpRequest;else{t=new b0;var e={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};this.agent&&(e.httpsAgent=this.agent.https,e.httpAgent=this.agent.http,e.baseUrl=this.agent.baseUrl),t.nodejsSet(e)}return t.open("POST",this.host,!0),t.setRequestHeader("Content-Type","application/json"),t.timeout=this.timeout,t.withCredentials=this.withCredentials,this.headers&&this.headers.forEach(function(i){t.setRequestHeader(i.name,i.value)}),t};Oi.prototype.send=function(t,e){var i=this,n=this._prepareRequest();n.onreadystatechange=function(){if(n.readyState===4&&n.timeout!==1){var c=n.responseText,s=null;try{c=JSON.parse(c)}catch{s=Ao.InvalidResponse(n.responseText)}i.connected=!0,e(s,c)}},n.ontimeout=function(){i.connected=!1,e(Ao.ConnectionTimeout(this.timeout))};try{n.send(JSON.stringify(t))}catch{this.connected=!1,e(Ao.InvalidConnection(this.host))}};Oi.prototype.disconnect=function(){};Oi.prototype.supportsSubscriptions=function(){return!1};var x0=Oi,Ra={exports:{}};/*!
 * v2.1.4-104-gc868b3a
 * 
 */(function(t,e){(function(n,c){t.exports=c()})(typeof self!="undefined"?self:Pt,function(){return function(i){var n={};function c(s){if(n[s])return n[s].exports;var y=n[s]={i:s,l:!1,exports:{}};return i[s].call(y.exports,y,y.exports,c),y.l=!0,y.exports}return c.m=i,c.c=n,c.d=function(s,y,_){c.o(s,y)||Object.defineProperty(s,y,{configurable:!1,enumerable:!0,get:_})},c.n=function(s){var y=s&&s.__esModule?function(){return s.default}:function(){return s};return c.d(y,"a",y),y},c.o=function(s,y){return Object.prototype.hasOwnProperty.call(s,y)},c.p="",c(c.s=7)}([function(i,n,c){c.d(n,"j",function(){return y}),c.d(n,"d",function(){return _}),c.d(n,"c",function(){return M}),c.d(n,"h",function(){return x}),c.d(n,"b",function(){return E}),c.d(n,"k",function(){return A}),c.d(n,"e",function(){return S}),c.d(n,"g",function(){return k}),c.d(n,"i",function(){return C}),c.d(n,"a",function(){return R}),c.d(n,"f",function(){return B});var s=c(1),y=A(function(I,j){var D=j.length;return A(function($){for(var z=0;z<$.length;z++)j[D+z]=$[z];return j.length=D+$.length,I.apply(this,j)})});A(function(I){var j=Object(s.c)(I);function D($,z){return[E($,z)]}return A(function($){return Object(s.f)(D,$,j)[0]})});function _(I,j){return function(){return I.call(this,j.apply(this,arguments))}}function M(I){return function(j){return j[I]}}var x=A(function(I){return A(function(j){for(var D,$=0;$<M("length")(I);$++)if(D=E(j,I[$]),D)return D})});function E(I,j){return j.apply(void 0,I)}function A(I){var j=I.length-1,D=Array.prototype.slice;if(j===0)return function(){return I.call(this,D.call(arguments))};if(j===1)return function(){return I.call(this,arguments[0],D.call(arguments,1))};var $=Array(I.length);return function(){for(var z=0;z<j;z++)$[z]=arguments[z];return $[j]=D.call(arguments,j),I.apply(this,$)}}function S(I){return function(j,D){return I(D,j)}}function k(I,j){return function(D){return I(D)&&j(D)}}function C(){}function R(){return!0}function B(I){return function(){return I}}},function(i,n,c){c.d(n,"d",function(){return y}),c.d(n,"g",function(){return M}),c.d(n,"l",function(){return x}),c.d(n,"c",function(){return E}),c.d(n,"h",function(){return A}),c.d(n,"i",function(){return S}),c.d(n,"j",function(){return k}),c.d(n,"f",function(){return C}),c.d(n,"m",function(){return R}),c.d(n,"a",function(){return B}),c.d(n,"b",function(){return I}),c.d(n,"k",function(){return j}),c.d(n,"e",function(){return D});var s=c(0);function y($,z){return[$,z]}var _=null,M=Object(s.c)(0),x=Object(s.c)(1);function E($){return j($.reduce(Object(s.e)(y),_))}var A=Object(s.k)(E);function S($){return C(function(z,K){return z.unshift(K),z},[],$)}function k($,z){return z?y($(M(z)),k($,x(z))):_}function C($,z,K){return K?$(C($,z,x(K)),M(K)):z}function R($,z,K){return O($,K||s.i);function O(N,W){return N?z(M(N))?(W(M(N)),x(N)):y(M(N),O(x(N),W)):_}}function B($,z){return!z||$(M(z))&&B($,x(z))}function I($,z){$&&(M($).apply(null,z),I(x($),z))}function j($){function z(K,O){return K?z(x(K),y(M(K),O)):O}return z($,_)}function D($,z){return z&&($(M(z))?M(z):D($,x(z)))}},function(i,n,c){c.d(n,"c",function(){return _}),c.d(n,"e",function(){return M}),c.d(n,"d",function(){return x}),c.d(n,"a",function(){return E}),c.d(n,"b",function(){return A});var s=c(1),y=c(0);function _(S,k){return k&&k.constructor===S}var M=Object(y.c)("length"),x=Object(y.j)(_,String);function E(S){return S!==void 0}function A(S,k){return k instanceof Object&&Object(s.a)(function(C){return C in k},S)}},function(i,n,c){c.d(n,"f",function(){return y}),c.d(n,"d",function(){return _}),c.d(n,"g",function(){return M}),c.d(n,"e",function(){return x}),c.d(n,"b",function(){return E}),c.d(n,"h",function(){return A}),c.d(n,"i",function(){return S}),c.d(n,"c",function(){return k}),c.d(n,"m",function(){return C}),c.d(n,"n",function(){return R}),c.d(n,"a",function(){return B}),c.d(n,"j",function(){return I}),c.d(n,"l",function(){return j}),c.d(n,"k",function(){return D}),c.d(n,"o",function(){return $});var s=1,y=s++,_=s++,M=s++,x=s++,E="fail",A=s++,S=s++,k="start",C="data",R="end",B=s++,I=s++,j=s++,D=s++;function $(z,K,O){try{var N=JSON.parse(K)}catch{}return{statusCode:z,body:K,jsonBody:N,thrown:O}}},function(i,n,c){c.d(n,"b",function(){return y}),c.d(n,"a",function(){return _}),c.d(n,"c",function(){return M});var s=c(0);function y(x,E){return{key:x,node:E}}var _=Object(s.c)("key"),M=Object(s.c)("node")},function(i,n,c){c.d(n,"a",function(){return E});var s=c(1),y=c(0),_=c(2),M=c(8),x=c(9);function E(A){var S=Object(s.h)("resume","pause","pipe"),k=Object(y.j)(_.b,S);return A?k(A)||Object(_.d)(A)?Object(M.a)(x.a,A):Object(M.a)(x.a,A.url,A.method,A.body,A.headers,A.withCredentials,A.cached):Object(x.a)()}E.drop=function(){return E.drop}},function(i,n,c){c.d(n,"b",function(){return E}),c.d(n,"a",function(){return x});var s=c(3),y=c(4),_=c(2),M=c(1),x={};function E(A){var S=A(s.f).emit,k=A(s.d).emit,C=A(s.i).emit,R=A(s.h).emit;function B(K,O){var N=Object(y.c)(Object(M.g)(K));return Object(_.c)(Array,N)?D(K,Object(_.e)(N),O):K}function I(K,O){if(!K)return C(O),D(K,x,O);var N=B(K,O),W=Object(M.l)(N),b=Object(y.a)(Object(M.g)(N));return j(W,b,O),Object(M.d)(Object(y.b)(b,O),W)}function j(K,O,N){Object(y.c)(Object(M.g)(K))[O]=N}function D(K,O,N){K&&j(K,O,N);var W=Object(M.d)(Object(y.b)(O,N),K);return S(W),W}function $(K){return k(K),Object(M.l)(K)||R(Object(y.c)(Object(M.g)(K)))}var z={};return z[s.l]=I,z[s.k]=$,z[s.j]=D,z}},function(i,n,c){Object.defineProperty(n,"__esModule",{value:!0});var s=c(5);n.default=s.a},function(i,n,c){c.d(n,"a",function(){return y});var s=c(2);function y(_,M,x,E,A,S,k){A=A?JSON.parse(JSON.stringify(A)):{},E?(Object(s.d)(E)||(E=JSON.stringify(E),A["Content-Type"]=A["Content-Type"]||"application/json"),A["Content-Length"]=A["Content-Length"]||E.length):E=null;function C(R,B){return B===!1&&(R.indexOf("?")===-1?R+="?":R+="&",R+="_="+new Date().getTime()),R}return _(x||"GET",C(M,k),E,A,S||!1)}},function(i,n,c){c.d(n,"a",function(){return k});var s=c(10),y=c(12),_=c(6),M=c(13),x=c(14),E=c(16),A=c(17),S=c(18);function k(C,R,B,I,j){var D=Object(s.a)();return R&&Object(S.b)(D,Object(S.a)(),C,R,B,I,j),Object(A.a)(D),Object(y.a)(D,Object(_.b)(D)),Object(M.a)(D,x.a),Object(E.a)(D,R)}},function(i,n,c){c.d(n,"a",function(){return _});var s=c(11),y=c(0);function _(){var M={},x=A("newListener"),E=A("removeListener");function A(k){return M[k]=Object(s.a)(k,x,E),M[k]}function S(k){return M[k]||A(k)}return["emit","on","un"].forEach(function(k){S[k]=Object(y.k)(function(C,R){Object(y.b)(R,S(C)[k])})}),S}},function(i,n,c){c.d(n,"a",function(){return M});var s=c(1),y=c(2),_=c(0);function M(x,E,A){var S,k;function C(R){return function(B){return B.id===R}}return{on:function(R,B){var I={listener:R,id:B||R};return E&&E.emit(x,R,I.id),S=Object(s.d)(I,S),k=Object(s.d)(R,k),this},emit:function(){Object(s.b)(k,arguments)},un:function(R){var B;S=Object(s.m)(S,C(R),function(I){B=I}),B&&(k=Object(s.m)(k,function(I){return I===B.listener}),A&&A.emit(x,B.listener,B.id))},listeners:function(){return k},hasListener:function(R){var B=R?C(R):_.a;return Object(y.a)(Object(s.e)(B,S))}}}},function(i,n,c){c.d(n,"a",function(){return M});var s=c(4),y=c(3),_=c(1);function M(x,E){var A={},S;function k(R){return function(B){S=R(S,B)}}for(var C in E)x(C).on(k(E[C]),A);x(y.g).on(function(R){var B=Object(_.g)(S),I=Object(s.a)(B),j=Object(_.l)(S),D;j&&(D=Object(s.c)(Object(_.g)(j)),D[I]=R)}),x(y.e).on(function(){var R=Object(_.g)(S),B=Object(s.a)(R),I=Object(_.l)(S),j;I&&(j=Object(s.c)(Object(_.g)(I)),delete j[B])}),x(y.a).on(function(){for(var R in E)x(R).un(A)})}},function(i,n,c){c.d(n,"a",function(){return M});var s=c(3),y=c(1),_=c(4);function M(x,E){var A={node:x(s.d),path:x(s.f)};function S(C,R,B){var I=Object(y.k)(B);C(R,Object(y.i)(Object(y.l)(Object(y.j)(_.a,I))),Object(y.i)(Object(y.j)(_.c,I)))}function k(C,R,B){var I=x(C).emit;R.on(function(j){var D=B(j);D!==!1&&S(I,Object(_.c)(D),j)},C),x("removeListener").on(function(j){j===C&&(x(j).listeners()||R.un(C))})}x("newListener").on(function(C){var R=/(node|path):(.*)/.exec(C);if(R){var B=A[R[1]];B.hasListener(C)||k(C,B,E(R[2]))}})}},function(i,n,c){c.d(n,"a",function(){return A});var s=c(0),y=c(1),_=c(4),M=c(2),x=c(6),E=c(15),A=Object(E.a)(function(S,k,C,R,B){var I=1,j=2,D=3,$=Object(s.d)(_.a,y.g),z=Object(s.d)(_.c,y.g);function K(o,p){var g=p[j],u=!g||g==="*"?s.a:function(w){return String($(w))===g};return Object(s.g)(u,o)}function O(o,p){var g=p[D];if(!g)return o;var u=Object(s.j)(M.b,Object(y.c)(g.split(/\W+/))),w=Object(s.d)(u,z);return Object(s.g)(w,o)}function N(o,p){var g=!!p[I];return g?Object(s.g)(o,y.g):o}function W(o){if(o===s.a)return s.a;function p(g){return $(g)!==x.a}return Object(s.g)(p,Object(s.d)(o,y.l))}function b(o){if(o===s.a)return s.a;var p=f(),g=o,u=W(function(P){return w(P)}),w=Object(s.h)(p,g,u);return w}function f(){return function(o){return $(o)===x.a}}function m(o){return function(p){var g=o(p);return g===!0?Object(y.g)(p):g}}function h(o,p,g){return Object(y.f)(function(u,w){return w(u,g)},p,o)}function r(o,p,g,u,w){var P=o(g);if(P){var L=h(p,u,P),U=g.substr(Object(M.e)(P[0]));return w(U,L)}}function a(o,p){return Object(s.j)(r,o,p)}var d=Object(s.h)(a(S,Object(y.h)(N,O,K,W)),a(k,Object(y.h)(b)),a(C,Object(y.h)()),a(R,Object(y.h)(N,f)),a(B,Object(y.h)(m)),function(o){throw Error('"'+o+'" could not be tokenised')});function v(o,p){return p}function l(o,p){var g=o?l:v;return d(o,p,g)}return function(o){try{return l(o,s.a)}catch(p){throw Error('Could not compile "'+o+'" because '+p.message)}}})},function(i,n,c){c.d(n,"a",function(){return y});var s=c(0),y=function(){var _=function(W){return W.exec.bind(W)},M=Object(s.k)(function(N){return N.unshift(/^/),_(RegExp(N.map(Object(s.c)("source")).join("")))}),x=/(\$?)/,E=/([\w-_]+|\*)/,A=/()/,S=/\["([^"]+)"\]/,k=/\[(\d+|\*)\]/,C=/{([\w ]*?)}/,R=/(?:{([\w ]*?)})?/,B=M(x,E,R),I=M(x,S,R),j=M(x,k,R),D=M(x,A,C),$=M(/\.\./),z=M(/\./),K=M(x,/!/),O=M(/$/);return function(N){return N(Object(s.h)(B,I,j,D),$,z,K,O)}}()},function(i,n,c){c.d(n,"a",function(){return x});var s=c(3),y=c(0),_=c(2),M=c(5);function x(E,A){var S,k=/^(node|path):./,C=E(s.h),R=E(s.e).emit,B=E(s.g).emit,I=Object(y.k)(function(f,m){if(S[f])Object(y.b)(m,S[f]);else{var h=E(f),r=m[0];k.test(f)?$(h,O(r)):h.on(r)}return S}),j=function(f,m,h){if(f==="done")C.un(m);else if(f==="node"||f==="path")E.un(f+":"+m,h);else{var r=m;E(f).un(r)}return S};function D(f,m){return E(f).on(z(m),m),S}function $(f,m,h){h=h||m;var r=z(m);return f.on(function(){var a=!1;S.forget=function(){a=!0},Object(y.b)(arguments,r),delete S.forget,a&&f.un(h)},h),S}function z(f){return function(){try{return f.apply(S,arguments)}catch(m){setTimeout(function(){throw new Error(m.message)})}}}function K(f,m){return E(f+":"+m)}function O(f){return function(){var m=f.apply(this,arguments);Object(_.a)(m)&&(m===M.a.drop?R():B(m))}}function N(f,m,h){var r;f==="node"?r=O(h):r=h,$(K(f,m),r,h)}function W(f,m){for(var h in m)N(f,h,m[h])}function b(f,m,h){return Object(_.d)(m)?N(f,m,h):W(f,m),S}return E(s.i).on(function(f){S.root=Object(y.f)(f)}),E(s.c).on(function(f,m){S.header=function(h){return h?m[h]:m}}),S={on:I,addListener:I,removeListener:j,emit:E.emit,node:Object(y.j)(b,"node"),path:Object(y.j)(b,"path"),done:Object(y.j)($,C),start:Object(y.j)(D,s.c),fail:E(s.b).on,abort:E(s.a).emit,header:y.i,root:y.i,source:A},S}},function(i,n,c){c.d(n,"a",function(){return y});var s=c(3);function y(_){var M=_(s.j).emit,x=_(s.l).emit,E=_(s.k).emit,A=_(s.b).emit,S=64*1024,k=/[\\"\n]/g,C=0,R=C++,B=C++,I=C++,j=C++,D=C++,$=C++,z=C++,K=C++,O=C++,N=C++,W=C++,b=C++,f=C++,m=C++,h=C++,r=C++,a=C++,d=C++,v=C++,l=C++,o=C,p=S,g,u,w,P,L="",U=!1,Tt=!1,H=R,V=[],Lt=null,J=0,X=0,Yt=0,tt=0,nt=1;function le(){var G=0;P!==void 0&&P.length>S&&(Z("Max buffer length exceeded: textNode"),G=Math.max(G,P.length)),L.length>S&&(Z("Max buffer length exceeded: numberNode"),G=Math.max(G,L.length)),p=S-G+Yt}_(s.m).on(et),_(s.n).on(ot);function Z(G){P!==void 0&&(x(P),E(),P=void 0),g=Error(G+`
Ln: `+nt+`
Col: `+tt+`
Chr: `+u),A(Object(s.o)(void 0,void 0,g))}function ot(){if(H===R){x({}),E(),Tt=!0;return}(H!==B||X!==0)&&Z("Unexpected end"),P!==void 0&&(x(P),E(),P=void 0),Tt=!0}function Qt(G){return G==="\r"||G===`
`||G===" "||G==="	"}function et(G){if(!g){if(Tt)return Z("Cannot write after close");var jt=0;for(u=G[0];u&&(jt>0&&(w=u),u=G[jt++],!!u);)switch(Yt++,u===`
`?(nt++,tt=0):tt++,H){case R:if(u==="{")H=I;else if(u==="[")H=D;else if(!Qt(u))return Z("Non-whitespace before {[.");continue;case K:case I:if(Qt(u))continue;if(H===K)V.push(O);else if(u==="}"){x({}),E(),H=V.pop()||B;continue}else V.push(j);if(u==='"')H=z;else return Z('Malformed object key should start with " ');continue;case O:case j:if(Qt(u))continue;if(u===":")H===j?(V.push(j),P!==void 0&&(x({}),M(P),P=void 0),X++):P!==void 0&&(M(P),P=void 0),H=B;else if(u==="}")P!==void 0&&(x(P),E(),P=void 0),E(),X--,H=V.pop()||B;else if(u===",")H===j&&V.push(j),P!==void 0&&(x(P),E(),P=void 0),H=K;else return Z("Bad object");continue;case D:case B:if(Qt(u))continue;if(H===D)if(x([]),X++,H=B,u==="]"){E(),X--,H=V.pop()||B;continue}else V.push($);if(u==='"')H=z;else if(u==="{")H=I;else if(u==="[")H=D;else if(u==="t")H=N;else if(u==="f")H=f;else if(u==="n")H=a;else if(u==="-")L+=u;else if(u==="0")L+=u,H=o;else if("123456789".indexOf(u)!==-1)L+=u,H=o;else return Z("Bad value");continue;case $:if(u===",")V.push($),P!==void 0&&(x(P),E(),P=void 0),H=B;else if(u==="]")P!==void 0&&(x(P),E(),P=void 0),E(),X--,H=V.pop()||B;else{if(Qt(u))continue;return Z("Bad array")}continue;case z:P===void 0&&(P="");var Y=jt-1;t:for(;;){for(;J>0;)if(Lt+=u,u=G.charAt(jt++),J===4?(P+=String.fromCharCode(parseInt(Lt,16)),J=0,Y=jt-1):J++,!u)break t;if(u==='"'&&!U){H=V.pop()||B,P+=G.substring(Y,jt-1);break}if(u==="\\"&&!U&&(U=!0,P+=G.substring(Y,jt-1),u=G.charAt(jt++),!u))break;if(U){if(U=!1,u==="n"?P+=`
`:u==="r"?P+="\r":u==="t"?P+="	":u==="f"?P+="\f":u==="b"?P+="\b":u==="u"?(J=1,Lt=""):P+=u,u=G.charAt(jt++),Y=jt-1,u)continue;break}k.lastIndex=jt;var st=k.exec(G);if(!st){jt=G.length+1,P+=G.substring(Y,jt-1);break}if(jt=st.index+1,u=G.charAt(st.index),!u){P+=G.substring(Y,jt-1);break}}continue;case N:if(!u)continue;if(u==="r")H=W;else return Z("Invalid true started with t"+u);continue;case W:if(!u)continue;if(u==="u")H=b;else return Z("Invalid true started with tr"+u);continue;case b:if(!u)continue;if(u==="e")x(!0),E(),H=V.pop()||B;else return Z("Invalid true started with tru"+u);continue;case f:if(!u)continue;if(u==="a")H=m;else return Z("Invalid false started with f"+u);continue;case m:if(!u)continue;if(u==="l")H=h;else return Z("Invalid false started with fa"+u);continue;case h:if(!u)continue;if(u==="s")H=r;else return Z("Invalid false started with fal"+u);continue;case r:if(!u)continue;if(u==="e")x(!1),E(),H=V.pop()||B;else return Z("Invalid false started with fals"+u);continue;case a:if(!u)continue;if(u==="u")H=d;else return Z("Invalid null started with n"+u);continue;case d:if(!u)continue;if(u==="l")H=v;else return Z("Invalid null started with nu"+u);continue;case v:if(!u)continue;if(u==="l")x(null),E(),H=V.pop()||B;else return Z("Invalid null started with nul"+u);continue;case l:if(u===".")L+=u,H=o;else return Z("Leading zero not followed by .");continue;case o:if("0123456789".indexOf(u)!==-1)L+=u;else if(u==="."){if(L.indexOf(".")!==-1)return Z("Invalid number has two dots");L+=u}else if(u==="e"||u==="E"){if(L.indexOf("e")!==-1||L.indexOf("E")!==-1)return Z("Invalid number has two exponential");L+=u}else if(u==="+"||u==="-"){if(!(w==="e"||w==="E"))return Z("Invalid symbol in number");L+=u}else L&&(x(parseFloat(L)),E(),L=""),jt--,H=V.pop()||B;continue;default:return Z("Unknown state: "+H)}Yt>=p&&le()}}}},function(i,n,c){c.d(n,"a",function(){return E}),c.d(n,"b",function(){return A});var s=c(19),y=c(3),_=c(2),M=c(20),x=c(0);function E(){return new XMLHttpRequest}function A(S,k,C,R,B,I,j){var D=S(y.m).emit,$=S(y.b).emit,z=0,K=!0;S(y.a).on(function(){k.onreadystatechange=null,k.abort()});function O(){if(String(k.status)[0]==="2"){var b=k.responseText,f=(" "+b.substr(z)).substr(1);f&&D(f),z=Object(_.e)(b)}}"onprogress"in k&&(k.onprogress=O);function N(b){try{K&&S(y.c).emit(b.status,Object(M.a)(b.getAllResponseHeaders())),K=!1}catch{}}k.onreadystatechange=function(){switch(k.readyState){case 2:case 3:return N(k);case 4:N(k);var b=String(k.status)[0]==="2";b?(O(),S(y.n).emit()):$(Object(y.o)(k.status,k.responseText))}};try{k.open(C,R,!0);for(var W in I)k.setRequestHeader(W,I[W]);Object(s.a)(window.location,Object(s.b)(R))||k.setRequestHeader("X-Requested-With","XMLHttpRequest"),k.withCredentials=j,k.send(B)}catch(b){window.setTimeout(Object(x.j)($,Object(y.o)(void 0,void 0,b)),0)}}},function(i,n,c){c.d(n,"a",function(){return s}),c.d(n,"b",function(){return y});function s(_,M){function x(A){return{"http:":80,"https:":443}[A]}function E(A){return String(A.port||x(A.protocol||_.protocol))}return!!(M.protocol&&M.protocol!==_.protocol||M.host&&M.host!==_.host||M.host&&E(M)!==E(_))}function y(_){var M=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/,x=M.exec(_)||[];return{protocol:x[1]||"",host:x[2]||"",port:x[3]||""}}},function(i,n,c){c.d(n,"a",function(){return s});function s(y){var _={};return y&&y.split(`\r
`).forEach(function(M){var x=M.indexOf(": ");_[M.substring(0,x)]=M.substring(x+2)}),_}}]).default})})(Ra);var ka=er.errors,E0=Ra.exports,Ze=function(e,i){var n=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=e,this.connected=!1,this.connection=i.connect({path:this.path}),this.addDefaultEvents();var c=function(s){var y=null;Array.isArray(s)?s.forEach(function(_){n.responseCallbacks[_.id]&&(y=_.id)}):y=s.id,!y&&s.method.indexOf("_subscription")!==-1?n.notificationCallbacks.forEach(function(_){typeof _=="function"&&_(s)}):n.responseCallbacks[y]&&(n.responseCallbacks[y](null,s),delete n.responseCallbacks[y])};i.constructor.name==="Socket"?E0(this.connection).done(c):this.connection.on("data",function(s){n._parseResponse(s.toString()).forEach(c)})};Ze.prototype.addDefaultEvents=function(){var t=this;this.connection.on("connect",function(){t.connected=!0}),this.connection.on("close",function(){t.connected=!1}),this.connection.on("error",function(){t._timeout()}),this.connection.on("end",function(){t._timeout()}),this.connection.on("timeout",function(){t._timeout()})};Ze.prototype._parseResponse=function(t){var e=this,i=[],n=t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(c){e.lastChunk&&(c=e.lastChunk+c);var s=null;try{s=JSON.parse(c)}catch{e.lastChunk=c,clearTimeout(e.lastChunkTimeout),e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),ka.InvalidResponse(c)},1e3*15);return}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,s&&i.push(s)}),i};Ze.prototype._addResponseCallback=function(t,e){var i=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[i]=e,this.responseCallbacks[i].method=n};Ze.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](ka.InvalidConnection("on IPC")),delete this.responseCallbacks[t])};Ze.prototype.reconnect=function(){this.connection.connect({path:this.path})};Ze.prototype.send=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)};Ze.prototype.on=function(t,e){if(typeof e!="function")throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.notificationCallbacks.push(e);break;default:this.connection.on(t,e);break}};Ze.prototype.once=function(t,e){if(typeof e!="function")throw new Error("The second parameter callback must be a function.");this.connection.once(t,e)};Ze.prototype.removeListener=function(t,e){var i=this;switch(t){case"data":this.notificationCallbacks.forEach(function(n,c){n===e&&i.notificationCallbacks.splice(c,1)});break;default:this.connection.removeListener(t,e);break}};Ze.prototype.removeAllListeners=function(t){switch(t){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(t);break}};Ze.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()};Ze.prototype.supportsSubscriptions=function(){return!0};var S0=Ze;const{callbackify:A0}=js;var Vr=er.errors,Oo=Oa,O0=Cc,T0=Bc,rr=function t(e,i){this.provider=null,this.providers=t.providers,this.setProvider(e,i),this.subscriptions=new Map};rr.givenProvider=T0;rr.providers={WebsocketProvider:w0,HttpProvider:x0,IpcProvider:S0};rr.prototype.setProvider=function(t,e){var i=this;if(t&&typeof t=="string"&&this.providers){if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&typeof e=="object"&&typeof e.connect=="function")t=new this.providers.IpcProvider(t,e);else if(t)throw new Error(`Can't autodetect provider for "`+t+'"')}if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on){typeof t.request=="function"?this.provider.on("message",function(c){if(c&&c.type==="eth_subscription"&&c.data){const s=c.data;s.subscription&&i.subscriptions.has(s.subscription)&&i.subscriptions.get(s.subscription).callback(null,s.result)}}):this.provider.on("data",function(s,y){s=s||y,s.method&&s.params&&s.params.subscription&&i.subscriptions.has(s.params.subscription)&&i.subscriptions.get(s.params.subscription).callback(null,s.params.result)}),this.provider.on("connect",function(){i.subscriptions.forEach(function(s){s.subscription.resubscribe()})}),this.provider.on("error",function c(c){i.subscriptions.forEach(function(s){s.callback(c)})});const n=function(s){(!i._isCleanCloseEvent(s)||i._isIpcCloseError(s))&&(i.subscriptions.forEach(function(y){y.callback(Vr.ConnectionCloseError(s)),i.subscriptions.delete(y.subscription.id)}),i.provider&&i.provider.emit&&i.provider.emit("error",Vr.ConnectionCloseError(s))),i.provider&&i.provider.emit&&i.provider.emit("end",s)};this.provider.on("close",n),this.provider.on("disconnect",n)}};rr.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(Vr.InvalidProvider());const{method:i,params:n}=t,c=Oo.toPayload(i,n),s=this._jsonrpcResultCallback(e,c);if(this.provider.request)A0(this.provider.request.bind(this.provider))({method:i,params:n},e);else if(this.provider.sendAsync)this.provider.sendAsync(c,s);else if(this.provider.send)this.provider.send(c,s);else throw new Error("Provider does not have a request or send method to use.")};rr.prototype.sendBatch=function(t,e){if(!this.provider)return e(Vr.InvalidProvider());var i=Oo.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](i,function(n,c){if(n)return e(n);if(!Array.isArray(c))return e(Vr.InvalidResponse(c));e(null,c)})};rr.prototype.addSubscription=function(t,e){if(this.provider.on)this.subscriptions.set(t.id,{callback:e,subscription:t});else throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name)};rr.prototype.removeSubscription=function(t,e){if(this.subscriptions.has(t)){var i=this.subscriptions.get(t).subscription.options.type;this.subscriptions.delete(t),this.send({method:i+"_unsubscribe",params:[t]},e);return}typeof e=="function"&&e(null)};rr.prototype.clearSubscriptions=function(t){try{var e=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(i,n){(!t||i.name!=="syncing")&&e.removeSubscription(n)}),this.provider.reset&&this.provider.reset(),!0}catch(i){throw new Error(`Error while clearing subscriptions: ${i}`)}};rr.prototype._isCleanCloseEvent=function(t){return typeof t=="object"&&([1e3].includes(t.code)||t.wasClean===!0)};rr.prototype._isIpcCloseError=function(t){return typeof t=="boolean"&&t};rr.prototype._jsonrpcResultCallback=function(t,e){return function(i,n){if(n&&n.id&&e.id!==n.id)return t(new Error(`Wrong response id ${n.id} (expected: ${e.id}) in ${JSON.stringify(e)}`));if(i)return t(i);if(n&&n.error)return t(Vr.ErrorResponse(n));if(!Oo.isValidResponse(n))return t(Vr.InvalidResponse(n));t(null,n.result)}};var P0={Manager:rr,BatchManager:O0},C0=cn.exports,To=function(e){var i,n,c=new Promise(function(){i=arguments[0],n=arguments[1]});if(e)return{resolve:i,reject:n,eventEmitter:c};var s=new C0;return c._events=s._events,c.emit=s.emit,c.on=s.on,c.once=s.once,c.off=s.off,c.listeners=s.listeners,c.addListener=s.addListener,c.removeListener=s.removeListener,c.removeAllListeners=s.removeAllListeners,{resolve:i,reject:n,eventEmitter:c}};To.resolve=function(t){var e=To(!0);return e.resolve(t),e.eventEmitter};var Ia=To,B0=er.errors,Na=cn.exports,R0=er.formatters;function La(t){return t}function ir(t){Na.call(this),this.id=null,this.callback=La,this.arguments=null,this.lastBlock=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}ir.prototype=Object.create(Na.prototype);ir.prototype.constructor=ir;ir.prototype._extractCallback=function(t){if(typeof t[t.length-1]=="function")return t.pop()};ir.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw B0.InvalidNumberOfParams(t.length,e.params,e.subscriptionName)};ir.prototype._formatInput=function(t){var e=this.options.subscription;if(!e||!e.inputFormatter)return t;var i=e.inputFormatter.map(function(n,c){return n?n(t[c]):t[c]});return i};ir.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t};ir.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t)||La,this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:e}};ir.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.lastBlock=null,this.removeAllListeners()};ir.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),i=this._toPayload(e);if(!i)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var c=new Error("No provider set.");t.callback(c,null,t),t.emit("error",c)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var c=new Error("The current provider doesn't support subscriptions: "+t.options.requestManager.provider.constructor.name);t.callback(c,null,t),t.emit("error",c)},0),this;if(this.lastBlock&&!!this.options.params&&typeof this.options.params=="object"&&(i.params[1]=this.options.params,i.params[1].fromBlock=R0.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=i.params[1],i.params[0]==="logs"&&!!i.params[1]&&typeof i.params[1]=="object"&&i.params[1].hasOwnProperty("fromBlock")&&isFinite(i.params[1].fromBlock)){var n=Object.assign({},i.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},function(c,s){c?setTimeout(function(){t.callback(c,null,t),t.emit("error",c)},0):s.forEach(function(y){var _=t._formatOutput(y);t.callback(null,_,t),t.emit("data",_)})})}return typeof i.params[1]=="object"&&delete i.params[1].fromBlock,this.options.requestManager.send(i,function(c,s){!c&&s?(t.id=s,t.method=i.params[0],t.options.requestManager.addSubscription(t,function(y,_){y?(t.callback(y,!1,t),t.emit("error",y)):(Array.isArray(_)||(_=[_]),_.forEach(function(M){var x=t._formatOutput(M);if(t.lastBlock=!!x&&typeof x=="object"?x.blockNumber:null,typeof t.options.subscription.subscriptionHandler=="function")return t.options.subscription.subscriptionHandler.call(t,x);t.emit("data",x),t.callback(null,x,t)}))}),t.emit("connected",s)):setTimeout(function(){t.callback(c,!1,t),t.emit("error",c)},0)}),this};ir.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)};var k0=ir,ja=k0,pn=function(e){this.name=e.name,this.type=e.type,this.subscriptions=e.subscriptions||{},this.requestManager=null};pn.prototype.setRequestManager=function(t){this.requestManager=t};pn.prototype.attachToObject=function(t){var e=this.buildCall(),i=this.name.split(".");i.length>1?(t[i[0]]=t[i[0]]||{},t[i[0]][i[1]]=e):t[i[0]]=e};pn.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var e=new ja({subscription:t.subscriptions[arguments[0]]||{},requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}};var Da={subscriptions:pn,subscription:ja},I0=Is(yh),wr=er.errors,Rr=er.formatters,_e=je,Fa=Ia,N0=Da.subscriptions,L0=I0,Xt=function(e){if(!e.call||!e.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.transformPayload=e.transformPayload,this.extraFormatters=e.extraFormatters,this.abiCoder=e.abiCoder,this.requestManager=e.requestManager,this.accounts=e.accounts,this.defaultBlock=e.defaultBlock||"latest",this.defaultAccount=e.defaultAccount||null,this.transactionBlockTimeout=e.transactionBlockTimeout||50,this.transactionConfirmationBlocks=e.transactionConfirmationBlocks||24,this.transactionPollingTimeout=e.transactionPollingTimeout||750,this.transactionPollingInterval=e.transactionPollingInterval||1e3,this.blockHeaderTimeout=e.blockHeaderTimeout||10,this.defaultCommon=e.defaultCommon,this.defaultChain=e.defaultChain,this.defaultHardfork=e.defaultHardfork,this.handleRevert=e.handleRevert};Xt.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)};Xt.prototype.createFunction=function(t,e){var i=this.buildCall();return i.call=this.call,this.setRequestManager(t||this.requestManager,e||this.accounts),i};Xt.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var i=this.name.split(".");i.length>1?(t[i[0]]=t[i[0]]||{},t[i[0]][i[1]]=e):t[i[0]]=e};Xt.prototype.getCall=function(t){return typeof this.call=="function"?this.call(t):this.call};Xt.prototype.extractCallback=function(t){if(typeof t[t.length-1]=="function")return t.pop()};Xt.prototype.validateArgs=function(t){if(t.length!==this.params)throw wr.InvalidNumberOfParams(t.length,this.params,this.name)};Xt.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map(function(i,n){return i?i.call(e,t[n]):t[n]}):t};Xt.prototype.formatOutput=function(t){var e=this;return Array.isArray(t)?t.map(function(i){return e.outputFormatter&&i?e.outputFormatter(i):i}):this.outputFormatter&&t?this.outputFormatter(t):t};Xt.prototype.toPayload=function(t){var e=this.getCall(t),i=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var c={method:e,params:n,callback:i};return this.transformPayload&&(c=this.transformPayload(c)),c};Xt.prototype._confirmTransaction=function(t,e,i){var n=this,c=!1,s=!0,y=0,_=0,M=null,x=null,E=null,A=!!i.params[0]&&typeof i.params[0]=="object"&&i.params[0].gas?i.params[0].gas:null,S=!!i.params[0]&&typeof i.params[0]=="object"&&i.params[0].data&&i.params[0].from&&!i.params[0].to,k=S&&i.params[0].data.length>2,C=[new Xt({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[Rr.inputBlockNumberFormatter,function(j){return!!j}],outputFormatter:Rr.outputBlockFormatter}),new Xt({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:Rr.outputTransactionReceiptFormatter}),new Xt({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[Rr.inputAddressFormatter,Rr.inputDefaultBlockNumberFormatter]}),new Xt({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:Rr.outputTransactionFormatter}),new N0({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:Rr.outputBlockFormatter}}})],R={};C.forEach(j=>{j.attachToObject(R),j.requestManager=n.requestManager});var B=function(j,D,$,z,K){if($)K.unsubscribe(),c=!0,_e._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:$},t.eventEmitter,t.reject);else return K||(K={unsubscribe:function(){clearInterval(M),clearTimeout(x)}}),(j?Fa.resolve(j):R.getTransactionReceipt(e)).catch(function(O){K.unsubscribe(),c=!0,_e._fireError({message:"Failed to check for transaction receipt:",data:O},t.eventEmitter,t.reject)}).then(async function(O){if(!O||!O.blockHash)throw new Error("Receipt missing or blockHash null");if(n.extraFormatters&&n.extraFormatters.receiptFormatter&&(O=n.extraFormatters.receiptFormatter(O)),t.eventEmitter.listeners("confirmation").length>0){var N;if(j===void 0||_!==0){var W=await R.getBlockByNumber("latest"),b=W?W.hash:null;D?E?(N=await R.getBlockByNumber(E.number+1),N&&(E=N,t.eventEmitter.emit("confirmation",_,O,b))):(N=await R.getBlockByNumber(O.blockNumber),E=N,t.eventEmitter.emit("confirmation",_,O,b)):t.eventEmitter.emit("confirmation",_,O,b)}(D&&N||!D)&&_++,s=!1,_===n.transactionConfirmationBlocks+1&&(K.unsubscribe(),t.eventEmitter.removeAllListeners())}return O}).then(async function(O){if(S&&!c){if(!O.contractAddress){s&&(K.unsubscribe(),c=!0),_e._fireError(wr.NoContractAddressFoundError(O),t.eventEmitter,t.reject,null,O);return}var N;try{N=await R.getCode(O.contractAddress)}catch{}if(!N)return;var W=O.status===!0&&k;W||N.length>2?(t.eventEmitter.emit("receipt",O),n.extraFormatters&&n.extraFormatters.contractDeployFormatter?t.resolve(n.extraFormatters.contractDeployFormatter(O)):t.resolve(O),s&&t.eventEmitter.removeAllListeners()):_e._fireError(wr.ContractCodeNotStoredError(O),t.eventEmitter,t.reject,null,O),s&&K.unsubscribe(),c=!0}return O}).then(async function(O){if(!S&&!c){if(!O.outOfGas&&(!A||A!==O.gasUsed)&&(O.status===!0||O.status==="0x1"||typeof O.status=="undefined"))t.eventEmitter.emit("receipt",O),t.resolve(O),s&&t.eventEmitter.removeAllListeners();else if(JSON.stringify(O,null,2),O.status===!1||O.status==="0x0")try{var N=null;if(n.handleRevert&&(n.call==="eth_sendTransaction"||n.call==="eth_sendRawTransaction")){var W=i.params[0];if(n.call==="eth_sendRawTransaction"){var b=i.params[0],f=L0.parse(b);W=Rr.inputTransactionFormatter({data:f.data,to:f.to,from:f.from,gas:f.gasLimit.toHexString(),gasPrice:f.gasPrice.toHexString(),value:f.value.toHexString()})}if(N=await n.getRevertReason(W,O.blockNumber),N)_e._fireError(wr.TransactionRevertInstructionError(N.reason,N.signature,O),t.eventEmitter,t.reject,null,O);else throw!1}else throw!1}catch{_e._fireError(wr.TransactionRevertedWithoutReasonError(O),t.eventEmitter,t.reject,null,O)}else _e._fireError(wr.TransactionOutOfGasError(O),t.eventEmitter,t.reject,null,O);s&&K.unsubscribe(),c=!0}}).catch(function(){y++,D?y-1>=n.transactionPollingTimeout&&(K.unsubscribe(),c=!0,_e._fireError(wr.TransactionError("Transaction was not mined within "+n.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):y-1>=n.transactionBlockTimeout&&(K.unsubscribe(),c=!0,_e._fireError(wr.TransactionError("Transaction was not mined within "+n.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))})},I=function(j){let D=!1;const $=()=>{M=setInterval(B.bind(null,j,!0),n.transactionPollingInterval)};if(!this.requestManager.provider.on)return $();R.subscribe("newBlockHeaders",function(z,K,O){if(D=!0,z||!K)return $();B(j,!1,z,K,O)}),x=setTimeout(()=>{D||$()},this.blockHeaderTimeout*1e3)}.bind(this);R.getTransactionReceipt(e).then(function(j){j&&j.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&I(j),B(j,!1)):c||I()}).catch(function(){c||I()})};var Ua=function(t,e){var i=null;return typeof t=="number"?i=e.wallet[t]:!!t&&typeof t=="object"&&t.address&&t.privateKey?i=t:i=e.wallet[t.toLowerCase()],i};Xt.prototype.buildCall=function(){var t=this,e=t.call==="eth_sendTransaction"||t.call==="eth_sendRawTransaction",i=t.call==="eth_call",n=function(){var c=Fa(!e),s=t.toPayload(Array.prototype.slice.call(arguments)),y=function(x,E){if(t.handleRevert&&i&&t.abiCoder){var A;if(!x&&t.isRevertReasonString(E)?A=E.substring(10):x&&x.data&&(A=x.data.substring(10)),A){var S=t.abiCoder.decodeParameter("string","0x"+A),k="Error(String)";_e._fireError(wr.RevertInstructionError(S,k),c.eventEmitter,c.reject,s.callback,{reason:S,signature:k});return}}try{E=t.formatOutput(E)}catch(C){x=C}if(E instanceof Error&&(x=E),!x)s.callback&&s.callback(null,E);else return x.error&&(x=x.error),_e._fireError(x,c.eventEmitter,c.reject,s.callback);e?(c.eventEmitter.emit("transactionHash",E),t._confirmTransaction(c,E,s)):x||c.resolve(E)},_=function(x){var E=eo(gi({},s),{method:"eth_sendRawTransaction",params:[x.rawTransaction]});t.requestManager.send(E,y)},M=function(x,E){if(E&&E.accounts&&E.accounts.wallet&&E.accounts.wallet.length){var A;if(x.method==="eth_sendTransaction"){var S=x.params[0];if(A=Ua(!!S&&typeof S=="object"?S.from:null,E.accounts),A&&A.privateKey){var S=JSON.parse(JSON.stringify(S));delete S.from,E.defaultChain&&!S.chain&&(S.chain=E.defaultChain),E.defaultHardfork&&!S.hardfork&&(S.hardfork=E.defaultHardfork),E.defaultCommon&&!S.common&&(S.common=E.defaultCommon),E.accounts.signTransaction(S,A.privateKey).then(_).catch(function(B){if(typeof c.eventEmitter.listeners=="function"&&c.eventEmitter.listeners("error").length){try{c.eventEmitter.emit("error",B)}catch{}c.eventEmitter.removeAllListeners(),c.eventEmitter.catch(function(){})}c.reject(B)});return}}else if(x.method==="eth_sign"){var k=x.params[1];if(A=Ua(x.params[0],E.accounts),A&&A.privateKey){var C=E.accounts.sign(k,A.privateKey);x.callback&&x.callback(null,C.signature),c.resolve(C.signature);return}}}return E.requestManager.send(x,y)};return e&&!!s.params[0]&&typeof s.params[0]=="object"&&typeof s.params[0].gasPrice=="undefined"&&(typeof s.params[0].maxPriorityFeePerGas=="undefined"||typeof s.params[0].maxFeePerGas=="undefined")?j0(t,s.params[0]).then(x=>{x.gasPrice!==void 0?s.params[0].gasPrice=x.gasPrice:x.maxPriorityFeePerGas!==void 0&&x.maxFeePerGas!==void 0&&(s.params[0].maxPriorityFeePerGas=x.maxPriorityFeePerGas,s.params[0].maxFeePerGas=x.maxFeePerGas),e&&setTimeout(()=>{c.eventEmitter.emit("sending",s)},0),M(s,t)}):(e&&setTimeout(()=>{c.eventEmitter.emit("sending",s)},0),M(s,t)),e&&setTimeout(()=>{c.eventEmitter.emit("sent",s)},0),c.eventEmitter};return n.method=t,n.request=this.request.bind(this),n};function j0(t,e){return new Promise((i,n)=>{try{var c=new Xt({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(y){return y?_e.toHex(y):"latest"},function(){return!1}]}).createFunction(t.requestManager),s=new Xt({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager);Promise.all([c(),s()]).then(y=>{const[_,M]=y;if((e.type==="0x2"||e.type===void 0)&&_&&_.baseFeePerGas){let x,E;e.gasPrice?(x=e.gasPrice,E=e.gasPrice,delete e.gasPrice):(x=e.maxPriorityFeePerGas||"0x9502F900",E=e.maxFeePerGas||_e.toHex(_e.toBN(_.baseFeePerGas).mul(_e.toBN(2)).add(_e.toBN(x)))),i({maxFeePerGas:E,maxPriorityFeePerGas:x})}else{if(e.maxPriorityFeePerGas||e.maxFeePerGas)throw Error("Network doesn't support eip-1559");i({gasPrice:M})}})}catch(y){n(y)}})}Xt.prototype.getRevertReason=function(t,e){var i=this;return new Promise(function(n,c){new Xt({name:"call",call:"eth_call",params:2,abiCoder:i.abiCoder,handleRevert:!0}).createFunction(i.requestManager)(t,_e.numberToHex(e)).then(function(){n(!1)}).catch(function(s){s.reason?n({reason:s.reason,signature:s.signature}):c(s)})})};Xt.prototype.isRevertReasonString=function(t){return typeof t=="string"&&(t.length-2)/2%32==4&&t.substring(0,10)==="0x08c379a0"};Xt.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t};var Ha=Xt,D0=er.formatters,Po=Ha,F0=je,U0=function(t){var e=function(i){var n;return i.property?(t[i.property]||(t[i.property]={}),n=t[i.property]):n=t,i.methods&&i.methods.forEach(function(c){c instanceof Po||(c=new Po(c)),c.attachToObject(n),c.setRequestManager(t._requestManager)}),t};return e.formatters=D0,e.utils=F0,e.Method=Po,e},H0=U0;const ri=P0,q0=H0,$0=(t,e)=>{if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:()=>t._provider,set:i=>t.setProvider(i),enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=e[0]._requestManager:t._requestManager=new ri.Manager(e[0],e[1]),t.givenProvider=ri.Manager.givenProvider,t.providers=ri.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=(i,n)=>(t._requestManager.setProvider(i,n),t._provider=t._requestManager.provider,!0)),t.setRequestManager=i=>{t._requestManager=i,t._provider=i.provider},t.BatchRequest=ri.BatchManager.bind(null,t._requestManager),t.extend=q0(t)},K0=t=>{t.givenProvider=ri.Manager.givenProvider,t.providers=ri.Manager.providers};var W0={packageInit:$0,addProviders:K0};const Ti="abi/5.0.7",Ut=new ue(Ti),ii={};let qa={calldata:!0,memory:!0,storage:!0},z0={calldata:!0,memory:!0};function mn(t,e){if(t==="bytes"||t==="string"){if(qa[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&z0[e])return!0;return(qa[e]||e==="payable")&&Ut.throwArgumentError("invalid modifier","name",e),!1}function V0(t,e){let i=t;function n(_){Ut.throwArgumentError(`unexpected character at position ${_}`,"param",t)}t=t.replace(/\s/g," ");function c(_){let M={type:"",name:"",parent:_,state:{allowType:!0}};return e&&(M.indexed=!1),M}let s={type:"",name:"",state:{allowType:!0}},y=s;for(let _=0;_<t.length;_++){let M=t[_];switch(M){case"(":y.state.allowType&&y.type===""?y.type="tuple":y.state.allowParams||n(_),y.state.allowType=!1,y.type=ni(y.type),y.components=[c(y)],y=y.components[0];break;case")":delete y.state,y.name==="indexed"&&(e||n(_),y.indexed=!0,y.name=""),mn(y.type,y.name)&&(y.name=""),y.type=ni(y.type);let x=y;y=y.parent,y||n(_),delete x.parent,y.state.allowParams=!1,y.state.allowName=!0,y.state.allowArray=!0;break;case",":delete y.state,y.name==="indexed"&&(e||n(_),y.indexed=!0,y.name=""),mn(y.type,y.name)&&(y.name=""),y.type=ni(y.type);let E=c(y.parent);y.parent.components.push(E),delete y.parent,y=E;break;case" ":y.state.allowType&&y.type!==""&&(y.type=ni(y.type),delete y.state.allowType,y.state.allowName=!0,y.state.allowParams=!0),y.state.allowName&&y.name!==""&&(y.name==="indexed"?(e||n(_),y.indexed&&n(_),y.indexed=!0,y.name=""):mn(y.type,y.name)?y.name="":y.state.allowName=!1);break;case"[":y.state.allowArray||n(_),y.type+=M,y.state.allowArray=!1,y.state.allowName=!1,y.state.readArray=!0;break;case"]":y.state.readArray||n(_),y.type+=M,y.state.readArray=!1,y.state.allowArray=!0,y.state.allowName=!0;break;default:y.state.allowType?(y.type+=M,y.state.allowParams=!0,y.state.allowArray=!0):y.state.allowName?(y.name+=M,delete y.state.allowArray):y.state.readArray?y.type+=M:n(_)}}return y.parent&&Ut.throwArgumentError("unexpected eof","param",t),delete s.state,y.name==="indexed"?(e||n(i.length-7),y.indexed&&n(i.length-7),y.indexed=!0,y.name=""):mn(y.type,y.name)&&(y.name=""),s.type=ni(s.type),s}function vn(t,e){for(let i in e)Ae(t,i,e[i])}const qt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),G0=new RegExp(/^(.*)\[([0-9]*)\]$/);class xe{constructor(e,i){e!==ii&&Ut.throwError("use fromString",ue.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),vn(this,i);let n=this.type.match(G0);n?vn(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:xe.fromObject({type:n[1],components:this.components}),baseType:"array"}):vn(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=qt.sighash),qt[e]||Ut.throwArgumentError("invalid format type","format",e),e===qt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(c=>JSON.parse(c.format(e)))),JSON.stringify(n)}let i="";return this.baseType==="array"?(i+=this.arrayChildren.format(e),i+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==qt.sighash&&(i+=this.type),i+="("+this.components.map(n=>n.format(e)).join(e===qt.full?", ":",")+")"):i+=this.type,e!==qt.sighash&&(this.indexed===!0&&(i+=" indexed"),e===qt.full&&this.name&&(i+=" "+this.name)),i}static from(e,i){return typeof e=="string"?xe.fromString(e,i):xe.fromObject(e)}static fromObject(e){return xe.isParamType(e)?e:new xe(ii,{name:e.name||null,type:ni(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(xe.fromObject):null})}static fromString(e,i){function n(c){return xe.fromObject({name:c.name,type:c.type,indexed:c.indexed,components:c.components})}return n(V0(e,!!i))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function gn(t,e){return J0(t).map(i=>xe.fromString(i,e))}class br{constructor(e,i){e!==ii&&Ut.throwError("use a static from method",ue.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),vn(this,i),this._isFragment=!0,Object.freeze(this)}static from(e){return br.isFragment(e)?e:typeof e=="string"?br.fromString(e):br.fromObject(e)}static fromObject(e){if(br.isFragment(e))return e;switch(e.type){case"function":return cr.fromObject(e);case"event":return lr.fromObject(e);case"constructor":return fr.fromObject(e);case"fallback":case"receive":return null}return Ut.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?lr.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?cr.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?fr.fromString(e.trim()):Ut.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class lr extends br{format(e){if(e||(e=qt.sighash),qt[e]||Ut.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let i="";return e!==qt.sighash&&(i+="event "),i+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ",e!==qt.sighash&&this.anonymous&&(i+="anonymous "),i.trim()}static from(e){return typeof e=="string"?lr.fromString(e):lr.fromObject(e)}static fromObject(e){if(lr.isEventFragment(e))return e;e.type!=="event"&&Ut.throwArgumentError("invalid event object","value",e);const i={name:Co(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(xe.fromObject):[],type:"event"};return new lr(ii,i)}static fromString(e){let i=e.match(yn);i||Ut.throwArgumentError("invalid event string","value",e);let n=!1;return i[3].split(" ").forEach(c=>{switch(c.trim()){case"anonymous":n=!0;break;case"":break;default:Ut.warn("unknown modifier: "+c)}}),lr.fromObject({name:i[1].trim(),anonymous:n,inputs:gn(i[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function $a(t,e){e.gas=null;let i=t.split("@");return i.length!==1?(i.length>2&&Ut.throwArgumentError("invalid human-readable ABI signature","value",t),i[1].match(/^[0-9]+$/)||Ut.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Fr.from(i[1]),i[0]):t}function Ka(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(i=>{switch(i.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+i)}})}function Wa(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ut.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ut.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ut.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ut.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ut.throwArgumentError("unable to determine stateMutability","value",t),e}class fr extends br{format(e){if(e||(e=qt.sighash),qt[e]||Ut.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===qt.sighash&&Ut.throwError("cannot format a constructor for sighash",ue.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let i="constructor("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(i+=this.stateMutability+" "),i.trim()}static from(e){return typeof e=="string"?fr.fromString(e):fr.fromObject(e)}static fromObject(e){if(fr.isConstructorFragment(e))return e;e.type!=="constructor"&&Ut.throwArgumentError("invalid constructor object","value",e);let i=Wa(e);i.constant&&Ut.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(xe.fromObject):[],payable:i.payable,stateMutability:i.stateMutability,gas:e.gas?Fr.from(e.gas):null};return new fr(ii,n)}static fromString(e){let i={type:"constructor"};e=$a(e,i);let n=e.match(yn);return(!n||n[1].trim()!=="constructor")&&Ut.throwArgumentError("invalid constructor string","value",e),i.inputs=gn(n[2].trim(),!1),Ka(n[3].trim(),i),fr.fromObject(i)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class cr extends fr{format(e){if(e||(e=qt.sighash),qt[e]||Ut.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payble:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),ouputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let i="";return e!==qt.sighash&&(i+="function "),i+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ",e!==qt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(i+=this.stateMutability+" "):this.constant&&(i+="view "),this.outputs&&this.outputs.length&&(i+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(i+="@"+this.gas.toString()+" ")),i.trim()}static from(e){return typeof e=="string"?cr.fromString(e):cr.fromObject(e)}static fromObject(e){if(cr.isFunctionFragment(e))return e;e.type!=="function"&&Ut.throwArgumentError("invalid function object","value",e);let i=Wa(e);const n={type:e.type,name:Co(e.name),constant:i.constant,inputs:e.inputs?e.inputs.map(xe.fromObject):[],outputs:e.outputs?e.outputs.map(xe.fromObject):[],payable:i.payable,stateMutability:i.stateMutability,gas:e.gas?Fr.from(e.gas):null};return new cr(ii,n)}static fromString(e){let i={type:"function"};e=$a(e,i);let n=e.split(" returns ");n.length>2&&Ut.throwArgumentError("invalid function string","value",e);let c=n[0].match(yn);if(c||Ut.throwArgumentError("invalid function signature","value",e),i.name=c[1].trim(),i.name&&Co(i.name),i.inputs=gn(c[2],!1),Ka(c[3].trim(),i),n.length>1){let s=n[1].match(yn);(s[1].trim()!=""||s[3].trim()!="")&&Ut.throwArgumentError("unexpected tokens","value",e),i.outputs=gn(s[2],!1)}else i.outputs=[];return cr.fromObject(i)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ni(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Z0=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function Co(t){return(!t||!t.match(Z0))&&Ut.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const yn=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function J0(t){t=t.trim();let e=[],i="",n=0;for(let c=0;c<t.length;c++){let s=t[c];s===","&&n===0?(e.push(i),i=""):(i+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ut.throwArgumentError("unbalanced parenthesis","value",t)))}return i&&e.push(i),e}const Bo=new ue(Ti);function X0(t){const e=[],i=function(n,c){if(!!Array.isArray(c))for(let s in c){const y=n.slice();y.push(s);try{i(y,c[s])}catch(_){e.push({path:y,error:_})}}};return i([],t),e}class Mr{constructor(e,i,n,c){this.name=e,this.type=i,this.localName=n,this.dynamic=c}_throwError(e,i){Bo.throwArgumentError(e,this.localName,i)}}class Ro{constructor(e){Ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return wh(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(yi(e._data))}writeBytes(e){let i=Or(e);const n=i.length%this.wordSize;return n&&(i=yi([i,this._padding.slice(n)])),this._writeData(i)}_getValue(e){let i=Or(Fr.from(e));return i.length>this.wordSize&&Bo.throwError("value out-of-bounds",ue.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:i.length}),i.length%this.wordSize&&(i=yi([this._padding.slice(i.length%this.wordSize),i])),i}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,i=>{this._data[e]=this._getValue(i)}}}class wn{constructor(e,i,n,c){Ae(this,"_data",Or(e)),Ae(this,"wordSize",i||32),Ae(this,"_coerceFunc",n),Ae(this,"allowLoose",c),this._offset=0}get data(){return hr(this._data)}get consumed(){return this._offset}static coerce(e,i){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(i=i.toNumber()),i}coerce(e,i){return this._coerceFunc?this._coerceFunc(e,i):wn.coerce(e,i)}_peekBytes(e,i,n){let c=Math.ceil(i/this.wordSize)*this.wordSize;return this._offset+c>this._data.length&&(this.allowLoose&&n&&this._offset+i<=this._data.length?c=i:Bo.throwError("data out-of-bounds",ue.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+c})),this._data.slice(this._offset,this._offset+c)}subReader(e){return new wn(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,i){let n=this._peekBytes(0,e,!!i);return this._offset+=n.length,n.slice(0,e)}readValue(){return Fr.from(this.readBytes(this.wordSize))}}class Y0 extends Mr{constructor(e){super("address","address",e,!1)}encode(e,i){try{ro(i)}catch(n){this._throwError(n.message,i)}return e.writeValue(i)}decode(e){return ro(Ns(e.readValue().toHexString(),20))}}class Q0 extends Mr{constructor(e){super(e.name,e.type,void 0,e.dynamic);this.coder=e}encode(e,i){return this.coder.encode(e,i)}decode(e){return this.coder.decode(e)}}const Pi=new ue(Ti);function za(t,e,i){let n=null;if(Array.isArray(i))n=i;else if(i&&typeof i=="object"){let M={};n=e.map(x=>{const E=x.localName;return E||Pi.throwError("cannot encode object for signature with missing names",ue.errors.INVALID_ARGUMENT,{argument:"values",coder:x,value:i}),M[E]&&Pi.throwError("cannot encode object for signature with duplicate names",ue.errors.INVALID_ARGUMENT,{argument:"values",coder:x,value:i}),M[E]=!0,i[E]})}else Pi.throwArgumentError("invalid tuple value","tuple",i);e.length!==n.length&&Pi.throwArgumentError("types/value length mismatch","tuple",i);let c=new Ro(t.wordSize),s=new Ro(t.wordSize),y=[];e.forEach((M,x)=>{let E=n[x];if(M.dynamic){let A=s.length;M.encode(s,E);let S=c.writeUpdatableValue();y.push(k=>{S(k+A)})}else M.encode(c,E)}),y.forEach(M=>{M(c.length)});let _=t.appendWriter(c);return _+=t.appendWriter(s),_}function Va(t,e){let i=[],n=t.subReader(0);e.forEach(s=>{let y=null;if(s.dynamic){let _=t.readValue(),M=n.subReader(_.toNumber());try{y=s.decode(M)}catch(x){if(x.code===ue.errors.BUFFER_OVERRUN)throw x;y=x,y.baseType=s.name,y.name=s.localName,y.type=s.type}}else try{y=s.decode(t)}catch(_){if(_.code===ue.errors.BUFFER_OVERRUN)throw _;y=_,y.baseType=s.name,y.name=s.localName,y.type=s.type}y!=null&&i.push(y)});const c=e.reduce((s,y)=>{const _=y.localName;return _&&(s[_]||(s[_]=0),s[_]++),s},{});e.forEach((s,y)=>{let _=s.localName;if(!_||c[_]!==1||(_==="length"&&(_="_length"),i[_]!=null))return;const M=i[y];M instanceof Error?Object.defineProperty(i,_,{get:()=>{throw M}}):i[_]=M});for(let s=0;s<i.length;s++){const y=i[s];y instanceof Error&&Object.defineProperty(i,s,{get:()=>{throw y}})}return Object.freeze(i)}class td extends Mr{constructor(e,i,n){const c=e.type+"["+(i>=0?i:"")+"]",s=i===-1||e.dynamic;super("array",c,n,s);this.coder=e,this.length=i}encode(e,i){Array.isArray(i)||this._throwError("expected array value",i);let n=this.length;n===-1&&(n=i.length,e.writeValue(i.length)),Pi.checkArgumentCount(i.length,n,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let s=0;s<i.length;s++)c.push(this.coder);return za(e,c,i)}decode(e){let i=this.length;i===-1&&(i=e.readValue().toNumber());let n=[];for(let c=0;c<i;c++)n.push(new Q0(this.coder));return e.coerce(this.name,Va(e,n))}}class ed extends Mr{constructor(e){super("bool","bool",e,!1)}encode(e,i){return e.writeValue(i?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Ga extends Mr{constructor(e,i){super(e,e,i,!0)}encode(e,i){i=Or(i);let n=e.writeValue(i.length);return n+=e.writeBytes(i),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class rd extends Ga{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,hr(super.decode(e)))}}class id extends Mr{constructor(e,i){let n="bytes"+String(e);super(n,n,i,!1);this.size=e}encode(e,i){let n=Or(i);return n.length!==this.size&&this._throwError("incorrect data length",i),e.writeBytes(n)}decode(e){return e.coerce(this.name,hr(e.readBytes(this.size)))}}class nd extends Mr{constructor(e){super("null","",e,!1)}encode(e,i){return i!=null&&this._throwError("not null",i),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class od extends Mr{constructor(e,i,n){const c=(i?"int":"uint")+e*8;super(c,c,n,!1);this.size=e,this.signed=i}encode(e,i){let n=Fr.from(i),c=bh.mask(e.wordSize*8);if(this.signed){let s=c.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(Mh).mul(_h)))&&this._throwError("value out-of-bounds",i)}else(n.lt(xh)||n.gt(c.mask(this.size*8)))&&this._throwError("value out-of-bounds",i);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let i=e.readValue().mask(this.size*8);return this.signed&&(i=i.fromTwos(this.size*8)),e.coerce(this.name,i)}}class sd extends Ga{constructor(e){super("string",e)}encode(e,i){return super.encode(e,Eh(i))}decode(e){return Sh(super.decode(e))}}class ko extends Mr{constructor(e,i){let n=!1;const c=[];e.forEach(y=>{y.dynamic&&(n=!0),c.push(y.type)});const s="tuple("+c.join(",")+")";super("tuple",s,i,n);this.coders=e}encode(e,i){return za(e,this.coders,i)}decode(e){return e.coerce(this.name,Va(e,this.coders))}}const Ci=new ue(Ti),ad=new RegExp(/^bytes([0-9]*)$/),fd=new RegExp(/^(u?int)([0-9]*)$/);class bn{constructor(e){Ci.checkNew(new.target,bn),Ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Y0(e.name);case"bool":return new ed(e.name);case"string":return new sd(e.name);case"bytes":return new rd(e.name);case"array":return new td(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new ko((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new nd(e.name)}let i=e.type.match(fd);if(i){let n=parseInt(i[2]||"256");return(n===0||n>256||n%8!=0)&&Ci.throwArgumentError("invalid "+i[1]+" bit length","param",e),new od(n/8,i[1]==="int",e.name)}if(i=e.type.match(ad),i){let n=parseInt(i[1]);return(n===0||n>32)&&Ci.throwArgumentError("invalid bytes length","param",e),new id(n,e.name)}return Ci.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,i){return new wn(e,this._getWordSize(),this.coerceFunc,i)}_getWriter(){return new Ro(this._getWordSize())}encode(e,i){e.length!==i.length&&Ci.throwError("types/values length mismatch",ue.errors.INVALID_ARGUMENT,{count:{types:e.length,values:i.length},value:{types:e,values:i}});const n=e.map(y=>this._getCoder(xe.from(y))),c=new ko(n,"_"),s=this._getWriter();return c.encode(s,i),s.data}decode(e,i,n){const c=e.map(y=>this._getCoder(xe.from(y)));return new ko(c,"_").decode(this._getReader(Or(i),n))}}const Za=new bn,se=new ue(Ti);class Ja extends io{}class Xa extends io{}class Io extends io{static isIndexed(e){return!!(e&&e._isIndexed)}}function Ya(t,e){const i=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return i.error=e,i}class No{constructor(e){se.checkNew(new.target,No);let i=[];typeof e=="string"?i=JSON.parse(e):i=e,Ae(this,"fragments",i.map(n=>br.from(n)).filter(n=>n!=null)),Ae(this,"_abiCoder",no(new.target,"getAbiCoder")()),Ae(this,"functions",{}),Ae(this,"errors",{}),Ae(this,"events",{}),Ae(this,"structs",{}),this.fragments.forEach(n=>{let c=null;switch(n.type){case"constructor":if(this.deploy){se.warn("duplicate definition - constructor");return}Ae(this,"deploy",n);return;case"function":c=this.functions;break;case"event":c=this.events;break;default:return}let s=n.format();if(c[s]){se.warn("duplicate definition - "+s);return}c[s]=n}),this.deploy||Ae(this,"deploy",fr.from({payable:!1,type:"constructor"})),Ae(this,"_isInterface",!0)}format(e){e||(e=qt.full),e===qt.sighash&&se.throwArgumentError("interface does not support formatting sighash","format",e);const i=this.fragments.map(n=>n.format(e));return e===qt.json?JSON.stringify(i.map(n=>JSON.parse(n))):i}static getAbiCoder(){return Za}static getAddress(e){return ro(e)}static getSighash(e){return Ah(Vi(e.format()),0,4)}static getEventTopic(e){return Vi(e.format())}getFunction(e){if(oo(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];se.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),c=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return c.length===0?se.throwArgumentError("no matching function","name",n):c.length>1&&se.throwArgumentError("multiple matching functions","name",n),this.functions[c[0]]}const i=this.functions[cr.fromString(e).format()];return i||se.throwArgumentError("no matching function","signature",e),i}getEvent(e){if(oo(e)){const n=e.toLowerCase();for(const c in this.events)if(n===this.getEventTopic(c))return this.events[c];se.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),c=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return c.length===0?se.throwArgumentError("no matching event","name",n):c.length>1&&se.throwArgumentError("multiple matching events","name",n),this.events[c[0]]}const i=this.events[lr.fromString(e).format()];return i||se.throwArgumentError("no matching event","signature",e),i}getSighash(e){return typeof e=="string"&&(e=this.getFunction(e)),no(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),no(this.constructor,"getEventTopic")(e)}_decodeParams(e,i){return this._abiCoder.decode(e,i)}_encodeParams(e,i){return this._abiCoder.encode(e,i)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeFunctionData(e,i){typeof e=="string"&&(e=this.getFunction(e));const n=Or(i);return hr(n.slice(0,4))!==this.getSighash(e)&&se.throwArgumentError(`data signature does not match function ${e.name}.`,"data",hr(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,i){return typeof e=="string"&&(e=this.getFunction(e)),hr(yi([this.getSighash(e),this._encodeParams(e.inputs,i||[])]))}decodeFunctionResult(e,i){typeof e=="string"&&(e=this.getFunction(e));let n=Or(i),c=null,s=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:hr(n.slice(0,4))==="0x08c379a0"&&(s="Error(string)",c=this._abiCoder.decode(["string"],n.slice(4))[0]);break}return se.throwError("call revert exception",ue.errors.CALL_EXCEPTION,{method:e.format(),errorSignature:s,errorArgs:[c],reason:c})}encodeFunctionResult(e,i){return typeof e=="string"&&(e=this.getFunction(e)),hr(this._abiCoder.encode(e.outputs,i||[]))}encodeFilterTopics(e,i){typeof e=="string"&&(e=this.getEvent(e)),i.length>e.inputs.length&&se.throwError("too many arguments for "+e.format(),ue.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:i});let n=[];e.anonymous||n.push(this.getEventTopic(e));const c=(s,y)=>s.type==="string"?Vi(y):s.type==="bytes"?Ls(hr(y)):(s.type==="address"&&this._abiCoder.encode(["address"],[y]),Ns(hr(y),32));for(i.forEach((s,y)=>{let _=e.inputs[y];if(!_.indexed){s!=null&&se.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+_.name,s);return}s==null?n.push(null):_.baseType==="array"||_.baseType==="tuple"?se.throwArgumentError("filtering with tuples or arrays not supported","contract."+_.name,s):Array.isArray(s)?n.push(s.map(M=>c(_,M))):n.push(c(_,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,i){typeof e=="string"&&(e=this.getEvent(e));const n=[],c=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),i.length!==e.inputs.length&&se.throwArgumentError("event arguments/values mismatch","values",i),e.inputs.forEach((y,_)=>{const M=i[_];if(y.indexed)if(y.type==="string")n.push(Vi(M));else if(y.type==="bytes")n.push(Ls(M));else{if(y.baseType==="tuple"||y.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([y.type],[M]))}else c.push(y),s.push(M)}),{data:this._abiCoder.encode(c,s),topics:n}}decodeEventLog(e,i,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let S=this.getEventTopic(e);(!oo(n[0],32)||n[0].toLowerCase()!==S)&&se.throwError("fragment/topic mismatch",ue.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:S,value:n[0]}),n=n.slice(1)}let c=[],s=[],y=[];e.inputs.forEach((S,k)=>{S.indexed?S.type==="string"||S.type==="bytes"||S.baseType==="tuple"||S.baseType==="array"?(c.push(xe.fromObject({type:"bytes32",name:S.name})),y.push(!0)):(c.push(S),y.push(!1)):(s.push(S),y.push(!1))});let _=n!=null?this._abiCoder.decode(c,yi(n)):null,M=this._abiCoder.decode(s,i,!0),x=[],E=0,A=0;e.inputs.forEach((S,k)=>{if(S.indexed)if(_==null)x[k]=new Io({_isIndexed:!0,hash:null});else if(y[k])x[k]=new Io({_isIndexed:!0,hash:_[A++]});else try{x[k]=_[A++]}catch(C){x[k]=C}else try{x[k]=M[E++]}catch(C){x[k]=C}if(S.name&&x[S.name]==null){const C=x[k];C instanceof Error?Object.defineProperty(x,S.name,{get:()=>{throw Ya(`property ${JSON.stringify(S.name)}`,C)}}):x[S.name]=C}});for(let S=0;S<x.length;S++){const k=x[S];k instanceof Error&&Object.defineProperty(x,S,{get:()=>{throw Ya(`index ${S}`,k)}})}return Object.freeze(x)}parseTransaction(e){let i=this.getFunction(e.data.substring(0,10).toLowerCase());return i?new Xa({args:this._abiCoder.decode(i.inputs,"0x"+e.data.substring(10)),functionFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i),value:Fr.from(e.value||"0")}):null}parseLog(e){let i=this.getEvent(e.topics[0]);return!i||i.anonymous?null:new Ja({eventFragment:i,name:i.name,signature:i.format(),topic:this.getEventTopic(i),args:this.decodeEventLog(i,e.data,e.topics)})}static isInterface(e){return!!(e&&e._isInterface)}}var ud=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ConstructorFragment:fr,EventFragment:lr,Fragment:br,FunctionFragment:cr,ParamType:xe,FormatTypes:qt,AbiCoder:bn,defaultAbiCoder:Za,Interface:No,Indexed:Io,checkResultErrors:X0,LogDescription:Ja,TransactionDescription:Xa}),Qa=Is(ud),hd=ao.Buffer,_r=je,ld=Qa.AbiCoder,tf=Qa.ParamType,Mn=new ld(function(t,e){return t.match(/^u?int/)&&!Array.isArray(e)&&(!(!!e&&typeof e=="object")||e.constructor.name!=="BN")?e.toString():e});function ef(){}var Re=function(){};Re.prototype.encodeFunctionSignature=function(t){return(typeof t=="function"||typeof t=="object"&&t)&&(t=_r._jsonInterfaceMethodToString(t)),_r.sha3(t).slice(0,10)};Re.prototype.encodeEventSignature=function(t){return(typeof t=="function"||typeof t=="object"&&t)&&(t=_r._jsonInterfaceMethodToString(t)),_r.sha3(t)};Re.prototype.encodeParameter=function(t,e){return this.encodeParameters([t],[e])};Re.prototype.encodeParameters=function(t,e){var i=this;return t=i.mapTypes(t),e=e.map(function(n,c){let s=t[c];if(typeof s=="object"&&s.type&&(s=s.type),n=i.formatParam(s,n),typeof s=="string"&&s.includes("tuple")){const y=Mn._getCoder(tf.from(s)),_=(M,x)=>{if(M.name==="array")return x.map(E=>_(Mn._getCoder(tf.from(M.type.replace("[]",""))),E));M.coders.forEach((E,A)=>{E.name==="tuple"?_(E,x[A]):x[A]=i.formatParam(E.name,x[A])})};_(y,n)}return n}),Mn.encode(t,e)};Re.prototype.mapTypes=function(t){var e=this,i=[];return t.forEach(function(n){if(typeof n=="object"&&n.type==="function"&&(n=Object.assign({},n,{type:"bytes24"})),e.isSimplifiedStructFormat(n)){var c=Object.keys(n)[0];i.push(Object.assign(e.mapStructNameAndType(c),{components:e.mapStructToCoderFormat(n[c])}));return}i.push(n)}),i};Re.prototype.isSimplifiedStructFormat=function(t){return typeof t=="object"&&typeof t.components=="undefined"&&typeof t.name=="undefined"};Re.prototype.mapStructNameAndType=function(t){var e="tuple";return t.indexOf("[]")>-1&&(e="tuple[]",t=t.slice(0,-2)),{type:e,name:t}};Re.prototype.mapStructToCoderFormat=function(t){var e=this,i=[];return Object.keys(t).forEach(function(n){if(typeof t[n]=="object"){i.push(Object.assign(e.mapStructNameAndType(n),{components:e.mapStructToCoderFormat(t[n])}));return}i.push({name:n,type:t[n]})}),i};Re.prototype.formatParam=function(t,e){const i=new RegExp(/^bytes([0-9]*)$/),n=new RegExp(/^bytes([0-9]*)\[\]$/),c=new RegExp(/^(u?int)([0-9]*)$/),s=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(_r.isBN(e)||_r.isBigNumber(e))return e.toString(10);if(t.match(n)||t.match(s))return e.map(_=>this.formatParam(t.replace("[]",""),_));let y=t.match(c);if(y){let _=parseInt(y[2]||"256");_/8<e.length&&(e=_r.leftPad(e,_))}if(y=t.match(i),y){hd.isBuffer(e)&&(e=_r.toHex(e));let _=parseInt(y[1]);if(_){let M=_*2;e.substring(0,2)==="0x"&&(M+=2),e.length<M&&(e=_r.rightPad(e,_*2))}e.length%2==1&&(e="0x0"+e.substring(2))}return e};Re.prototype.encodeFunctionCall=function(t,e){return this.encodeFunctionSignature(t)+this.encodeParameters(t.inputs,e).replace("0x","")};Re.prototype.decodeParameter=function(t,e){return this.decodeParameters([t],e)[0]};Re.prototype.decodeParameters=function(t,e){return this.decodeParametersWith(t,e,!1)};Re.prototype.decodeParametersWith=function(t,e,i){if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var n=Mn.decode(this.mapTypes(t),"0x"+e.replace(/0x/i,""),i),c=new ef;return c.__length__=0,t.forEach(function(s,y){var _=n[c.__length__];_=_==="0x"?null:_,c[y]=_,(typeof s=="function"||!!s&&typeof s=="object")&&s.name&&(c[s.name]=_),c.__length__++}),c};Re.prototype.decodeLog=function(t,e,i){var n=this;i=Array.isArray(i)?i:[i],e=e||"";var c=[],s=[],y=0;t.forEach(function(E,A){E.indexed?(s[A]=["bool","int","uint","address","fixed","ufixed"].find(function(S){return E.type.indexOf(S)!==-1})?n.decodeParameter(E.type,i[y]):i[y],y++):c[A]=E});var _=e,M=_?this.decodeParametersWith(c,_,!0):[],x=new ef;return x.__length__=0,t.forEach(function(E,A){x[A]=E.type==="string"?"":null,typeof M[A]!="undefined"&&(x[A]=M[A]),typeof s[A]!="undefined"&&(x[A]=s[A]),E.name&&(x[E.name]=x[A]),x.__length__++}),x};var cd=new Re,dd=cd,Lo=W0,Bi=Ha,Je=je,pd=Da.subscription,ke=er.formatters,ur=er.errors,md=Ia,xr=dd,he=function t(e,i,n){var c=this,s=Array.prototype.slice.call(arguments);if(!(this instanceof t))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){Lo.packageInit(c,arguments),c.clearSubscriptions=c._requestManager.clearSubscriptions},Lo.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!e||!Array.isArray(e))throw ur.ContractMissingABIError();this.options={};var y=s[s.length-1];!!y&&typeof y=="object"&&!Array.isArray(y)&&(n=y,this.options=gi(gi({},this.options),this._getOrSetDefaultOptions(n)),!!i&&typeof i=="object"&&(i=null)),Object.defineProperty(this.options,"address",{set:function(x){x&&(c._address=Je.toChecksumAddress(ke.inputAddressFormatter(x)))},get:function(){return c._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(x){return c.methods={},c.events={},c._jsonInterface=x.map(function(E){var A,S;if(E.constant=E.stateMutability==="view"||E.stateMutability==="pure"||E.constant,E.payable=E.stateMutability==="payable"||E.payable,E.name&&(S=Je._jsonInterfaceMethodToString(E)),E.type==="function"){if(E.signature=xr.encodeFunctionSignature(S),A=c._createTxObject.bind({method:E,parent:c}),!c.methods[E.name])c.methods[E.name]=A;else{var k=c._createTxObject.bind({method:E,parent:c,nextMethod:c.methods[E.name]});c.methods[E.name]=k}c.methods[E.signature]=A,c.methods[S]=A}else if(E.type==="event"){E.signature=xr.encodeEventSignature(S);var C=c._on.bind(c,E.signature);(!c.events[E.name]||c.events[E.name].name==="bound ")&&(c.events[E.name]=C),c.events[E.signature]=C,c.events[S]=C}return E}),c.events.allEvents=c._on.bind(c,"allevents"),c._jsonInterface},get:function(){return c._jsonInterface},enumerable:!0});var _=this.constructor.defaultAccount,M=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return c.options.handleRevert===!1||c.options.handleRevert===!0?c.options.handleRevert:this.constructor.handleRevert},set:function(x){c.options.handleRevert=x},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return c.options.common||this.constructor.defaultCommon},set:function(x){c.options.common=x},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return c.options.hardfork||this.constructor.defaultHardfork},set:function(x){c.options.hardfork=x},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return c.options.chain||this.constructor.defaultChain},set:function(x){c.options.chain=x},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return c.options.transactionPollingTimeout===0?c.options.transactionPollingTimeout:c.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(x){c.options.transactionPollingTimeout=x},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return c.options.transactionPollingInterval===0?c.options.transactionPollingInterval:c.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(x){c.options.transactionPollingInterval=x},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return c.options.transactionConfirmationBlocks===0?c.options.transactionConfirmationBlocks:c.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(x){c.options.transactionConfirmationBlocks=x},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return c.options.transactionBlockTimeout===0?c.options.transactionBlockTimeout:c.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(x){c.options.transactionBlockTimeout=x},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return c.options.blockHeaderTimeout===0?c.options.blockHeaderTimeout:c.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(x){c.options.blockHeaderTimeout=x},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return _},set:function(x){return x&&(_=Je.toChecksumAddress(ke.inputAddressFormatter(x))),x},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return M},set:function(x){return M=x,x},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=i,this.options.jsonInterface=e};he.setProvider=function(t,e){Lo.packageInit(this,[t]),this._ethAccounts=e};he.prototype._getCallback=function(e){if(e&&!!e[e.length-1]&&typeof e[e.length-1]=="function")return e.pop()};he.prototype._checkListener=function(t,e){if(e===t)throw ur.ContractReservedEventError(t)};he.prototype._getOrSetDefaultOptions=function(e){var i=e.gasPrice?String(e.gasPrice):null,n=e.from?Je.toChecksumAddress(ke.inputAddressFormatter(e.from)):null;return e.data=e.data||this.options.data,e.from=n||this.options.from,e.gasPrice=i||this.options.gasPrice,e.gas=e.gas||e.gasLimit||this.options.gas,delete e.gasLimit,e};he.prototype._encodeEventABI=function(t,e){e=e||{};var i=e.filter||{},n={};if(["fromBlock","toBlock"].filter(function(s){return e[s]!==void 0}).forEach(function(s){n[s]=ke.inputBlockNumberFormatter(e[s])}),Array.isArray(e.topics))n.topics=e.topics;else{if(n.topics=[],t&&!t.anonymous&&t.name!=="ALLEVENTS"&&n.topics.push(t.signature),t.name!=="ALLEVENTS"){var c=t.inputs.filter(function(s){return s.indexed===!0}).map(function(s){var y=i[s.name];return y?Array.isArray(y)?y.map(function(_){return xr.encodeParameter(s.type,_)}):xr.encodeParameter(s.type,y):null});n.topics=n.topics.concat(c)}n.topics.length||delete n.topics}return this.options.address&&(n.address=this.options.address.toLowerCase()),n};he.prototype._decodeEventABI=function(t){var e=this;t.data=t.data||"",t.topics=t.topics||[];var i=ke.outputLogFormatter(t);if(e.name==="ALLEVENTS"&&(e=e.jsonInterface.find(function(c){return c.signature===t.topics[0]})||{anonymous:!0}),e.inputs=e.inputs||[],!e.anonymous){let c=0;e.inputs.forEach(s=>s.indexed?c++:null),c>0&&t.topics.length!==c+1&&(e={anonymous:!0,inputs:[]})}var n=e.anonymous?t.topics:t.topics.slice(1);return i.returnValues=xr.decodeLog(e.inputs,t.data,n),delete i.returnValues.__length__,i.event=e.name,i.signature=e.anonymous||!t.topics[0]?null:t.topics[0],i.raw={data:i.data,topics:i.topics},delete i.data,delete i.topics,i};he.prototype._encodeMethodABI=function(){var e=this._method.signature,i=this.arguments||[],n=!1,c=this._parent.options.jsonInterface.filter(function(y){return e==="constructor"&&y.type===e||(y.signature===e||y.signature===e.replace("0x","")||y.name===e)&&y.type==="function"}).map(function(y){var _=Array.isArray(y.inputs)?y.inputs.length:0;if(_!==i.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+_+" arguments.");return y.type==="function"&&(n=y.signature),Array.isArray(y.inputs)?y.inputs:[]}).map(function(y){return xr.encodeParameters(y,i).replace("0x","")})[0]||"";if(e==="constructor"){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+c}var s=n?n+c:c;if(!s)throw new Error(`Couldn't find a matching contract method named "`+this._method.name+'".');return s};he.prototype._decodeMethodReturn=function(t,e){if(!e)return null;e=e.length>=2?e.slice(2):e;var i=xr.decodeParameters(t,e);return i.__length__===1?i[0]:(delete i.__length__,i)};he.prototype.deploy=function(t,e){if(t=t||{},t.arguments=t.arguments||[],t=this._getOrSetDefaultOptions(t),!t.data){if(typeof e=="function")return e(ur.ContractMissingDeployDataError());throw ur.ContractMissingDeployDataError()}var i=this.options.jsonInterface.find(n=>n.type==="constructor")||{};return i.signature="constructor",this._createTxObject.apply({method:i,parent:this,deployData:t.data,_ethAccounts:this.constructor._ethAccounts},t.arguments)};he.prototype._generateEventOptions=function(){var t=Array.prototype.slice.call(arguments),e=this._getCallback(t),i=(!!t[t.length-1]&&typeof t[t.length-1])==="object"?t.pop():{},n=typeof t[0]=="string"?t[0]:"allevents",c=n.toLowerCase()==="allevents"?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(s){return s.type==="event"&&(s.name===n||s.signature==="0x"+n.replace("0x",""))});if(!c)throw ur.ContractEventDoesNotExistError(n);if(!Je.isAddress(this.options.address))throw ur.ContractNoAddressDefinedError();return{params:this._encodeEventABI(c,i),event:c,callback:e}};he.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)};he.prototype.once=function(t,e,i){var n=Array.prototype.slice.call(arguments);if(i=this._getCallback(n),!i)throw ur.ContractOnceRequiresCallbackError();e&&delete e.fromBlock,this._on(t,e,function(c,s,y){y.unsubscribe(),typeof i=="function"&&i(c,s,y)})};he.prototype._on=function(){var t=this._generateEventOptions.apply(this,arguments);t.params&&t.params.toBlock&&(delete t.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",t.event.name),this._checkListener("removeListener",t.event.name);var e=new pd({subscription:{params:1,inputFormatter:[ke.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event),subscriptionHandler:function(i){i.removed?this.emit("changed",i):this.emit("data",i),typeof this.callback=="function"&&this.callback(null,i,this)}},type:"eth",requestManager:this._requestManager});return e.subscribe("logs",t.params,t.callback||function(){}),e};he.prototype.getPastEvents=function(){var t=this._generateEventOptions.apply(this,arguments),e=new Bi({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[ke.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event)});e.setRequestManager(this._requestManager);var i=e.buildCall();return e=null,i(t.params,t.callback)};he.prototype._createTxObject=function(){var e=Array.prototype.slice.call(arguments),i={};if(this.method.type==="function"&&(i.call=this.parent._executeMethod.bind(i,"call"),i.call.request=this.parent._executeMethod.bind(i,"call",!0)),i.send=this.parent._executeMethod.bind(i,"send"),i.send.request=this.parent._executeMethod.bind(i,"send",!0),i.encodeABI=this.parent._encodeMethodABI.bind(i),i.estimateGas=this.parent._executeMethod.bind(i,"estimate"),i.createAccessList=this.parent._executeMethod.bind(i,"createAccessList"),e&&this.method.inputs&&e.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,e);throw ur.InvalidNumberOfParams(e.length,this.method.inputs.length,this.method.name)}return i.arguments=e||[],i._method=this.method,i._parent=this.parent,i._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(i._deployData=this.deployData),i};he.prototype._processExecuteArguments=function(e,i){var n={};if(n.type=e.shift(),n.callback=this._parent._getCallback(e),n.type==="call"&&e[e.length-1]!==!0&&(typeof e[e.length-1]=="string"||isFinite(e[e.length-1]))&&(n.defaultBlock=e.pop()),n.options=(!!e[e.length-1]&&typeof e[e.length-1])==="object"?e.pop():{},n.generateRequest=e[e.length-1]===!0?e.pop():!1,n.options=this._parent._getOrSetDefaultOptions(n.options),n.options.data=this.encodeABI(),!this._deployData&&!Je.isAddress(this._parent.options.address))throw ur.ContractNoAddressDefinedError();return this._deployData||(n.options.to=this._parent.options.address),n.options.data?n:Je._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),i.eventEmitter,i.reject,n.callback)};he.prototype._executeMethod=function(){var e=this,i=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),n),n=md(i.type!=="send"),c=e.constructor._ethAccounts||e._ethAccounts;if(i.generateRequest){var s={params:[ke.inputCallFormatter.call(this._parent,i.options)],callback:i.callback};return i.type==="call"?(s.params.push(ke.inputDefaultBlockNumberFormatter.call(this._parent,i.defaultBlock)),s.method="eth_call",s.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):s.method="eth_sendTransaction",s}switch(i.type){case"createAccessList":if(!Je.isAddress(i.options.from))return Je._fireError(ur.ContractNoFromAddressDefinedError(),n.eventEmitter,n.reject,i.callback);var y=new Bi({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[ke.inputTransactionFormatter,ke.inputDefaultBlockNumberFormatter],requestManager:e._parent._requestManager,accounts:c,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock}).createFunction();return y(i.options,i.callback);case"estimate":var _=new Bi({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[ke.inputCallFormatter],outputFormatter:Je.hexToNumber,requestManager:e._parent._requestManager,accounts:c,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock}).createFunction();return _(i.options,i.callback);case"call":var M=new Bi({name:"call",call:"eth_call",params:2,inputFormatter:[ke.inputCallFormatter,ke.inputDefaultBlockNumberFormatter],outputFormatter:function(A){return e._parent._decodeMethodReturn(e._method.outputs,A)},requestManager:e._parent._requestManager,accounts:c,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,handleRevert:e._parent.handleRevert,abiCoder:xr}).createFunction();return M(i.options,i.defaultBlock,i.callback);case"send":if(!Je.isAddress(i.options.from))return Je._fireError(ur.ContractNoFromAddressDefinedError(),n.eventEmitter,n.reject,i.callback);if(typeof this._method.payable=="boolean"&&!this._method.payable&&i.options.value&&i.options.value>0)return Je._fireError(new Error("Can not send value to non-payable contract method or constructor"),n.eventEmitter,n.reject,i.callback);var x={receiptFormatter:function(A){if(Array.isArray(A.logs)){var S=A.logs.map(C=>e._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:e._parent.options.jsonInterface},C));A.events={};var k=0;S.forEach(function(C){C.event?A.events[C.event]?Array.isArray(A.events[C.event])?A.events[C.event].push(C):A.events[C.event]=[A.events[C.event],C]:A.events[C.event]=C:(A.events[k]=C,k++)}),delete A.logs}return A},contractDeployFormatter:function(A){var S=e._parent.clone();return S.options.address=A.contractAddress,S}},E=new Bi({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[ke.inputTransactionFormatter],requestManager:e._parent._requestManager,accounts:e.constructor._ethAccounts||e._ethAccounts,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,transactionBlockTimeout:e._parent.transactionBlockTimeout,transactionConfirmationBlocks:e._parent.transactionConfirmationBlocks,transactionPollingTimeout:e._parent.transactionPollingTimeout,transactionPollingInterval:e._parent.transactionPollingInterval,defaultCommon:e._parent.defaultCommon,defaultChain:e._parent.defaultChain,defaultHardfork:e._parent.defaultHardfork,handleRevert:e._parent.handleRevert,extraFormatters:x,abiCoder:xr}).createFunction();return E(i.options,i.callback);default:throw new Error('Method "'+i.type+'" not implemented.')}};var rf=he;const _n={ROPSTEN:"ropsten",MAINNET:"mainnet"},vd=[{constant:!0,inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"epoch",type:"uint256"}],name:"getEpochInfo",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"k",type:"uint256"},{internalType:"uint256",name:"t",type:"uint256"},{internalType:"address[]",name:"nodeList",type:"address[]"},{internalType:"uint256",name:"prevEpoch",type:"uint256"},{internalType:"uint256",name:"nextEpoch",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"nodeAddress",type:"address"}],name:"getNodeDetails",outputs:[{internalType:"string",name:"declaredIp",type:"string"},{internalType:"uint256",name:"position",type:"uint256"},{internalType:"uint256",name:"pubKx",type:"uint256"},{internalType:"uint256",name:"pubKy",type:"uint256"},{internalType:"string",name:"tmP2PListenAddress",type:"string"},{internalType:"string",name:"p2pListenAddress",type:"string"}],payable:!1,stateMutability:"view",type:"function"}];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gd(t,e,i,n){function c(s){return s instanceof i?s:new i(function(y){y(s)})}return new(i||(i=Promise))(function(s,y){function _(E){try{x(n.next(E))}catch(A){y(A)}}function M(E){try{x(n.throw(E))}catch(A){y(A)}}function x(E){E.done?s(E.value):c(E.value).then(_,M)}x((n=n.apply(t,e||[])).next())})}class yd{constructor({network:e=_n.MAINNET,proxyAddress:i="0x638646503746d5456209e33a2ff5e3226d698bea"}={}){this._currentEpoch="19",this._torusNodeEndpoints=["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],this._torusNodePub=[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],this._torusIndexes=[1,2,3,4,5,6,7,8,9],this._network=_n.MAINNET;let n;try{n=new URL(e).href}catch{n=`https://${e}.infura.io/v3/b8cdb0e4cff24599a286bf8e87ff1c96`}rf.setProvider(n),this.nodeListContract=new rf(vd,i),this.nodeListAddress=i,this.updated=!1,this._network=e}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}getCurrentEpoch(){return this.nodeListContract.methods.currentEpoch().call()}getEpochInfo(e){return this.nodeListContract.methods.getEpochInfo(e).call()}getNodeEndpoint(e){return this.nodeListContract.methods.getNodeDetails(e).call()}getNodeDetails(e=!1,i=!1){return gd(this,void 0,void 0,function*(){try{if(e&&this._network===_n.MAINNET)return this._nodeDetails;if(this.updated)return this._nodeDetails;const n=yield this.getCurrentEpoch();if(i&&this._network===_n.MAINNET&&n===this._currentEpoch)return this._nodeDetails;this._currentEpoch=n;const c=yield this.getEpochInfo(n),s=c.nodeList.map((E,A)=>A+1);this._torusIndexes=s;const y=c.nodeList.map(E=>this.getNodeEndpoint(E)),_=yield Promise.all(y),M=[],x=[];for(let E=0;E<_.length;E+=1){const A=_[E],S=`https://${A.declaredIp.split(":")[0]}/jrpc`;M.push(S),x.push({X:je.toHex(A.pubKx).replace("0x",""),Y:je.toHex(A.pubKy).replace("0x","")})}return this._torusNodeEndpoints=M,this._torusNodePub=x,this.updated=!0,this._nodeDetails}catch{return this._nodeDetails}})}}var jo={exports:{}};(function(t,e){var i=200,n="__lodash_hash_undefined__",c=800,s=16,y=9007199254740991,_="[object Arguments]",M="[object Array]",x="[object AsyncFunction]",E="[object Boolean]",A="[object Date]",S="[object Error]",k="[object Function]",C="[object GeneratorFunction]",R="[object Map]",B="[object Number]",I="[object Null]",j="[object Object]",D="[object Proxy]",$="[object RegExp]",z="[object Set]",K="[object String]",O="[object Undefined]",N="[object WeakMap]",W="[object ArrayBuffer]",b="[object DataView]",f="[object Float32Array]",m="[object Float64Array]",h="[object Int8Array]",r="[object Int16Array]",a="[object Int32Array]",d="[object Uint8Array]",v="[object Uint8ClampedArray]",l="[object Uint16Array]",o="[object Uint32Array]",p=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,w={};w[f]=w[m]=w[h]=w[r]=w[a]=w[d]=w[v]=w[l]=w[o]=!0,w[_]=w[M]=w[W]=w[E]=w[b]=w[A]=w[S]=w[k]=w[R]=w[B]=w[j]=w[$]=w[z]=w[K]=w[N]=!1;var P=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt,L=typeof self=="object"&&self&&self.Object===Object&&self,U=P||L||Function("return this")(),Tt=e&&!e.nodeType&&e,H=Tt&&!0&&t&&!t.nodeType&&t,V=H&&H.exports===Tt,Lt=V&&P.process,J=function(){try{var T=H&&H.require&&H.require("util").types;return T||Lt&&Lt.binding&&Lt.binding("util")}catch{}}(),X=J&&J.isTypedArray;function Yt(T,F,q){switch(q.length){case 0:return T.call(F);case 1:return T.call(F,q[0]);case 2:return T.call(F,q[0],q[1]);case 3:return T.call(F,q[0],q[1],q[2])}return T.apply(F,q)}function tt(T,F){for(var q=-1,Bt=Array(T);++q<T;)Bt[q]=F(q);return Bt}function nt(T){return function(F){return T(F)}}function le(T,F){return T==null?void 0:T[F]}function Z(T,F){return function(q){return T(F(q))}}var ot=Array.prototype,Qt=Function.prototype,et=Object.prototype,G=U["__core-js_shared__"],jt=Qt.toString,Y=et.hasOwnProperty,st=function(){var T=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),Ne=et.toString,mt=jt.call(Object),vt=RegExp("^"+jt.call(Y).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=V?U.Buffer:void 0,ut=U.Symbol,ht=U.Uint8Array,Le=Ee?Ee.allocUnsafe:void 0,lt=Z(Object.getPrototypeOf,Object),ct=Object.create,De=et.propertyIsEnumerable,gt=ot.splice,rt=ut?ut.toStringTag:void 0,Se=function(){try{var T=Vn(Object,"defineProperty");return T({},"",{}),T}catch{}}(),yt=Ee?Ee.isBuffer:void 0,dt=Math.max,Fe=Date.now,pt=Vn(U,"Map"),ft=Vn(Object,"create"),Ue=function(){function T(){}return function(F){if(!Dr(F))return{};if(ct)return ct(F);T.prototype=F;var q=new T;return T.prototype=void 0,q}}();function it(T){var F=-1,q=T==null?0:T.length;for(this.clear();++F<q;){var Bt=T[F];this.set(Bt[0],Bt[1])}}function wt(){this.__data__=ft?ft(null):{},this.size=0}function He(T){var F=this.has(T)&&delete this.__data__[T];return this.size-=F?1:0,F}function bt(T){var F=this.__data__;if(ft){var q=F[T];return q===n?void 0:q}return Y.call(F,T)?F[T]:void 0}function Mt(T){var F=this.__data__;return ft?F[T]!==void 0:Y.call(F,T)}function qe(T,F){var q=this.__data__;return this.size+=this.has(T)?0:1,q[T]=ft&&F===void 0?n:F,this}it.prototype.clear=wt,it.prototype.delete=He,it.prototype.get=bt,it.prototype.has=Mt,it.prototype.set=qe;function Q(T){var F=-1,q=T==null?0:T.length;for(this.clear();++F<q;){var Bt=T[F];this.set(Bt[0],Bt[1])}}function _t(){this.__data__=[],this.size=0}function $e(T){var F=this.__data__,q=te(F,T);if(q<0)return!1;var Bt=F.length-1;return q==Bt?F.pop():gt.call(F,q,1),--this.size,!0}function xt(T){var F=this.__data__,q=te(F,T);return q<0?void 0:F[q][1]}function Et(T){return te(this.__data__,T)>-1}function Ke(T,F){var q=this.__data__,Bt=te(q,T);return Bt<0?(++this.size,q.push([T,F])):q[Bt][1]=F,this}Q.prototype.clear=_t,Q.prototype.delete=$e,Q.prototype.get=xt,Q.prototype.has=Et,Q.prototype.set=Ke;function at(T){var F=-1,q=T==null?0:T.length;for(this.clear();++F<q;){var Bt=T[F];this.set(Bt[0],Bt[1])}}function St(){this.size=0,this.__data__={hash:new it,map:new(pt||Q),string:new it}}function We(T){var F=Ki(this,T).delete(T);return this.size-=F?1:0,F}function At(T){return Ki(this,T).get(T)}function Ot(T){return Ki(this,T).has(T)}function Ce(T,F){var q=Ki(this,T),Bt=q.size;return q.set(T,F),this.size+=q.size==Bt?0:1,this}at.prototype.clear=St,at.prototype.delete=We,at.prototype.get=At,at.prototype.has=Ot,at.prototype.set=Ce;function Rt(T){var F=this.__data__=new Q(T);this.size=F.size}function It(){this.__data__=new Q,this.size=0}function ce(T){var F=this.__data__,q=F.delete(T);return this.size=F.size,q}function de(T){return this.__data__.get(T)}function pe(T){return this.__data__.has(T)}function me(T,F){var q=this.__data__;if(q instanceof Q){var Bt=q.__data__;if(!pt||Bt.length<i-1)return Bt.push([T,F]),this.size=++q.size,this;q=this.__data__=new at(Bt)}return q.set(T,F),this.size=q.size,this}Rt.prototype.clear=It,Rt.prototype.delete=ce,Rt.prototype.get=de,Rt.prototype.has=pe,Rt.prototype.set=me;function ve(T,F){var q=Jn(T),Bt=!q&&Zn(T),Ft=!q&&!Bt&&Ss(T),Kt=!q&&!Bt&&!Ft&&Os(T),Vt=q||Bt||Ft||Kt,Dt=Vt?tt(T.length,String):[],Gt=Dt.length;for(var Ye in T)(F||Y.call(T,Ye))&&!(Vt&&(Ye=="length"||Ft&&(Ye=="offset"||Ye=="parent")||Kt&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||xs(Ye,Gt)))&&Dt.push(Ye);return Dt}function ne(T,F,q){(q!==void 0&&!Wi(T[F],q)||q===void 0&&!(F in T))&&oe(T,F,q)}function ge(T,F,q){var Bt=T[F];(!(Y.call(T,F)&&Wi(Bt,q))||q===void 0&&!(F in T))&&oe(T,F,q)}function te(T,F){for(var q=T.length;q--;)if(Wi(T[q][0],F))return q;return-1}function oe(T,F,q){F=="__proto__"&&Se?Se(T,F,{configurable:!0,enumerable:!0,value:q,writable:!0}):T[F]=q}var ye=Vu();function ee(T){return T==null?T===void 0?O:I:rt&&rt in Object(T)?Gu(T):th(T)}function ae(T){return mi(T)&&ee(T)==_}function we(T){if(!Dr(T)||Yu(T))return!1;var F=Yn(T)?vt:g;return F.test(nh(T))}function be(T){return mi(T)&&As(T.length)&&!!w[ee(T)]}function Me(T){if(!Dr(T))return Qu(T);var F=Es(T),q=[];for(var Bt in T)Bt=="constructor"&&(F||!Y.call(T,Bt))||q.push(Bt);return q}function fe(T,F,q,Bt,Ft){T!==F&&ye(F,function(Kt,Vt){if(Ft||(Ft=new Rt),Dr(Kt))pr(T,F,Vt,q,fe,Bt,Ft);else{var Dt=Bt?Bt(Gn(T,Vt),Kt,Vt+"",T,F,Ft):void 0;Dt===void 0&&(Dt=Kt),ne(T,Vt,Dt)}},Ts)}function pr(T,F,q,Bt,Ft,Kt,Vt){var Dt=Gn(T,q),Gt=Gn(F,q),Ye=Vt.get(Gt);if(Ye){ne(T,q,Ye);return}var ze=Kt?Kt(Dt,Gt,q+"",T,F,Vt):void 0,vi=ze===void 0;if(vi){var Qn=Jn(Gt),to=!Qn&&Ss(Gt),Cs=!Qn&&!to&&Os(Gt);ze=Gt,Qn||to||Cs?Jn(Dt)?ze=Dt:oh(Dt)?ze=Ku(Dt):to?(vi=!1,ze=Hu(Gt,!0)):Cs?(vi=!1,ze=$u(Gt,!0)):ze=[]:sh(Gt)||Zn(Gt)?(ze=Dt,Zn(Dt)?ze=ah(Dt):(!Dr(Dt)||Yn(Dt))&&(ze=Zu(Gt))):vi=!1}vi&&(Vt.set(Gt,ze),Ft(ze,Gt,Bt,Kt,Vt),Vt.delete(Gt)),ne(T,q,ze)}function mr(T,F){return rh(eh(T,F,Ps),T+"")}var vr=Se?function(T,F){return Se(T,"toString",{configurable:!0,enumerable:!1,value:uh(F),writable:!0})}:Ps;function Hu(T,F){if(F)return T.slice();var q=T.length,Bt=Le?Le(q):new T.constructor(q);return T.copy(Bt),Bt}function qu(T){var F=new T.constructor(T.byteLength);return new ht(F).set(new ht(T)),F}function $u(T,F){var q=F?qu(T.buffer):T.buffer;return new T.constructor(q,T.byteOffset,T.length)}function Ku(T,F){var q=-1,Bt=T.length;for(F||(F=Array(Bt));++q<Bt;)F[q]=T[q];return F}function Wu(T,F,q,Bt){var Ft=!q;q||(q={});for(var Kt=-1,Vt=F.length;++Kt<Vt;){var Dt=F[Kt],Gt=Bt?Bt(q[Dt],T[Dt],Dt,q,T):void 0;Gt===void 0&&(Gt=T[Dt]),Ft?oe(q,Dt,Gt):ge(q,Dt,Gt)}return q}function zu(T){return mr(function(F,q){var Bt=-1,Ft=q.length,Kt=Ft>1?q[Ft-1]:void 0,Vt=Ft>2?q[2]:void 0;for(Kt=T.length>3&&typeof Kt=="function"?(Ft--,Kt):void 0,Vt&&Ju(q[0],q[1],Vt)&&(Kt=Ft<3?void 0:Kt,Ft=1),F=Object(F);++Bt<Ft;){var Dt=q[Bt];Dt&&T(F,Dt,Bt,Kt)}return F})}function Vu(T){return function(F,q,Bt){for(var Ft=-1,Kt=Object(F),Vt=Bt(F),Dt=Vt.length;Dt--;){var Gt=Vt[T?Dt:++Ft];if(q(Kt[Gt],Gt,Kt)===!1)break}return F}}function Ki(T,F){var q=T.__data__;return Xu(F)?q[typeof F=="string"?"string":"hash"]:q.map}function Vn(T,F){var q=le(T,F);return we(q)?q:void 0}function Gu(T){var F=Y.call(T,rt),q=T[rt];try{T[rt]=void 0;var Bt=!0}catch{}var Ft=Ne.call(T);return Bt&&(F?T[rt]=q:delete T[rt]),Ft}function Zu(T){return typeof T.constructor=="function"&&!Es(T)?Ue(lt(T)):{}}function xs(T,F){var q=typeof T;return F=F==null?y:F,!!F&&(q=="number"||q!="symbol"&&u.test(T))&&T>-1&&T%1==0&&T<F}function Ju(T,F,q){if(!Dr(q))return!1;var Bt=typeof F;return(Bt=="number"?Xn(q)&&xs(F,q.length):Bt=="string"&&F in q)?Wi(q[F],T):!1}function Xu(T){var F=typeof T;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?T!=="__proto__":T===null}function Yu(T){return!!st&&st in T}function Es(T){var F=T&&T.constructor,q=typeof F=="function"&&F.prototype||et;return T===q}function Qu(T){var F=[];if(T!=null)for(var q in Object(T))F.push(q);return F}function th(T){return Ne.call(T)}function eh(T,F,q){return F=dt(F===void 0?T.length-1:F,0),function(){for(var Bt=arguments,Ft=-1,Kt=dt(Bt.length-F,0),Vt=Array(Kt);++Ft<Kt;)Vt[Ft]=Bt[F+Ft];Ft=-1;for(var Dt=Array(F+1);++Ft<F;)Dt[Ft]=Bt[Ft];return Dt[F]=q(Vt),Yt(T,this,Dt)}}function Gn(T,F){if(!(F==="constructor"&&typeof T[F]=="function")&&F!="__proto__")return T[F]}var rh=ih(vr);function ih(T){var F=0,q=0;return function(){var Bt=Fe(),Ft=s-(Bt-q);if(q=Bt,Ft>0){if(++F>=c)return arguments[0]}else F=0;return T.apply(void 0,arguments)}}function nh(T){if(T!=null){try{return jt.call(T)}catch{}try{return T+""}catch{}}return""}function Wi(T,F){return T===F||T!==T&&F!==F}var Zn=ae(function(){return arguments}())?ae:function(T){return mi(T)&&Y.call(T,"callee")&&!De.call(T,"callee")},Jn=Array.isArray;function Xn(T){return T!=null&&As(T.length)&&!Yn(T)}function oh(T){return mi(T)&&Xn(T)}var Ss=yt||hh;function Yn(T){if(!Dr(T))return!1;var F=ee(T);return F==k||F==C||F==x||F==D}function As(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=y}function Dr(T){var F=typeof T;return T!=null&&(F=="object"||F=="function")}function mi(T){return T!=null&&typeof T=="object"}function sh(T){if(!mi(T)||ee(T)!=j)return!1;var F=lt(T);if(F===null)return!0;var q=Y.call(F,"constructor")&&F.constructor;return typeof q=="function"&&q instanceof q&&jt.call(q)==mt}var Os=X?nt(X):be;function ah(T){return Wu(T,Ts(T))}function Ts(T){return Xn(T)?ve(T,!0):Me(T)}var fh=zu(function(T,F,q){fe(T,F,q)});function uh(T){return function(){return T}}function Ps(T){return T}function hh(){return!1}t.exports=fh})(jo,jo.exports);var Do=jo.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function wd(t,e,i,n){function c(s){return s instanceof i?s:new i(function(y){y(s)})}return new(i||(i=Promise))(function(s,y){function _(E){try{x(n.next(E))}catch(A){y(A)}}function M(E){try{x(n.throw(E))}catch(A){y(A)}}function x(E){E.done?s(E.value):c(E.value).then(_,M)}x((n=n.apply(t,e||[])).next())})}let Fo="torus-default",Uo="";const bd="x-api-key",Md="x-embed-host";function _d(t){Uo=t}function nf(t){Fo=t}function of(){const t={};return Fo&&(t[bd]=Fo),Uo&&(t[Md]=Uo),t}const xd=(t,e)=>{const i=new Promise((n,c)=>{const s=setTimeout(()=>{clearTimeout(s),c(new Error(`Timed out in ${t}ms`))},t)});return Promise.race([e,i])},sf=(t,e={},i={})=>wd(void 0,void 0,void 0,function*(){const n={mode:"cors",headers:{}};i.useAPIKey&&(n.headers=Object.assign(Object.assign({},n.headers),of()));const c=Do(n,e,{method:"GET"}),s=yield fetch(t,c);if(s.ok)return s.json();throw s}),kr=(t,e={},i={},n={})=>{const c={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(c.headers=Object.assign(Object.assign({},c.headers),of()));const s=Do(c,i,{method:"POST"});return n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e),xd(n.timeout||6e4,fetch(t,s).then(y=>{if(y.ok)return y.json();throw y}))},xn=(t,e)=>({jsonrpc:"2.0",method:t,id:10,params:e});var Ed={exports:{}},Ho={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});function Sd(t){var e=4,i=t.length,n=i%e;if(!n)return t;var c=i,s=e-n,y=i+s,_=Buffer.alloc(y);for(_.write(t);s--;)_.write("=",c++);return _.toString()}qo.default=Sd;Object.defineProperty(Ho,"__esModule",{value:!0});var Ad=qo;function af(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?Ko(t.toString("base64")):Ko(Buffer.from(t,e).toString("base64"))}function Od(t,e){return e===void 0&&(e="utf8"),Buffer.from($o(t),"base64").toString(e)}function $o(t){return t=t.toString(),Ad.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Ko(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Td(t){return Buffer.from($o(t),"base64")}var oi=af;oi.encode=af;oi.decode=Od;oi.toBase64=$o;oi.fromBase64=Ko;oi.toBuffer=Td;Ho.default=oi;(function(t){t.exports=Ho.default,t.exports.default=t.exports})(Ed);const Pd=()=>Rh(32).toString("hex");var Ri={exports:{}},Cd=ff;function ff(t,e){if(t&&e)return ff(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){i[n]=t[n]}),i;function i(){for(var n=new Array(arguments.length),c=0;c<n.length;c++)n[c]=arguments[c];var s=t.apply(this,n),y=n[n.length-1];return typeof s=="function"&&s!==y&&Object.keys(y).forEach(function(_){s[_]=y[_]}),s}}var uf=Cd;Ri.exports=uf(En);Ri.exports.strict=uf(hf);En.proto=En(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return En(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return hf(this)},configurable:!0})});function En(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function hf(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return e.onceError=i+" shouldn't be called more than once",e.called=!1,e}var Bd=Ri.exports,Rd=Ri.exports,kd=function(){},Id=function(t){return t.setHeader&&typeof t.abort=="function"},Nd=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},lf=function(t,e,i){if(typeof e=="function")return lf(t,null,e);e||(e={}),i=Rd(i||kd);var n=t._writableState,c=t._readableState,s=e.readable||e.readable!==!1&&t.readable,y=e.writable||e.writable!==!1&&t.writable,_=!1,M=function(){t.writable||x()},x=function(){y=!1,s||i.call(t)},E=function(){s=!1,y||i.call(t)},A=function(B){i.call(t,B?new Error("exited with error code: "+B):null)},S=function(B){i.call(t,B)},k=function(){process.nextTick(C)},C=function(){if(!_){if(s&&!(c&&c.ended&&!c.destroyed))return i.call(t,new Error("premature close"));if(y&&!(n&&n.ended&&!n.destroyed))return i.call(t,new Error("premature close"))}},R=function(){t.req.on("finish",x)};return Id(t)?(t.on("complete",x),t.on("abort",k),t.req?R():t.on("request",R)):y&&!n&&(t.on("end",M),t.on("close",M)),Nd(t)&&t.on("exit",A),t.on("end",E),t.on("finish",x),e.error!==!1&&t.on("error",S),t.on("close",k),function(){_=!0,t.removeListener("complete",x),t.removeListener("abort",k),t.removeListener("request",R),t.req&&t.req.removeListener("finish",x),t.removeListener("end",M),t.removeListener("close",M),t.removeListener("finish",x),t.removeListener("exit",A),t.removeListener("end",E),t.removeListener("error",S),t.removeListener("close",k)}},Wo=lf,Ld=Ri.exports,jd=Wo,zo=Qe,ki=function(){},Dd=/^v?\.0/.test(process.version),Sn=function(t){return typeof t=="function"},Fd=function(t){return!Dd||!zo?!1:(t instanceof(zo.ReadStream||ki)||t instanceof(zo.WriteStream||ki))&&Sn(t.close)},Ud=function(t){return t.setHeader&&Sn(t.abort)},Hd=function(t,e,i,n){n=Ld(n);var c=!1;t.on("close",function(){c=!0}),jd(t,{readable:e,writable:i},function(y){if(y)return n(y);c=!0,n()});var s=!1;return function(y){if(!c&&!s){if(s=!0,Fd(t))return t.close(ki);if(Ud(t))return t.abort();if(Sn(t.destroy))return t.destroy();n(y||new Error("stream was destroyed"))}}},cf=function(t){t()},qd=function(t,e){return t.pipe(e)},$d=function(){var t=Array.prototype.slice.call(arguments),e=Sn(t[t.length-1]||ki)&&t.pop()||ki;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var i,n=t.map(function(c,s){var y=s<t.length-1,_=s>0;return Hd(c,y,_,function(M){i||(i=M),M&&n.forEach(cf),!y&&(n.forEach(cf),e(i))})});return t.reduce(qd)},An=$d;function On(){}const df="SYN",Vo="ACK",pf="BRK";class mf extends Gi.exports.Duplex{constructor(e){let{name:i,target:n,targetWindow:c=window,targetOrigin:s="*"}=e;super({objectMode:!0});if(Ct(this,"_init",void 0),Ct(this,"_haveSyn",void 0),Ct(this,"_name",void 0),Ct(this,"_target",void 0),Ct(this,"_targetWindow",void 0),Ct(this,"_targetOrigin",void 0),Ct(this,"_onMessage",void 0),Ct(this,"_synIntervalId",void 0),!i||!n)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=i,this._target=n,this._targetWindow=c,this._targetOrigin=s,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(pf,null,On),this._haveSyn=!1,this._init=!1}_handShake(){this._write(df,null,On),this.cork()}_onData(e){if(!this._init)e===df?(this._haveSyn=!0,this._write(Vo,null,On)):e===Vo&&(this._init=!0,this._haveSyn||this._write(Vo,null,On),this.uncork());else if(e===pf)this._break();else try{this.push(e)}catch(i){this.emit("error",i)}}_postMessage(e){const i=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},i)}onMessage(e){const i=e.data;this._targetOrigin!=="*"&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||typeof i!="object"||i.target!==this._name||!i.data||this._onData(i.data)}_read(){}_write(e,i,n){this._postMessage(e),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function vf(t,e,i){try{Reflect.apply(t,e,i)}catch(n){setTimeout(()=>{throw n})}}function Kd(t){const e=t.length,i=new Array(e);for(let n=0;n<e;n+=1)i[n]=t[n];return i}class Tn extends Xi.exports.EventEmitter{emit(e){let i=e==="error";const n=this._events;if(n!==void 0)i=i&&n.error===void 0;else if(!i)return!1;for(var c=arguments.length,s=new Array(c>1?c-1:0),y=1;y<c;y++)s[y-1]=arguments[y];if(i){let M;if(s.length>0&&([M]=s),M instanceof Error)throw M;const x=new Error("Unhandled error.".concat(M?" (".concat(M.message,")"):""));throw x.context=M,x}const _=n[e];if(_===void 0)return!1;if(typeof _=="function")vf(_,this,s);else{const M=_.length,x=Kd(_);for(let E=0;E<M;E+=1)vf(x[E],this,s)}return!0}}class Ii extends Error{constructor(e){let{code:i,message:n,data:c}=e;if(!Number.isInteger(i))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n);Ct(this,"code",void 0),Ct(this,"data",void 0),this.code=i,c!==void 0&&(this.data=c)}toString(){return qs({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function gf(t){return t.toString()}function Wd(){const t={};function e(){return!1}const i=new Tn;function n(M){const x=t[M.id];if(!x)throw new Error('StreamMiddleware - Unknown response id "'.concat(M.id,'"'));delete t[M.id],Object.assign(x.res,M),setTimeout(x.end)}function c(M){i.emit("notification",M)}function s(M,x,E){let A;try{!M.id?c(M):n(M)}catch(S){A=S}E(A)}const y=new Gi.exports.Duplex({objectMode:!0,read:e,write:s});return{events:i,middleware:(M,x,E,A)=>{y.push(M),t[M.id]={req:M,res:x,next:E,end:A}},stream:y}}function zd(){return(t,e,i,n)=>{const c=t.id,s=Pd();t.id=s,e.id=s,i(y=>{t.id=c,e.id=c,y()})}}function yf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function Vd(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?yf(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yf(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}class Er extends Tn{constructor(){super();Ct(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,i,n){const c=[];let s=null,y=!1;for(const _ of n)if([s,y]=await Er._runMiddleware(e,i,_,c),y)break;return[s,y,c.reverse()]}static _runMiddleware(e,i,n,c){return new Promise(s=>{const y=M=>{const x=M||i.error;x&&(i.error=gf(x)),s([x,!0])},_=M=>{i.error?y(i.error):(M&&(typeof M!="function"&&y(new Ii({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),c.push(M)),s([null,!1]))};try{n(e,i,_,y)}catch(M){y(M)}})}static async _runReturnHandlers(e){for(const i of e)await new Promise((n,c)=>{i(s=>s?c(s):n())})}static _checkForCompletion(e,i,n){if(!("result"in i)&&!("error"in i))throw new Ii({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Ii({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,i){if(i&&typeof i!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?i?this._handleBatch(e,i):this._handleBatch(e):i?this._handle(e,i):this._promiseHandle(e)}asMiddleware(){return async(e,i,n,c)=>{try{const[s,y,_]=await Er._runAllMiddleware(e,i,this._middleware);return y?(await Er._runReturnHandlers(_),c(s)):n(async M=>{try{await Er._runReturnHandlers(_)}catch(x){return M(x)}return M()})}catch(s){return c(s)}}}async _handleBatch(e,i){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return i?i(null,n):n}catch(n){if(i)return i(n);throw n}}_promiseHandle(e){return new Promise(i=>{this._handle(e,(n,c)=>{i(c)})})}async _handle(e,i){if(!e||Array.isArray(e)||typeof e!="object"){const y=new Ii({code:-32603,message:"request must be plain object"});return i(y,{id:void 0,jsonrpc:"2.0",error:y})}if(typeof e.method!="string"){const y=new Ii({code:-32603,message:"method must be string"});return i(y,{id:e.id,jsonrpc:"2.0",error:y})}const n=Vd({},e),c={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,c)}catch(y){s=y}return s&&(delete c.result,c.error||(c.error=gf(s))),i(s,c)}async _processRequest(e,i){const[n,c,s]=await Er._runAllMiddleware(e,i,this._middleware);if(Er._checkForCompletion(e,i,c),await Er._runReturnHandlers(s),n)throw n}}class Gd extends Gi.exports.Duplex{constructor(e){let{parent:i,name:n}=e;super({objectMode:!0});Ct(this,"_parent",void 0),Ct(this,"_name",void 0),this._parent=i,this._name=n}_read(){}_write(e,i,n){this._parent.push({name:this._name,data:e}),n()}}function wf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function bf(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):wf(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}const Mf=Symbol("IGNORE_SUBSTREAM");class _f extends Gi.exports.Duplex{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(bf(bf({},e),{},{objectMode:!0}));Ct(this,"_substreams",void 0),Ct(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));const i=new Gd({parent:this,name:e});return this._substreams[e]=i,Zd(this,n=>i.destroy(n||void 0)),i}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));this._substreams[e]=Mf}_read(){}_write(e,i,n){const{name:c,data:s}=e;if(!c)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(e,'"')),n();const y=this._substreams[c];return y?(y!==Mf&&y.push(s),n()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(c,'"')),n())}}function Zd(t,e){const i=Bd(e);Wo(t,{readable:!1},i),Wo(t,{writable:!1},i)}function Jd(t){const e=new _f;return e.getStream=function(n){return this._substreams[n]?this._substreams[n]:this.createStream(n)},An(t,e,t,i=>{i&&window.console.error(i)}),e}function Pn(t){return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}function xf(t,e,i,n,c,s,y){try{var _=t[s](y),M=_.value}catch(x){i(x);return}_.done?e(M):Promise.resolve(M).then(n,c)}function nr(t){return function(){var e=this,i=arguments;return new Promise(function(n,c){var s=t.apply(e,i);function y(M){xf(s,n,c,y,_,"next",M)}function _(M){xf(s,n,c,y,_,"throw",M)}y(void 0)})}}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ef(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zo(t,e,i){return e&&Ef(t.prototype,e),i&&Ef(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var Sf={exports:{}};(function(t){var e=function(i){var n=Object.prototype,c=n.hasOwnProperty,s,y=typeof Symbol=="function"?Symbol:{},_=y.iterator||"@@iterator",M=y.asyncIterator||"@@asyncIterator",x=y.toStringTag||"@@toStringTag";function E(l,o,p){return Object.defineProperty(l,o,{value:p,enumerable:!0,configurable:!0,writable:!0}),l[o]}try{E({},"")}catch{E=function(o,p,g){return o[p]=g}}function A(l,o,p,g){var u=o&&o.prototype instanceof j?o:j,w=Object.create(u.prototype),P=new a(g||[]);return w._invoke=f(l,p,P),w}i.wrap=A;function S(l,o,p){try{return{type:"normal",arg:l.call(o,p)}}catch(g){return{type:"throw",arg:g}}}var k="suspendedStart",C="suspendedYield",R="executing",B="completed",I={};function j(){}function D(){}function $(){}var z={};E(z,_,function(){return this});var K=Object.getPrototypeOf,O=K&&K(K(d([])));O&&O!==n&&c.call(O,_)&&(z=O);var N=$.prototype=j.prototype=Object.create(z);D.prototype=$,E(N,"constructor",$),E($,"constructor",D),D.displayName=E($,x,"GeneratorFunction");function W(l){["next","throw","return"].forEach(function(o){E(l,o,function(p){return this._invoke(o,p)})})}i.isGeneratorFunction=function(l){var o=typeof l=="function"&&l.constructor;return o?o===D||(o.displayName||o.name)==="GeneratorFunction":!1},i.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,$):(l.__proto__=$,E(l,x,"GeneratorFunction")),l.prototype=Object.create(N),l},i.awrap=function(l){return{__await:l}};function b(l,o){function p(w,P,L,U){var Tt=S(l[w],l,P);if(Tt.type==="throw")U(Tt.arg);else{var H=Tt.arg,V=H.value;return V&&typeof V=="object"&&c.call(V,"__await")?o.resolve(V.__await).then(function(Lt){p("next",Lt,L,U)},function(Lt){p("throw",Lt,L,U)}):o.resolve(V).then(function(Lt){H.value=Lt,L(H)},function(Lt){return p("throw",Lt,L,U)})}}var g;function u(w,P){function L(){return new o(function(U,Tt){p(w,P,U,Tt)})}return g=g?g.then(L,L):L()}this._invoke=u}W(b.prototype),E(b.prototype,M,function(){return this}),i.AsyncIterator=b,i.async=function(l,o,p,g,u){u===void 0&&(u=Promise);var w=new b(A(l,o,p,g),u);return i.isGeneratorFunction(o)?w:w.next().then(function(P){return P.done?P.value:w.next()})};function f(l,o,p){var g=k;return function(w,P){if(g===R)throw new Error("Generator is already running");if(g===B){if(w==="throw")throw P;return v()}for(p.method=w,p.arg=P;;){var L=p.delegate;if(L){var U=m(L,p);if(U){if(U===I)continue;return U}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(g===k)throw g=B,p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);g=R;var Tt=S(l,o,p);if(Tt.type==="normal"){if(g=p.done?B:C,Tt.arg===I)continue;return{value:Tt.arg,done:p.done}}else Tt.type==="throw"&&(g=B,p.method="throw",p.arg=Tt.arg)}}}function m(l,o){var p=l.iterator[o.method];if(p===s){if(o.delegate=null,o.method==="throw"){if(l.iterator.return&&(o.method="return",o.arg=s,m(l,o),o.method==="throw"))return I;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var g=S(p,l.iterator,o.arg);if(g.type==="throw")return o.method="throw",o.arg=g.arg,o.delegate=null,I;var u=g.arg;if(!u)return o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,I;if(u.done)o[l.resultName]=u.value,o.next=l.nextLoc,o.method!=="return"&&(o.method="next",o.arg=s);else return u;return o.delegate=null,I}W(N),E(N,x,"Generator"),E(N,_,function(){return this}),E(N,"toString",function(){return"[object Generator]"});function h(l){var o={tryLoc:l[0]};1 in l&&(o.catchLoc=l[1]),2 in l&&(o.finallyLoc=l[2],o.afterLoc=l[3]),this.tryEntries.push(o)}function r(l){var o=l.completion||{};o.type="normal",delete o.arg,l.completion=o}function a(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(h,this),this.reset(!0)}i.keys=function(l){var o=[];for(var p in l)o.push(p);return o.reverse(),function g(){for(;o.length;){var u=o.pop();if(u in l)return g.value=u,g.done=!1,g}return g.done=!0,g}};function d(l){if(l){var o=l[_];if(o)return o.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var p=-1,g=function u(){for(;++p<l.length;)if(c.call(l,p))return u.value=l[p],u.done=!1,u;return u.value=s,u.done=!0,u};return g.next=g}}return{next:v}}i.values=d;function v(){return{value:s,done:!0}}return a.prototype={constructor:a,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(r),!l)for(var o in this)o.charAt(0)==="t"&&c.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=s)},stop:function(){this.done=!0;var l=this.tryEntries[0],o=l.completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var o=this;function p(U,Tt){return w.type="throw",w.arg=l,o.next=U,Tt&&(o.method="next",o.arg=s),!!Tt}for(var g=this.tryEntries.length-1;g>=0;--g){var u=this.tryEntries[g],w=u.completion;if(u.tryLoc==="root")return p("end");if(u.tryLoc<=this.prev){var P=c.call(u,"catchLoc"),L=c.call(u,"finallyLoc");if(P&&L){if(this.prev<u.catchLoc)return p(u.catchLoc,!0);if(this.prev<u.finallyLoc)return p(u.finallyLoc)}else if(P){if(this.prev<u.catchLoc)return p(u.catchLoc,!0)}else if(L){if(this.prev<u.finallyLoc)return p(u.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(l,o){for(var p=this.tryEntries.length-1;p>=0;--p){var g=this.tryEntries[p];if(g.tryLoc<=this.prev&&c.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var u=g;break}}u&&(l==="break"||l==="continue")&&u.tryLoc<=o&&o<=u.finallyLoc&&(u=null);var w=u?u.completion:{};return w.type=l,w.arg=o,u?(this.method="next",this.next=u.finallyLoc,I):this.complete(w)},complete:function(l,o){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&o&&(this.next=o),I},finish:function(l){for(var o=this.tryEntries.length-1;o>=0;--o){var p=this.tryEntries[o];if(p.finallyLoc===l)return this.complete(p.completion,p.afterLoc),r(p),I}},catch:function(l){for(var o=this.tryEntries.length-1;o>=0;--o){var p=this.tryEntries[o];if(p.tryLoc===l){var g=p.completion;if(g.type==="throw"){var u=g.arg;r(p)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(l,o,p){return this.delegate={iterator:d(l),resultName:o,nextLoc:p},this.method==="next"&&(this.arg=s),I}},i}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Sf);var Zt=Sf.exports,Cn,Xd=Us.ec,Jo=new Xd("secp256k1"),Bn=Pt.crypto||Pt.msCrypto||{},Xo=Bn.subtle||Bn.webkitSubtle,Ni=Qe;const Yd=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Qd=Buffer.alloc(32,0);function dr(t,e){if(!t)throw new Error(e||"Assertion failed")}function tp(t){return Buffer.isBuffer(t)&&t.length===32}function Yo(t){return tp(t)?t.compare(Qd)>0&&t.compare(Yd)<0:!1}function ep(t,e){if(t.length!==e.length)return!1;for(var i=0,n=0;n<t.length;n++)i|=t[n]^e[n];return i===0}function Af(t){var e=new Uint8Array(t);return typeof Bn.getRandomValues=="undefined"?Buffer.from(Ni.randomBytes(t)):(Bn.getRandomValues(e),Buffer.from(e))}function rp(t){return new Promise(function(e){var i=Ni.createHash("sha512"),n=i.update(t).digest();e(new Uint8Array(n))})}function ip(t){return function(e,i,n){return new Promise(function(c){if(Xo){var s={name:"AES-CBC"},y=Xo.importKey("raw",i,s,!1,[t]);return y.then(function(x){var E={name:"AES-CBC",iv:e};return Xo[t](E,x,n)}).then(function(x){c(Buffer.from(new Uint8Array(x)))})}else if(t==="encrypt"){var _=Ni.createCipheriv("aes-256-cbc",i,e);let x=_.update(n),E=_.final();c(Buffer.concat([x,E]))}else if(t==="decrypt"){var M=Ni.createDecipheriv("aes-256-cbc",i,e);let x=M.update(n),E=M.final();c(Buffer.concat([x,E]))}})}}var np=ip("decrypt");function op(t,e,i){return new Promise(function(n){var c=Ni.createHmac("sha256",Buffer.from(t));c.update(e);var s=c.digest();n(ep(s,i))})}var sp=function(){for(var t=Af(32);!Yo(t);)t=Af(32);return t};Cn=function(t){return dr(t.length===32,"Bad private key"),dr(Yo(t),"Bad private key"),Buffer.from(Jo.keyFromPrivate(t).getPublic("arr"))};var ap=function(t,e){return new Promise(function(i){dr(Buffer.isBuffer(t),"Bad private key"),dr(Buffer.isBuffer(e),"Bad public key"),dr(t.length===32,"Bad private key"),dr(Yo(t),"Bad private key"),dr(e.length===65||e.length===33,"Bad public key"),e.length===65&&dr(e[0]===4,"Bad public key"),e.length===33&&dr(e[0]===2||e[0]===3,"Bad public key");var n=Jo.keyFromPrivate(t),c=Jo.keyFromPublic(e),s=n.derive(c.getPublic());i(Buffer.from(s.toArray()))})},fp=function(t,e){var i;return ap(t,e.ephemPublicKey).then(function(n){return rp(n)}).then(function(n){i=n.slice(0,32);var c=n.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]);return op(c,s,e.mac)}).then(function(n){return dr(n,"Bad MAC"),np(e.iv,i,e.ciphertext)}).then(function(n){return Buffer.from(new Uint8Array(n))})},Of={exports:{}};(function(t){(function(e,i){function n(h,r){if(!h)throw new Error(r||"Assertion failed")}function c(h,r){h.super_=r;var a=function(){};a.prototype=r.prototype,h.prototype=new a,h.prototype.constructor=h}function s(h,r,a){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((r==="le"||r==="be")&&(a=r,r=10),this._init(h||0,r||10,a||"be"))}typeof e=="object"?e.exports=s:i.BN=s,s.BN=s,s.wordSize=26;var y;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?y=window.Buffer:y=require("buffer").Buffer}catch{}s.isBN=function(r){return r instanceof s?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===s.wordSize&&Array.isArray(r.words)},s.max=function(r,a){return r.cmp(a)>0?r:a},s.min=function(r,a){return r.cmp(a)<0?r:a},s.prototype._init=function(r,a,d){if(typeof r=="number")return this._initNumber(r,a,d);if(typeof r=="object")return this._initArray(r,a,d);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),r=r.toString().replace(/\s+/g,"");var v=0;r[0]==="-"&&(v++,this.negative=1),v<r.length&&(a===16?this._parseHex(r,v,d):(this._parseBase(r,a,v),d==="le"&&this._initArray(this.toArray(),a,d)))},s.prototype._initNumber=function(r,a,d){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(n(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),a,d)},s.prototype._initArray=function(r,a,d){if(n(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var l,o,p=0;if(d==="be")for(v=r.length-1,l=0;v>=0;v-=3)o=r[v]|r[v-1]<<8|r[v-2]<<16,this.words[l]|=o<<p&67108863,this.words[l+1]=o>>>26-p&67108863,p+=24,p>=26&&(p-=26,l++);else if(d==="le")for(v=0,l=0;v<r.length;v+=3)o=r[v]|r[v+1]<<8|r[v+2]<<16,this.words[l]|=o<<p&67108863,this.words[l+1]=o>>>26-p&67108863,p+=24,p>=26&&(p-=26,l++);return this._strip()};function _(h,r){var a=h.charCodeAt(r);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;n(!1,"Invalid character in "+h)}function M(h,r,a){var d=_(h,a);return a-1>=r&&(d|=_(h,a-1)<<4),d}s.prototype._parseHex=function(r,a,d){this.length=Math.ceil((r.length-a)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var l=0,o=0,p;if(d==="be")for(v=r.length-1;v>=a;v-=2)p=M(r,a,v)<<l,this.words[o]|=p&67108863,l>=18?(l-=18,o+=1,this.words[o]|=p>>>26):l+=8;else{var g=r.length-a;for(v=g%2==0?a+1:a;v<r.length;v+=2)p=M(r,a,v)<<l,this.words[o]|=p&67108863,l>=18?(l-=18,o+=1,this.words[o]|=p>>>26):l+=8}this._strip()};function x(h,r,a,d){for(var v=0,l=0,o=Math.min(h.length,a),p=r;p<o;p++){var g=h.charCodeAt(p)-48;v*=d,g>=49?l=g-49+10:g>=17?l=g-17+10:l=g,n(g>=0&&l<d,"Invalid character"),v+=l}return v}s.prototype._parseBase=function(r,a,d){this.words=[0],this.length=1;for(var v=0,l=1;l<=67108863;l*=a)v++;v--,l=l/a|0;for(var o=r.length-d,p=o%v,g=Math.min(o,o-p)+d,u=0,w=d;w<g;w+=v)u=x(r,w,w+v,a),this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(p!==0){var P=1;for(u=x(r,w,r.length,a),w=0;w<p;w++)P*=a;this.imuln(P),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(r){r.words=new Array(this.length);for(var a=0;a<this.length;a++)r.words[a]=this.words[a];r.length=this.length,r.negative=this.negative,r.red=this.red};function E(h,r){h.words=r.words,h.length=r.length,h.negative=r.negative,h.red=r.red}if(s.prototype._move=function(r){E(r,this)},s.prototype.clone=function(){var r=new s(null);return this.copy(r),r},s.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{s.prototype.inspect=A}else s.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(r,a){r=r||10,a=a|0||1;var d;if(r===16||r==="hex"){d="";for(var v=0,l=0,o=0;o<this.length;o++){var p=this.words[o],g=((p<<v|l)&16777215).toString(16);l=p>>>24-v&16777215,l!==0||o!==this.length-1?d=S[6-g.length]+g+d:d=g+d,v+=2,v>=26&&(v-=26,o--)}for(l!==0&&(d=l.toString(16)+d);d.length%a!=0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(r===(r|0)&&r>=2&&r<=36){var u=k[r],w=C[r];d="";var P=this.clone();for(P.negative=0;!P.isZero();){var L=P.modrn(w).toString(r);P=P.idivn(w),P.isZero()?d=L+d:d=S[u-L.length]+L+d}for(this.isZero()&&(d="0"+d);d.length%a!=0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},s.prototype.toJSON=function(){return this.toString(16,2)},y&&(s.prototype.toBuffer=function(r,a){return this.toArrayLike(y,r,a)}),s.prototype.toArray=function(r,a){return this.toArrayLike(Array,r,a)};var R=function(r,a){return r.allocUnsafe?r.allocUnsafe(a):new r(a)};s.prototype.toArrayLike=function(r,a,d){this._strip();var v=this.byteLength(),l=d||Math.max(1,v);n(v<=l,"byte array longer than desired length"),n(l>0,"Requested array length <= 0");var o=R(r,l),p=a==="le"?"LE":"BE";return this["_toArrayLike"+p](o,v),o},s.prototype._toArrayLikeLE=function(r,a){for(var d=0,v=0,l=0,o=0;l<this.length;l++){var p=this.words[l]<<o|v;r[d++]=p&255,d<r.length&&(r[d++]=p>>8&255),d<r.length&&(r[d++]=p>>16&255),o===6?(d<r.length&&(r[d++]=p>>24&255),v=0,o=0):(v=p>>>24,o+=2)}if(d<r.length)for(r[d++]=v;d<r.length;)r[d++]=0},s.prototype._toArrayLikeBE=function(r,a){for(var d=r.length-1,v=0,l=0,o=0;l<this.length;l++){var p=this.words[l]<<o|v;r[d--]=p&255,d>=0&&(r[d--]=p>>8&255),d>=0&&(r[d--]=p>>16&255),o===6?(d>=0&&(r[d--]=p>>24&255),v=0,o=0):(v=p>>>24,o+=2)}if(d>=0)for(r[d--]=v;d>=0;)r[d--]=0},Math.clz32?s.prototype._countBits=function(r){return 32-Math.clz32(r)}:s.prototype._countBits=function(r){var a=r,d=0;return a>=4096&&(d+=13,a>>>=13),a>=64&&(d+=7,a>>>=7),a>=8&&(d+=4,a>>>=4),a>=2&&(d+=2,a>>>=2),d+a},s.prototype._zeroBits=function(r){if(r===0)return 26;var a=r,d=0;return(a&8191)==0&&(d+=13,a>>>=13),(a&127)==0&&(d+=7,a>>>=7),(a&15)==0&&(d+=4,a>>>=4),(a&3)==0&&(d+=2,a>>>=2),(a&1)==0&&d++,d},s.prototype.bitLength=function(){var r=this.words[this.length-1],a=this._countBits(r);return(this.length-1)*26+a};function B(h){for(var r=new Array(h.bitLength()),a=0;a<r.length;a++){var d=a/26|0,v=a%26;r[a]=h.words[d]>>>v&1}return r}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,a=0;a<this.length;a++){var d=this._zeroBits(this.words[a]);if(r+=d,d!==26)break}return r},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},s.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var a=0;a<r.length;a++)this.words[a]=this.words[a]|r.words[a];return this._strip()},s.prototype.ior=function(r){return n((this.negative|r.negative)==0),this.iuor(r)},s.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},s.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},s.prototype.iuand=function(r){var a;this.length>r.length?a=r:a=this;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]&r.words[d];return this.length=a.length,this._strip()},s.prototype.iand=function(r){return n((this.negative|r.negative)==0),this.iuand(r)},s.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},s.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},s.prototype.iuxor=function(r){var a,d;this.length>r.length?(a=this,d=r):(a=r,d=this);for(var v=0;v<d.length;v++)this.words[v]=a.words[v]^d.words[v];if(this!==a)for(;v<a.length;v++)this.words[v]=a.words[v];return this.length=a.length,this._strip()},s.prototype.ixor=function(r){return n((this.negative|r.negative)==0),this.iuxor(r)},s.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},s.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},s.prototype.inotn=function(r){n(typeof r=="number"&&r>=0);var a=Math.ceil(r/26)|0,d=r%26;this._expand(a),d>0&&a--;for(var v=0;v<a;v++)this.words[v]=~this.words[v]&67108863;return d>0&&(this.words[v]=~this.words[v]&67108863>>26-d),this._strip()},s.prototype.notn=function(r){return this.clone().inotn(r)},s.prototype.setn=function(r,a){n(typeof r=="number"&&r>=0);var d=r/26|0,v=r%26;return this._expand(d+1),a?this.words[d]=this.words[d]|1<<v:this.words[d]=this.words[d]&~(1<<v),this._strip()},s.prototype.iadd=function(r){var a;if(this.negative!==0&&r.negative===0)return this.negative=0,a=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,a=this.isub(r),r.negative=1,a._normSign();var d,v;this.length>r.length?(d=this,v=r):(d=r,v=this);for(var l=0,o=0;o<v.length;o++)a=(d.words[o]|0)+(v.words[o]|0)+l,this.words[o]=a&67108863,l=a>>>26;for(;l!==0&&o<d.length;o++)a=(d.words[o]|0)+l,this.words[o]=a&67108863,l=a>>>26;if(this.length=d.length,l!==0)this.words[this.length]=l,this.length++;else if(d!==this)for(;o<d.length;o++)this.words[o]=d.words[o];return this},s.prototype.add=function(r){var a;return r.negative!==0&&this.negative===0?(r.negative=0,a=this.sub(r),r.negative^=1,a):r.negative===0&&this.negative!==0?(this.negative=0,a=r.sub(this),this.negative=1,a):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},s.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var a=this.iadd(r);return r.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var d=this.cmp(r);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,l;d>0?(v=this,l=r):(v=r,l=this);for(var o=0,p=0;p<l.length;p++)a=(v.words[p]|0)-(l.words[p]|0)+o,o=a>>26,this.words[p]=a&67108863;for(;o!==0&&p<v.length;p++)a=(v.words[p]|0)+o,o=a>>26,this.words[p]=a&67108863;if(o===0&&p<v.length&&v!==this)for(;p<v.length;p++)this.words[p]=v.words[p];return this.length=Math.max(this.length,p),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(r){return this.clone().isub(r)};function I(h,r,a){a.negative=r.negative^h.negative;var d=h.length+r.length|0;a.length=d,d=d-1|0;var v=h.words[0]|0,l=r.words[0]|0,o=v*l,p=o&67108863,g=o/67108864|0;a.words[0]=p;for(var u=1;u<d;u++){for(var w=g>>>26,P=g&67108863,L=Math.min(u,r.length-1),U=Math.max(0,u-h.length+1);U<=L;U++){var Tt=u-U|0;v=h.words[Tt]|0,l=r.words[U]|0,o=v*l+P,w+=o/67108864|0,P=o&67108863}a.words[u]=P|0,g=w|0}return g!==0?a.words[u]=g|0:a.length--,a._strip()}var j=function(r,a,d){var v=r.words,l=a.words,o=d.words,p=0,g,u,w,P=v[0]|0,L=P&8191,U=P>>>13,Tt=v[1]|0,H=Tt&8191,V=Tt>>>13,Lt=v[2]|0,J=Lt&8191,X=Lt>>>13,Yt=v[3]|0,tt=Yt&8191,nt=Yt>>>13,le=v[4]|0,Z=le&8191,ot=le>>>13,Qt=v[5]|0,et=Qt&8191,G=Qt>>>13,jt=v[6]|0,Y=jt&8191,st=jt>>>13,Ne=v[7]|0,mt=Ne&8191,vt=Ne>>>13,Ee=v[8]|0,ut=Ee&8191,ht=Ee>>>13,Le=v[9]|0,lt=Le&8191,ct=Le>>>13,De=l[0]|0,gt=De&8191,rt=De>>>13,Se=l[1]|0,yt=Se&8191,dt=Se>>>13,Fe=l[2]|0,pt=Fe&8191,ft=Fe>>>13,Ue=l[3]|0,it=Ue&8191,wt=Ue>>>13,He=l[4]|0,bt=He&8191,Mt=He>>>13,qe=l[5]|0,Q=qe&8191,_t=qe>>>13,$e=l[6]|0,xt=$e&8191,Et=$e>>>13,Ke=l[7]|0,at=Ke&8191,St=Ke>>>13,We=l[8]|0,At=We&8191,Ot=We>>>13,Ce=l[9]|0,Rt=Ce&8191,It=Ce>>>13;d.negative=r.negative^a.negative,d.length=19,g=Math.imul(L,gt),u=Math.imul(L,rt),u=u+Math.imul(U,gt)|0,w=Math.imul(U,rt);var ce=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,g=Math.imul(H,gt),u=Math.imul(H,rt),u=u+Math.imul(V,gt)|0,w=Math.imul(V,rt),g=g+Math.imul(L,yt)|0,u=u+Math.imul(L,dt)|0,u=u+Math.imul(U,yt)|0,w=w+Math.imul(U,dt)|0;var de=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(de>>>26)|0,de&=67108863,g=Math.imul(J,gt),u=Math.imul(J,rt),u=u+Math.imul(X,gt)|0,w=Math.imul(X,rt),g=g+Math.imul(H,yt)|0,u=u+Math.imul(H,dt)|0,u=u+Math.imul(V,yt)|0,w=w+Math.imul(V,dt)|0,g=g+Math.imul(L,pt)|0,u=u+Math.imul(L,ft)|0,u=u+Math.imul(U,pt)|0,w=w+Math.imul(U,ft)|0;var pe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,g=Math.imul(tt,gt),u=Math.imul(tt,rt),u=u+Math.imul(nt,gt)|0,w=Math.imul(nt,rt),g=g+Math.imul(J,yt)|0,u=u+Math.imul(J,dt)|0,u=u+Math.imul(X,yt)|0,w=w+Math.imul(X,dt)|0,g=g+Math.imul(H,pt)|0,u=u+Math.imul(H,ft)|0,u=u+Math.imul(V,pt)|0,w=w+Math.imul(V,ft)|0,g=g+Math.imul(L,it)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(U,it)|0,w=w+Math.imul(U,wt)|0;var me=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(me>>>26)|0,me&=67108863,g=Math.imul(Z,gt),u=Math.imul(Z,rt),u=u+Math.imul(ot,gt)|0,w=Math.imul(ot,rt),g=g+Math.imul(tt,yt)|0,u=u+Math.imul(tt,dt)|0,u=u+Math.imul(nt,yt)|0,w=w+Math.imul(nt,dt)|0,g=g+Math.imul(J,pt)|0,u=u+Math.imul(J,ft)|0,u=u+Math.imul(X,pt)|0,w=w+Math.imul(X,ft)|0,g=g+Math.imul(H,it)|0,u=u+Math.imul(H,wt)|0,u=u+Math.imul(V,it)|0,w=w+Math.imul(V,wt)|0,g=g+Math.imul(L,bt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(U,bt)|0,w=w+Math.imul(U,Mt)|0;var ve=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,g=Math.imul(et,gt),u=Math.imul(et,rt),u=u+Math.imul(G,gt)|0,w=Math.imul(G,rt),g=g+Math.imul(Z,yt)|0,u=u+Math.imul(Z,dt)|0,u=u+Math.imul(ot,yt)|0,w=w+Math.imul(ot,dt)|0,g=g+Math.imul(tt,pt)|0,u=u+Math.imul(tt,ft)|0,u=u+Math.imul(nt,pt)|0,w=w+Math.imul(nt,ft)|0,g=g+Math.imul(J,it)|0,u=u+Math.imul(J,wt)|0,u=u+Math.imul(X,it)|0,w=w+Math.imul(X,wt)|0,g=g+Math.imul(H,bt)|0,u=u+Math.imul(H,Mt)|0,u=u+Math.imul(V,bt)|0,w=w+Math.imul(V,Mt)|0,g=g+Math.imul(L,Q)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(U,Q)|0,w=w+Math.imul(U,_t)|0;var ne=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,g=Math.imul(Y,gt),u=Math.imul(Y,rt),u=u+Math.imul(st,gt)|0,w=Math.imul(st,rt),g=g+Math.imul(et,yt)|0,u=u+Math.imul(et,dt)|0,u=u+Math.imul(G,yt)|0,w=w+Math.imul(G,dt)|0,g=g+Math.imul(Z,pt)|0,u=u+Math.imul(Z,ft)|0,u=u+Math.imul(ot,pt)|0,w=w+Math.imul(ot,ft)|0,g=g+Math.imul(tt,it)|0,u=u+Math.imul(tt,wt)|0,u=u+Math.imul(nt,it)|0,w=w+Math.imul(nt,wt)|0,g=g+Math.imul(J,bt)|0,u=u+Math.imul(J,Mt)|0,u=u+Math.imul(X,bt)|0,w=w+Math.imul(X,Mt)|0,g=g+Math.imul(H,Q)|0,u=u+Math.imul(H,_t)|0,u=u+Math.imul(V,Q)|0,w=w+Math.imul(V,_t)|0,g=g+Math.imul(L,xt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(U,xt)|0,w=w+Math.imul(U,Et)|0;var ge=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,g=Math.imul(mt,gt),u=Math.imul(mt,rt),u=u+Math.imul(vt,gt)|0,w=Math.imul(vt,rt),g=g+Math.imul(Y,yt)|0,u=u+Math.imul(Y,dt)|0,u=u+Math.imul(st,yt)|0,w=w+Math.imul(st,dt)|0,g=g+Math.imul(et,pt)|0,u=u+Math.imul(et,ft)|0,u=u+Math.imul(G,pt)|0,w=w+Math.imul(G,ft)|0,g=g+Math.imul(Z,it)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(ot,it)|0,w=w+Math.imul(ot,wt)|0,g=g+Math.imul(tt,bt)|0,u=u+Math.imul(tt,Mt)|0,u=u+Math.imul(nt,bt)|0,w=w+Math.imul(nt,Mt)|0,g=g+Math.imul(J,Q)|0,u=u+Math.imul(J,_t)|0,u=u+Math.imul(X,Q)|0,w=w+Math.imul(X,_t)|0,g=g+Math.imul(H,xt)|0,u=u+Math.imul(H,Et)|0,u=u+Math.imul(V,xt)|0,w=w+Math.imul(V,Et)|0,g=g+Math.imul(L,at)|0,u=u+Math.imul(L,St)|0,u=u+Math.imul(U,at)|0,w=w+Math.imul(U,St)|0;var te=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(te>>>26)|0,te&=67108863,g=Math.imul(ut,gt),u=Math.imul(ut,rt),u=u+Math.imul(ht,gt)|0,w=Math.imul(ht,rt),g=g+Math.imul(mt,yt)|0,u=u+Math.imul(mt,dt)|0,u=u+Math.imul(vt,yt)|0,w=w+Math.imul(vt,dt)|0,g=g+Math.imul(Y,pt)|0,u=u+Math.imul(Y,ft)|0,u=u+Math.imul(st,pt)|0,w=w+Math.imul(st,ft)|0,g=g+Math.imul(et,it)|0,u=u+Math.imul(et,wt)|0,u=u+Math.imul(G,it)|0,w=w+Math.imul(G,wt)|0,g=g+Math.imul(Z,bt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(ot,bt)|0,w=w+Math.imul(ot,Mt)|0,g=g+Math.imul(tt,Q)|0,u=u+Math.imul(tt,_t)|0,u=u+Math.imul(nt,Q)|0,w=w+Math.imul(nt,_t)|0,g=g+Math.imul(J,xt)|0,u=u+Math.imul(J,Et)|0,u=u+Math.imul(X,xt)|0,w=w+Math.imul(X,Et)|0,g=g+Math.imul(H,at)|0,u=u+Math.imul(H,St)|0,u=u+Math.imul(V,at)|0,w=w+Math.imul(V,St)|0,g=g+Math.imul(L,At)|0,u=u+Math.imul(L,Ot)|0,u=u+Math.imul(U,At)|0,w=w+Math.imul(U,Ot)|0;var oe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,g=Math.imul(lt,gt),u=Math.imul(lt,rt),u=u+Math.imul(ct,gt)|0,w=Math.imul(ct,rt),g=g+Math.imul(ut,yt)|0,u=u+Math.imul(ut,dt)|0,u=u+Math.imul(ht,yt)|0,w=w+Math.imul(ht,dt)|0,g=g+Math.imul(mt,pt)|0,u=u+Math.imul(mt,ft)|0,u=u+Math.imul(vt,pt)|0,w=w+Math.imul(vt,ft)|0,g=g+Math.imul(Y,it)|0,u=u+Math.imul(Y,wt)|0,u=u+Math.imul(st,it)|0,w=w+Math.imul(st,wt)|0,g=g+Math.imul(et,bt)|0,u=u+Math.imul(et,Mt)|0,u=u+Math.imul(G,bt)|0,w=w+Math.imul(G,Mt)|0,g=g+Math.imul(Z,Q)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(ot,Q)|0,w=w+Math.imul(ot,_t)|0,g=g+Math.imul(tt,xt)|0,u=u+Math.imul(tt,Et)|0,u=u+Math.imul(nt,xt)|0,w=w+Math.imul(nt,Et)|0,g=g+Math.imul(J,at)|0,u=u+Math.imul(J,St)|0,u=u+Math.imul(X,at)|0,w=w+Math.imul(X,St)|0,g=g+Math.imul(H,At)|0,u=u+Math.imul(H,Ot)|0,u=u+Math.imul(V,At)|0,w=w+Math.imul(V,Ot)|0,g=g+Math.imul(L,Rt)|0,u=u+Math.imul(L,It)|0,u=u+Math.imul(U,Rt)|0,w=w+Math.imul(U,It)|0;var ye=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,g=Math.imul(lt,yt),u=Math.imul(lt,dt),u=u+Math.imul(ct,yt)|0,w=Math.imul(ct,dt),g=g+Math.imul(ut,pt)|0,u=u+Math.imul(ut,ft)|0,u=u+Math.imul(ht,pt)|0,w=w+Math.imul(ht,ft)|0,g=g+Math.imul(mt,it)|0,u=u+Math.imul(mt,wt)|0,u=u+Math.imul(vt,it)|0,w=w+Math.imul(vt,wt)|0,g=g+Math.imul(Y,bt)|0,u=u+Math.imul(Y,Mt)|0,u=u+Math.imul(st,bt)|0,w=w+Math.imul(st,Mt)|0,g=g+Math.imul(et,Q)|0,u=u+Math.imul(et,_t)|0,u=u+Math.imul(G,Q)|0,w=w+Math.imul(G,_t)|0,g=g+Math.imul(Z,xt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(ot,xt)|0,w=w+Math.imul(ot,Et)|0,g=g+Math.imul(tt,at)|0,u=u+Math.imul(tt,St)|0,u=u+Math.imul(nt,at)|0,w=w+Math.imul(nt,St)|0,g=g+Math.imul(J,At)|0,u=u+Math.imul(J,Ot)|0,u=u+Math.imul(X,At)|0,w=w+Math.imul(X,Ot)|0,g=g+Math.imul(H,Rt)|0,u=u+Math.imul(H,It)|0,u=u+Math.imul(V,Rt)|0,w=w+Math.imul(V,It)|0;var ee=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ee>>>26)|0,ee&=67108863,g=Math.imul(lt,pt),u=Math.imul(lt,ft),u=u+Math.imul(ct,pt)|0,w=Math.imul(ct,ft),g=g+Math.imul(ut,it)|0,u=u+Math.imul(ut,wt)|0,u=u+Math.imul(ht,it)|0,w=w+Math.imul(ht,wt)|0,g=g+Math.imul(mt,bt)|0,u=u+Math.imul(mt,Mt)|0,u=u+Math.imul(vt,bt)|0,w=w+Math.imul(vt,Mt)|0,g=g+Math.imul(Y,Q)|0,u=u+Math.imul(Y,_t)|0,u=u+Math.imul(st,Q)|0,w=w+Math.imul(st,_t)|0,g=g+Math.imul(et,xt)|0,u=u+Math.imul(et,Et)|0,u=u+Math.imul(G,xt)|0,w=w+Math.imul(G,Et)|0,g=g+Math.imul(Z,at)|0,u=u+Math.imul(Z,St)|0,u=u+Math.imul(ot,at)|0,w=w+Math.imul(ot,St)|0,g=g+Math.imul(tt,At)|0,u=u+Math.imul(tt,Ot)|0,u=u+Math.imul(nt,At)|0,w=w+Math.imul(nt,Ot)|0,g=g+Math.imul(J,Rt)|0,u=u+Math.imul(J,It)|0,u=u+Math.imul(X,Rt)|0,w=w+Math.imul(X,It)|0;var ae=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,g=Math.imul(lt,it),u=Math.imul(lt,wt),u=u+Math.imul(ct,it)|0,w=Math.imul(ct,wt),g=g+Math.imul(ut,bt)|0,u=u+Math.imul(ut,Mt)|0,u=u+Math.imul(ht,bt)|0,w=w+Math.imul(ht,Mt)|0,g=g+Math.imul(mt,Q)|0,u=u+Math.imul(mt,_t)|0,u=u+Math.imul(vt,Q)|0,w=w+Math.imul(vt,_t)|0,g=g+Math.imul(Y,xt)|0,u=u+Math.imul(Y,Et)|0,u=u+Math.imul(st,xt)|0,w=w+Math.imul(st,Et)|0,g=g+Math.imul(et,at)|0,u=u+Math.imul(et,St)|0,u=u+Math.imul(G,at)|0,w=w+Math.imul(G,St)|0,g=g+Math.imul(Z,At)|0,u=u+Math.imul(Z,Ot)|0,u=u+Math.imul(ot,At)|0,w=w+Math.imul(ot,Ot)|0,g=g+Math.imul(tt,Rt)|0,u=u+Math.imul(tt,It)|0,u=u+Math.imul(nt,Rt)|0,w=w+Math.imul(nt,It)|0;var we=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,g=Math.imul(lt,bt),u=Math.imul(lt,Mt),u=u+Math.imul(ct,bt)|0,w=Math.imul(ct,Mt),g=g+Math.imul(ut,Q)|0,u=u+Math.imul(ut,_t)|0,u=u+Math.imul(ht,Q)|0,w=w+Math.imul(ht,_t)|0,g=g+Math.imul(mt,xt)|0,u=u+Math.imul(mt,Et)|0,u=u+Math.imul(vt,xt)|0,w=w+Math.imul(vt,Et)|0,g=g+Math.imul(Y,at)|0,u=u+Math.imul(Y,St)|0,u=u+Math.imul(st,at)|0,w=w+Math.imul(st,St)|0,g=g+Math.imul(et,At)|0,u=u+Math.imul(et,Ot)|0,u=u+Math.imul(G,At)|0,w=w+Math.imul(G,Ot)|0,g=g+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,It)|0,u=u+Math.imul(ot,Rt)|0,w=w+Math.imul(ot,It)|0;var be=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(be>>>26)|0,be&=67108863,g=Math.imul(lt,Q),u=Math.imul(lt,_t),u=u+Math.imul(ct,Q)|0,w=Math.imul(ct,_t),g=g+Math.imul(ut,xt)|0,u=u+Math.imul(ut,Et)|0,u=u+Math.imul(ht,xt)|0,w=w+Math.imul(ht,Et)|0,g=g+Math.imul(mt,at)|0,u=u+Math.imul(mt,St)|0,u=u+Math.imul(vt,at)|0,w=w+Math.imul(vt,St)|0,g=g+Math.imul(Y,At)|0,u=u+Math.imul(Y,Ot)|0,u=u+Math.imul(st,At)|0,w=w+Math.imul(st,Ot)|0,g=g+Math.imul(et,Rt)|0,u=u+Math.imul(et,It)|0,u=u+Math.imul(G,Rt)|0,w=w+Math.imul(G,It)|0;var Me=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(Me>>>26)|0,Me&=67108863,g=Math.imul(lt,xt),u=Math.imul(lt,Et),u=u+Math.imul(ct,xt)|0,w=Math.imul(ct,Et),g=g+Math.imul(ut,at)|0,u=u+Math.imul(ut,St)|0,u=u+Math.imul(ht,at)|0,w=w+Math.imul(ht,St)|0,g=g+Math.imul(mt,At)|0,u=u+Math.imul(mt,Ot)|0,u=u+Math.imul(vt,At)|0,w=w+Math.imul(vt,Ot)|0,g=g+Math.imul(Y,Rt)|0,u=u+Math.imul(Y,It)|0,u=u+Math.imul(st,Rt)|0,w=w+Math.imul(st,It)|0;var fe=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,g=Math.imul(lt,at),u=Math.imul(lt,St),u=u+Math.imul(ct,at)|0,w=Math.imul(ct,St),g=g+Math.imul(ut,At)|0,u=u+Math.imul(ut,Ot)|0,u=u+Math.imul(ht,At)|0,w=w+Math.imul(ht,Ot)|0,g=g+Math.imul(mt,Rt)|0,u=u+Math.imul(mt,It)|0,u=u+Math.imul(vt,Rt)|0,w=w+Math.imul(vt,It)|0;var pr=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(pr>>>26)|0,pr&=67108863,g=Math.imul(lt,At),u=Math.imul(lt,Ot),u=u+Math.imul(ct,At)|0,w=Math.imul(ct,Ot),g=g+Math.imul(ut,Rt)|0,u=u+Math.imul(ut,It)|0,u=u+Math.imul(ht,Rt)|0,w=w+Math.imul(ht,It)|0;var mr=(p+g|0)+((u&8191)<<13)|0;p=(w+(u>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(lt,Rt),u=Math.imul(lt,It),u=u+Math.imul(ct,Rt)|0,w=Math.imul(ct,It);var vr=(p+g|0)+((u&8191)<<13)|0;return p=(w+(u>>>13)|0)+(vr>>>26)|0,vr&=67108863,o[0]=ce,o[1]=de,o[2]=pe,o[3]=me,o[4]=ve,o[5]=ne,o[6]=ge,o[7]=te,o[8]=oe,o[9]=ye,o[10]=ee,o[11]=ae,o[12]=we,o[13]=be,o[14]=Me,o[15]=fe,o[16]=pr,o[17]=mr,o[18]=vr,p!==0&&(o[19]=p,d.length++),d};Math.imul||(j=I);function D(h,r,a){a.negative=r.negative^h.negative,a.length=h.length+r.length;for(var d=0,v=0,l=0;l<a.length-1;l++){var o=v;v=0;for(var p=d&67108863,g=Math.min(l,r.length-1),u=Math.max(0,l-h.length+1);u<=g;u++){var w=l-u,P=h.words[w]|0,L=r.words[u]|0,U=P*L,Tt=U&67108863;o=o+(U/67108864|0)|0,Tt=Tt+p|0,p=Tt&67108863,o=o+(Tt>>>26)|0,v+=o>>>26,o&=67108863}a.words[l]=p,d=o,o=v}return d!==0?a.words[l]=d:a.length--,a._strip()}function $(h,r,a){return D(h,r,a)}s.prototype.mulTo=function(r,a){var d,v=this.length+r.length;return this.length===10&&r.length===10?d=j(this,r,a):v<63?d=I(this,r,a):v<1024?d=D(this,r,a):d=$(this,r,a),d},s.prototype.mul=function(r){var a=new s(null);return a.words=new Array(this.length+r.length),this.mulTo(r,a)},s.prototype.mulf=function(r){var a=new s(null);return a.words=new Array(this.length+r.length),$(this,r,a)},s.prototype.imul=function(r){return this.clone().mulTo(r,this)},s.prototype.imuln=function(r){var a=r<0;a&&(r=-r),n(typeof r=="number"),n(r<67108864);for(var d=0,v=0;v<this.length;v++){var l=(this.words[v]|0)*r,o=(l&67108863)+(d&67108863);d>>=26,d+=l/67108864|0,d+=o>>>26,this.words[v]=o&67108863}return d!==0&&(this.words[v]=d,this.length++),a?this.ineg():this},s.prototype.muln=function(r){return this.clone().imuln(r)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(r){var a=B(r);if(a.length===0)return new s(1);for(var d=this,v=0;v<a.length&&a[v]===0;v++,d=d.sqr());if(++v<a.length)for(var l=d.sqr();v<a.length;v++,l=l.sqr())a[v]!==0&&(d=d.mul(l));return d},s.prototype.iushln=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26,v=67108863>>>26-a<<26-a,l;if(a!==0){var o=0;for(l=0;l<this.length;l++){var p=this.words[l]&v,g=(this.words[l]|0)-p<<a;this.words[l]=g|o,o=p>>>26-a}o&&(this.words[l]=o,this.length++)}if(d!==0){for(l=this.length-1;l>=0;l--)this.words[l+d]=this.words[l];for(l=0;l<d;l++)this.words[l]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(r){return n(this.negative===0),this.iushln(r)},s.prototype.iushrn=function(r,a,d){n(typeof r=="number"&&r>=0);var v;a?v=(a-a%26)/26:v=0;var l=r%26,o=Math.min((r-l)/26,this.length),p=67108863^67108863>>>l<<l,g=d;if(v-=o,v=Math.max(0,v),g){for(var u=0;u<o;u++)g.words[u]=this.words[u];g.length=o}if(o!==0)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=v);u--){var P=this.words[u]|0;this.words[u]=w<<26-l|P>>>l,w=P&p}return g&&w!==0&&(g.words[g.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(r,a,d){return n(this.negative===0),this.iushrn(r,a,d)},s.prototype.shln=function(r){return this.clone().ishln(r)},s.prototype.ushln=function(r){return this.clone().iushln(r)},s.prototype.shrn=function(r){return this.clone().ishrn(r)},s.prototype.ushrn=function(r){return this.clone().iushrn(r)},s.prototype.testn=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26,v=1<<a;if(this.length<=d)return!1;var l=this.words[d];return!!(l&v)},s.prototype.imaskn=function(r){n(typeof r=="number"&&r>=0);var a=r%26,d=(r-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(a!==0&&d++,this.length=Math.min(d,this.length),a!==0){var v=67108863^67108863>>>a<<a;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(r){return this.clone().imaskn(r)},s.prototype.iaddn=function(r){return n(typeof r=="number"),n(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<=r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},s.prototype._iaddn=function(r){this.words[0]+=r;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},s.prototype.isubn=function(r){if(n(typeof r=="number"),n(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},s.prototype.addn=function(r){return this.clone().iaddn(r)},s.prototype.subn=function(r){return this.clone().isubn(r)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(r,a,d){var v=r.length+d,l;this._expand(v);var o,p=0;for(l=0;l<r.length;l++){o=(this.words[l+d]|0)+p;var g=(r.words[l]|0)*a;o-=g&67108863,p=(o>>26)-(g/67108864|0),this.words[l+d]=o&67108863}for(;l<this.length-d;l++)o=(this.words[l+d]|0)+p,p=o>>26,this.words[l+d]=o&67108863;if(p===0)return this._strip();for(n(p===-1),p=0,l=0;l<this.length;l++)o=-(this.words[l]|0)+p,p=o>>26,this.words[l]=o&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(r,a){var d=this.length-r.length,v=this.clone(),l=r,o=l.words[l.length-1]|0,p=this._countBits(o);d=26-p,d!==0&&(l=l.ushln(d),v.iushln(d),o=l.words[l.length-1]|0);var g=v.length-l.length,u;if(a!=="mod"){u=new s(null),u.length=g+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var P=v.clone()._ishlnsubmul(l,1,g);P.negative===0&&(v=P,u&&(u.words[g]=1));for(var L=g-1;L>=0;L--){var U=(v.words[l.length+L]|0)*67108864+(v.words[l.length+L-1]|0);for(U=Math.min(U/o|0,67108863),v._ishlnsubmul(l,U,L);v.negative!==0;)U--,v.negative=0,v._ishlnsubmul(l,1,L),v.isZero()||(v.negative^=1);u&&(u.words[L]=U)}return u&&u._strip(),v._strip(),a!=="div"&&d!==0&&v.iushrn(d),{div:u||null,mod:v}},s.prototype.divmod=function(r,a,d){if(n(!r.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,l,o;return this.negative!==0&&r.negative===0?(o=this.neg().divmod(r,a),a!=="mod"&&(v=o.div.neg()),a!=="div"&&(l=o.mod.neg(),d&&l.negative!==0&&l.iadd(r)),{div:v,mod:l}):this.negative===0&&r.negative!==0?(o=this.divmod(r.neg(),a),a!=="mod"&&(v=o.div.neg()),{div:v,mod:o.mod}):(this.negative&r.negative)!=0?(o=this.neg().divmod(r.neg(),a),a!=="div"&&(l=o.mod.neg(),d&&l.negative!==0&&l.isub(r)),{div:o.div,mod:l}):r.length>this.length||this.cmp(r)<0?{div:new s(0),mod:this}:r.length===1?a==="div"?{div:this.divn(r.words[0]),mod:null}:a==="mod"?{div:null,mod:new s(this.modrn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new s(this.modrn(r.words[0]))}:this._wordDiv(r,a)},s.prototype.div=function(r){return this.divmod(r,"div",!1).div},s.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},s.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},s.prototype.divRound=function(r){var a=this.divmod(r);if(a.mod.isZero())return a.div;var d=a.div.negative!==0?a.mod.isub(r):a.mod,v=r.ushrn(1),l=r.andln(1),o=d.cmp(v);return o<0||l===1&&o===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},s.prototype.modrn=function(r){var a=r<0;a&&(r=-r),n(r<=67108863);for(var d=(1<<26)%r,v=0,l=this.length-1;l>=0;l--)v=(d*v+(this.words[l]|0))%r;return a?-v:v},s.prototype.modn=function(r){return this.modrn(r)},s.prototype.idivn=function(r){var a=r<0;a&&(r=-r),n(r<=67108863);for(var d=0,v=this.length-1;v>=0;v--){var l=(this.words[v]|0)+d*67108864;this.words[v]=l/r|0,d=l%r}return this._strip(),a?this.ineg():this},s.prototype.divn=function(r){return this.clone().idivn(r)},s.prototype.egcd=function(r){n(r.negative===0),n(!r.isZero());var a=this,d=r.clone();a.negative!==0?a=a.umod(r):a=a.clone();for(var v=new s(1),l=new s(0),o=new s(0),p=new s(1),g=0;a.isEven()&&d.isEven();)a.iushrn(1),d.iushrn(1),++g;for(var u=d.clone(),w=a.clone();!a.isZero();){for(var P=0,L=1;(a.words[0]&L)==0&&P<26;++P,L<<=1);if(P>0)for(a.iushrn(P);P-- >0;)(v.isOdd()||l.isOdd())&&(v.iadd(u),l.isub(w)),v.iushrn(1),l.iushrn(1);for(var U=0,Tt=1;(d.words[0]&Tt)==0&&U<26;++U,Tt<<=1);if(U>0)for(d.iushrn(U);U-- >0;)(o.isOdd()||p.isOdd())&&(o.iadd(u),p.isub(w)),o.iushrn(1),p.iushrn(1);a.cmp(d)>=0?(a.isub(d),v.isub(o),l.isub(p)):(d.isub(a),o.isub(v),p.isub(l))}return{a:o,b:p,gcd:d.iushln(g)}},s.prototype._invmp=function(r){n(r.negative===0),n(!r.isZero());var a=this,d=r.clone();a.negative!==0?a=a.umod(r):a=a.clone();for(var v=new s(1),l=new s(0),o=d.clone();a.cmpn(1)>0&&d.cmpn(1)>0;){for(var p=0,g=1;(a.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(a.iushrn(p);p-- >0;)v.isOdd()&&v.iadd(o),v.iushrn(1);for(var u=0,w=1;(d.words[0]&w)==0&&u<26;++u,w<<=1);if(u>0)for(d.iushrn(u);u-- >0;)l.isOdd()&&l.iadd(o),l.iushrn(1);a.cmp(d)>=0?(a.isub(d),v.isub(l)):(d.isub(a),l.isub(v))}var P;return a.cmpn(1)===0?P=v:P=l,P.cmpn(0)<0&&P.iadd(r),P},s.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var a=this.clone(),d=r.clone();a.negative=0,d.negative=0;for(var v=0;a.isEven()&&d.isEven();v++)a.iushrn(1),d.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;d.isEven();)d.iushrn(1);var l=a.cmp(d);if(l<0){var o=a;a=d,d=o}else if(l===0||d.cmpn(1)===0)break;a.isub(d)}while(!0);return d.iushln(v)},s.prototype.invm=function(r){return this.egcd(r).a.umod(r)},s.prototype.isEven=function(){return(this.words[0]&1)==0},s.prototype.isOdd=function(){return(this.words[0]&1)==1},s.prototype.andln=function(r){return this.words[0]&r},s.prototype.bincn=function(r){n(typeof r=="number");var a=r%26,d=(r-a)/26,v=1<<a;if(this.length<=d)return this._expand(d+1),this.words[d]|=v,this;for(var l=v,o=d;l!==0&&o<this.length;o++){var p=this.words[o]|0;p+=l,l=p>>>26,p&=67108863,this.words[o]=p}return l!==0&&(this.words[o]=l,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(r){var a=r<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var d;if(this.length>1)d=1;else{a&&(r=-r),n(r<=67108863,"Number is too big");var v=this.words[0]|0;d=v===r?0:v<r?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var a=this.ucmp(r);return this.negative!==0?-a|0:a},s.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var a=0,d=this.length-1;d>=0;d--){var v=this.words[d]|0,l=r.words[d]|0;if(v!==l){v<l?a=-1:v>l&&(a=1);break}}return a},s.prototype.gtn=function(r){return this.cmpn(r)===1},s.prototype.gt=function(r){return this.cmp(r)===1},s.prototype.gten=function(r){return this.cmpn(r)>=0},s.prototype.gte=function(r){return this.cmp(r)>=0},s.prototype.ltn=function(r){return this.cmpn(r)===-1},s.prototype.lt=function(r){return this.cmp(r)===-1},s.prototype.lten=function(r){return this.cmpn(r)<=0},s.prototype.lte=function(r){return this.cmp(r)<=0},s.prototype.eqn=function(r){return this.cmpn(r)===0},s.prototype.eq=function(r){return this.cmp(r)===0},s.red=function(r){return new f(r)},s.prototype.toRed=function(r){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(r){return this.red=r,this},s.prototype.forceRed=function(r){return n(!this.red,"Already a number in reduction context"),this._forceRed(r)},s.prototype.redAdd=function(r){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},s.prototype.redIAdd=function(r){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},s.prototype.redSub=function(r){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},s.prototype.redISub=function(r){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},s.prototype.redShl=function(r){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},s.prototype.redMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},s.prototype.redIMul=function(r){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(r){return n(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var z={k256:null,p224:null,p192:null,p25519:null};function K(h,r){this.name=h,this.p=new s(r,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var r=new s(null);return r.words=new Array(Math.ceil(this.n/13)),r},K.prototype.ireduce=function(r){var a=r,d;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),d=a.bitLength();while(d>this.n);var v=d<this.n?-1:a.ucmp(this.p);return v===0?(a.words[0]=0,a.length=1):v>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},K.prototype.split=function(r,a){r.iushrn(this.n,0,a)},K.prototype.imulK=function(r){return r.imul(this.k)};function O(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(O,K),O.prototype.split=function(r,a){for(var d=4194303,v=Math.min(r.length,9),l=0;l<v;l++)a.words[l]=r.words[l];if(a.length=v,r.length<=9){r.words[0]=0,r.length=1;return}var o=r.words[9];for(a.words[a.length++]=o&d,l=10;l<r.length;l++){var p=r.words[l]|0;r.words[l-10]=(p&d)<<4|o>>>22,o=p}o>>>=22,r.words[l-10]=o,o===0&&r.length>10?r.length-=10:r.length-=9},O.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var a=0,d=0;d<r.length;d++){var v=r.words[d]|0;a+=v*977,r.words[d]=a&67108863,a=v*64+(a/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function N(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(N,K);function W(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(W,K);function b(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(b,K),b.prototype.imulK=function(r){for(var a=0,d=0;d<r.length;d++){var v=(r.words[d]|0)*19+a,l=v&67108863;v>>>=26,r.words[d]=l,a=v}return a!==0&&(r.words[r.length++]=a),r},s._prime=function(r){if(z[r])return z[r];var a;if(r==="k256")a=new O;else if(r==="p224")a=new N;else if(r==="p192")a=new W;else if(r==="p25519")a=new b;else throw new Error("Unknown prime "+r);return z[r]=a,a};function f(h){if(typeof h=="string"){var r=s._prime(h);this.m=r.p,this.prime=r}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}f.prototype._verify1=function(r){n(r.negative===0,"red works only with positives"),n(r.red,"red works only with red numbers")},f.prototype._verify2=function(r,a){n((r.negative|a.negative)==0,"red works only with positives"),n(r.red&&r.red===a.red,"red works only with red numbers")},f.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):(E(r,r.umod(this.m)._forceRed(this)),r)},f.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},f.prototype.add=function(r,a){this._verify2(r,a);var d=r.add(a);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},f.prototype.iadd=function(r,a){this._verify2(r,a);var d=r.iadd(a);return d.cmp(this.m)>=0&&d.isub(this.m),d},f.prototype.sub=function(r,a){this._verify2(r,a);var d=r.sub(a);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},f.prototype.isub=function(r,a){this._verify2(r,a);var d=r.isub(a);return d.cmpn(0)<0&&d.iadd(this.m),d},f.prototype.shl=function(r,a){return this._verify1(r),this.imod(r.ushln(a))},f.prototype.imul=function(r,a){return this._verify2(r,a),this.imod(r.imul(a))},f.prototype.mul=function(r,a){return this._verify2(r,a),this.imod(r.mul(a))},f.prototype.isqr=function(r){return this.imul(r,r.clone())},f.prototype.sqr=function(r){return this.mul(r,r)},f.prototype.sqrt=function(r){if(r.isZero())return r.clone();var a=this.m.andln(3);if(n(a%2==1),a===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(r,d)}for(var v=this.m.subn(1),l=0;!v.isZero()&&v.andln(1)===0;)l++,v.iushrn(1);n(!v.isZero());var o=new s(1).toRed(this),p=o.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,g).cmp(p)!==0;)u.redIAdd(p);for(var w=this.pow(u,v),P=this.pow(r,v.addn(1).iushrn(1)),L=this.pow(r,v),U=l;L.cmp(o)!==0;){for(var Tt=L,H=0;Tt.cmp(o)!==0;H++)Tt=Tt.redSqr();n(H<U);var V=this.pow(w,new s(1).iushln(U-H-1));P=P.redMul(V),w=V.redSqr(),L=L.redMul(w),U=H}return P},f.prototype.invm=function(r){var a=r._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},f.prototype.pow=function(r,a){if(a.isZero())return new s(1).toRed(this);if(a.cmpn(1)===0)return r.clone();var d=4,v=new Array(1<<d);v[0]=new s(1).toRed(this),v[1]=r;for(var l=2;l<v.length;l++)v[l]=this.mul(v[l-1],r);var o=v[0],p=0,g=0,u=a.bitLength()%26;for(u===0&&(u=26),l=a.length-1;l>=0;l--){for(var w=a.words[l],P=u-1;P>=0;P--){var L=w>>P&1;if(o!==v[0]&&(o=this.sqr(o)),L===0&&p===0){g=0;continue}p<<=1,p|=L,g++,!(g!==d&&(l!==0||P!==0))&&(o=this.mul(o,v[p]),g=0,p=0)}u=26}return o},f.prototype.convertTo=function(r){var a=r.umod(this.m);return a===r?a.clone():a},f.prototype.convertFrom=function(r){var a=r.clone();return a.red=null,a},s.mont=function(r){return new m(r)};function m(h){f.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(m,f),m.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},m.prototype.convertFrom=function(r){var a=this.imod(r.mul(this.rinv));return a.red=null,a},m.prototype.imul=function(r,a){if(r.isZero()||a.isZero())return r.words[0]=0,r.length=1,r;var d=r.imul(a),v=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=d.isub(v).iushrn(this.shift),o=l;return l.cmp(this.m)>=0?o=l.isub(this.m):l.cmpn(0)<0&&(o=l.iadd(this.m)),o._forceRed(this)},m.prototype.mul=function(r,a){if(r.isZero()||a.isZero())return new s(0)._forceRed(this);var d=r.mul(a),v=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=d.isub(v).iushrn(this.shift),o=l;return l.cmp(this.m)>=0?o=l.isub(this.m):l.cmpn(0)<0&&(o=l.iadd(this.m)),o._forceRed(this)},m.prototype.invm=function(r){var a=this.imod(r._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(t,Pt)})(Of);var Jt=Of.exports,Tf={exports:{}};(function(t){(function(e,i){t.exports?t.exports=i():e.log=i()})(Pt,function(){var e=function(){},i="undefined",n=typeof window!==i&&typeof window.navigator!==i&&/Trident\/|MSIE /.test(window.navigator.userAgent),c=["trace","debug","info","warn","error"];function s(R,B){var I=R[B];if(typeof I.bind=="function")return I.bind(R);try{return Function.prototype.bind.call(I,R)}catch{return function(){return Function.prototype.apply.apply(I,[R,arguments])}}}function y(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function _(R){return R==="debug"&&(R="log"),typeof console===i?!1:R==="trace"&&n?y:console[R]!==void 0?s(console,R):console.log!==void 0?s(console,"log"):e}function M(R,B){for(var I=0;I<c.length;I++){var j=c[I];this[j]=I<R?e:this.methodFactory(j,R,B)}this.log=this.debug}function x(R,B,I){return function(){typeof console!==i&&(M.call(this,B,I),this[R].apply(this,arguments))}}function E(R,B,I){return _(R)||x.apply(this,arguments)}function A(R,B,I){var j=this,D;B=B==null?"WARN":B;var $="loglevel";typeof R=="string"?$+=":"+R:typeof R=="symbol"&&($=void 0);function z(W){var b=(c[W]||"silent").toUpperCase();if(!(typeof window===i||!$)){try{window.localStorage[$]=b;return}catch{}try{window.document.cookie=encodeURIComponent($)+"="+b+";"}catch{}}}function K(){var W;if(!(typeof window===i||!$)){try{W=window.localStorage[$]}catch{}if(typeof W===i)try{var b=window.document.cookie,f=b.indexOf(encodeURIComponent($)+"=");f!==-1&&(W=/^([^;]+)/.exec(b.slice(f))[1])}catch{}return j.levels[W]===void 0&&(W=void 0),W}}function O(){if(!(typeof window===i||!$)){try{window.localStorage.removeItem($);return}catch{}try{window.document.cookie=encodeURIComponent($)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}j.name=R,j.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},j.methodFactory=I||E,j.getLevel=function(){return D},j.setLevel=function(W,b){if(typeof W=="string"&&j.levels[W.toUpperCase()]!==void 0&&(W=j.levels[W.toUpperCase()]),typeof W=="number"&&W>=0&&W<=j.levels.SILENT){if(D=W,b!==!1&&z(W),M.call(j,W,R),typeof console===i&&W<j.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+W},j.setDefaultLevel=function(W){B=W,K()||j.setLevel(W,!1)},j.resetLevel=function(){j.setLevel(B,!1),O()},j.enableAll=function(W){j.setLevel(j.levels.TRACE,W)},j.disableAll=function(W){j.setLevel(j.levels.SILENT,W)};var N=K();N==null&&(N=B),j.setLevel(N,!1)}var S=new A,k={};S.getLogger=function(B){if(typeof B!="symbol"&&typeof B!="string"||B==="")throw new TypeError("You must supply a name when creating a logger.");var I=k[B];return I||(I=k[B]=new A(B,S.getLevel(),S.methodFactory)),I};var C=typeof window!==i?window.log:void 0;return S.noConflict=function(){return typeof window!==i&&window.log===S&&(window.log=C),S},S.getLoggers=function(){return k},S.default=S,S})})(Tf);var Pf=Tf.exports;function Cf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}function up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bf(t,e){if(e&&(Pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return up(t)}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Gr(t)}function hp(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function lp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rn(t,e,i){return lp()?Rn=Reflect.construct:Rn=function(c,s,y){var _=[null];_.push.apply(_,s);var M=Function.bind.apply(c,_),x=new M;return y&&so(x,y.prototype),x},Rn.apply(null,arguments)}function kn(t){var e=typeof Map=="function"?new Map:void 0;return kn=function(n){if(n===null||!hp(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return Rn(n,arguments,Gr(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),so(c,n)},kn(t)}function Qo(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function cp(t){if(Array.isArray(t))return Qo(t)}function dp(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pp(t,e){if(!!t){if(typeof t=="string")return Qo(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qo(t,e)}}function mp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rf(t){return cp(t)||dp(t)||pp(t)||mp()}var Ie=Pf.getLogger("torus.js");Ie.disableAll();function vp(t){var e=gp();return function(){var n=Gr(t),c;if(e){var s=Gr(this).constructor;c=Reflect.construct(n,arguments,s)}else c=n.apply(this,arguments);return Bf(this,c)}}function gp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yp(t){return t.charAt(0).toUpperCase()+t.slice(1)}var wp=function(t){Cf(i,t);var e=vp(i);function i(n){var c,s=n.errors,y=n.responses,_=n.predicate;return Go(this,i),c=e.call(this,"Unable to resolve enough promises."),c.errors=s,c.responses=y,c.predicate=_,c}return Zo(i)}(kn(Error)),ts=function(e,i){return new Promise(function(n,c){var s=0,y={resolved:!1},_=new Array(e.length).fill(void 0),M=new Array(e.length).fill(void 0),x;e.forEach(function(E,A){E.then(function(S){M[A]=S}).catch(function(S){_[A]=S}).finally(function(){y.resolved||i(M.slice(0),y).then(function(S){y.resolved=!0,n(S)}).catch(function(S){x=S}).finally(function(S){if(s+=1,s===e.length){var k=Object.values(M.reduce(function(B,I){var j,D=I||{},$=D.id,z=D.error;return(z==null||(j=z.data)===null||j===void 0?void 0:j.length)>0&&(z.data.startsWith("Error occurred while verifying params")?B[$]=yp(z.data):B[$]=z.data),B},{}));if(k.length>0){var C=k.length>1?`
`.concat(k.map(function(B){return"\u2022 ".concat(B)}).join(`
`)):k[0];c(new Error(C))}else{var R;c(new wp({errors:_,responses:M,predicate:((R=x)===null||R===void 0?void 0:R.message)||x}))}}})})})})};function kf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function If(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):kf(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function bp(t){var e=Mp();return function(){var n=Gr(t),c;if(e){var s=Gr(this).constructor;c=Reflect.construct(n,arguments,s)}else c=n.apply(this,arguments);return Bf(this,c)}}function Mp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var es=function(t){Cf(i,t);var e=bp(i);function i(){return Go(this,i),e.apply(this,arguments)}return Zo(i)}(kn(Error)),_p=function t(e,i){var n=e;if(typeof n=="number"&&(n=Array.from({length:n},function(M,x){return x})),i>n.length||i<=0)return[];if(i===n.length)return[n];if(i===1)return n.reduce(function(M,x){return[].concat(Rf(M),[[x]])},[]);for(var c=[],s=[],y=0;y<=n.length-i+1;y+=1){s=t(n.slice(y+1),i-1);for(var _=0;_<s.length;_+=1)c.push([n[y]].concat(Rf(s[_])))}return c},rs=function(e,i){for(var n={},c=0;c<e.length;c+=1){var s=Hs(e[c]);if(n[s]=n[s]?n[s]+1:1,n[s]===i)return e[c]}},is=function(){var t=nr(Zt.mark(function e(i,n,c){var s;return Zt.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s=i.map(function(M){return kr(M,xn("VerifierLookupRequest",{verifier:n,verifier_id:c.toString()})).catch(function(x){return Ie.error("lookup request failed",x)})}),_.abrupt("return",ts(s,function(M){var x=M.filter(function(S){return S}),E=rs(x.map(function(S){return S&&S.error}),~~(i.length/2)+1),A=rs(x.map(function(S){return S&&S.result}),~~(i.length/2)+1);return A||E?Promise.resolve({keyResult:A,errorResult:E}):Promise.reject(new Error("invalid results ".concat(JSON.stringify(M))))}));case 2:case"end":return _.stop()}},e)}));return function(i,n,c){return t.apply(this,arguments)}}(),Nf=function(e,i,n,c){return new Promise(function(s,y){setTimeout(function(){is(e,i,n).then(s).catch(y)},c)})},ns=function(){var t=nr(Zt.mark(function e(i,n,c,s,y,_){var M,x,E,A,S;return Zt.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(c===void 0?(M=Math.floor(Math.random()*i.length),x=M):M=c%i.length,M!==s){C.next=3;break}throw new Error("Looped through all");case 3:return s!==void 0&&(x=s),E=xn("KeyAssign",{verifier:y,verifier_id:_.toString()}),C.prev=5,C.next=8,kr("https://signer.tor.us/api/sign",E,{headers:{pubKeyX:n[M].X,pubKeyY:n[M].Y}},{useAPIKey:!0});case 8:return A=C.sent,C.abrupt("return",kr(i[M],If(If({},E),A),{headers:{"Content-Type":"application/json; charset=utf-8"}}));case 12:if(C.prev=12,C.t0=C.catch(5),Ie.error(C.t0),S=["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."],!S.includes(C.t0.message)){C.next=18;break}return C.abrupt("return",ns(i,n,M+1,x,y,_));case 18:throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.
    We will generate your key in time. Pls try again later. 

    `.concat(C.t0.message||""));case 19:case"end":return C.stop()}},e,null,[[5,12]])}));return function(i,n,c,s,y,_){return t.apply(this,arguments)}}();function Lf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function In(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Lf(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lf(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var jf=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.enableOneKey,n=i===void 0?!1:i,c=e.metadataHost,s=c===void 0?"https://metadata.tor.us":c,y=e.allowHost,_=y===void 0?"https://signer.tor.us/api/allow":y,M=e.serverTimeOffset,x=M===void 0?0:M;Go(this,t),this.ec=new Us.ec("secp256k1"),this.metadataHost=s,this.allowHost=_,this.enableOneKey=n,this.serverTimeOffset=x||0}return Zo(t,[{key:"getUserTypeAndAddress",value:function(){var e=nr(Zt.mark(function n(c,s,y){var _,M,x,E,A,S,k,C,R,B,I,j,D,$,z,K,O,N,W,b,f,m=arguments;return Zt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return _=y.verifier,M=y.verifierId,x=m.length>3&&m[3]!==void 0?m[3]:!1,r.next=4,is(c,_,M);case 4:if(r.t0=r.sent,r.t0){r.next=7;break}r.t0={};case 7:if(E=r.t0,A=E.keyResult,S=E.errorResult,k=!1,!(S&&JSON.stringify(S).includes("Verifier + VerifierID has not yet been assigned"))){r.next=26;break}if(x){r.next=14;break}throw new Error("Verifier + VerifierID has not yet been assigned");case 14:return r.next=16,ns(c,s,void 0,void 0,_,M);case 16:return r.next=18,Nf(c,_,M,1e3);case 18:if(r.t1=r.sent,r.t1){r.next=21;break}r.t1={};case 21:R=r.t1,C=R.keyResult,k=!0,r.next=31;break;case 26:if(!A){r.next=30;break}C=A,r.next=31;break;case 30:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(A||{}),", ").concat(JSON.stringify(S||{})));case 31:if(!C){r.next=61;break}return B=C.keys[0],I=B.pub_key_X,j=B.pub_key_Y,r.prev=33,r.next=37,this.getOrSetNonce(I,j,void 0,!k);case 37:N=r.sent,D=N.typeOfUser,$=N.nonce,z=N.pubNonce,O=N.upgraded,$=new Jt($||"0",16),r.next=48;break;case 45:throw r.prev=45,r.t2=r.catch(33),new es;case 48:if(D!=="v1"){r.next=52;break}K=this.ec.keyFromPublic({x:I.toString(16),y:j.toString(16)}).getPublic().add(this.ec.keyFromPrivate($.toString(16)).getPublic()),r.next=57;break;case 52:if(D!=="v2"){r.next=56;break}K=this.ec.keyFromPublic({x:I.toString(16),y:j.toString(16)}).getPublic().add(this.ec.keyFromPublic({x:z.x,y:z.y}).getPublic()),r.next=57;break;case 56:throw new Error("getOrSetNonce should always return typeOfUser.");case 57:return W=K.getX().toString(16),b=K.getY().toString(16),f=this.generateAddressFromPubKey(K.getX(),K.getY()),r.abrupt("return",{typeOfUser:D,nonce:$,pubNonce:z,upgraded:O,X:W,Y:b,address:f});case 61:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(A||{}),", ").concat(JSON.stringify(S||{})));case 62:case"end":return r.stop()}},n,this,[[33,45]])}));function i(n,c,s){return e.apply(this,arguments)}return i}()},{key:"setCustomKey",value:function(){var e=nr(Zt.mark(function n(c){var s,y,_,M,x,E,A,S,k;return Zt.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return s=c.privKeyHex,y=c.metadataNonce,_=c.torusKeyHex,M=c.customKeyHex,_?x=new Jt(_,16):(E=new Jt(s,16),x=E.sub(y).umod(this.ec.curve.n)),A=new Jt(M,16),S=A.sub(x).umod(this.ec.curve.n),k=this.generateMetadataParams(S.toString(16),x.toString(16)),R.next=7,this.setMetadata(k);case 7:case"end":return R.stop()}},n,this)}));function i(n){return e.apply(this,arguments)}return i}()},{key:"retrieveShares",value:function(){var e=nr(Zt.mark(function n(c,s,y,_,M){var x=this,E,A,S,k,C,R,B,I,j,D=arguments;return Zt.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return E=D.length>5&&D[5]!==void 0?D[5]:{},A=[],z.next=4,sf(this.allowHost,{headers:{verifier:y,verifier_id:_.verifier_id}},{useAPIKey:!0});case 4:for(S=sp(),k=Cn(S).toString("hex"),C=k.slice(2,66),R=k.slice(66),B=je.keccak256(M),I=0;I<c.length;I+=1)j=kr(c[I],xn("CommitmentRequest",{messageprefix:"mug00",tokencommitment:B.slice(2),temppubx:C,temppuby:R,verifieridentifier:y})).catch(function(K){return Ie.error("commitment",K)}),A.push(j);return z.abrupt("return",ts(A,function(K){var O=K.filter(function(N){return!(!N||Pn(N)!=="object"||N.error)});return O.length>=~~(c.length/4)*3+1?Promise.resolve(K):Promise.reject(new Error("invalid ".concat(JSON.stringify(K))))}).then(function(K){for(var O=[],N=[],W=0;W<K.length;W+=1)K[W]&&N.push(K[W].result);for(var b=0;b<c.length;b+=1){var f=kr(c[b],xn("ShareRequest",{encrypted:"yes",item:[In(In({},_),{},{idtoken:M,nodesignatures:N,verifieridentifier:y},E)]})).catch(function(m){return Ie.error("share req",m)});O.push(f)}return ts(O,function(){var m=nr(Zt.mark(function h(r,a){var d,v,l,o,p,g,u,w,P,L,U,Tt,H;return Zt.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(d=r.filter(function(J){return J}),v=rs(r.map(function(J){return J&&J.result&&J.result.keys[0].PublicKey}),~~(c.length/2)+1),!(d.length>=~~(c.length/2)+1&&v)){Lt.next=25;break}for(l=[],o=[],p=0;p<r.length;p+=1)r[p]&&r[p].result&&r[p].result.keys&&r[p].result.keys.length>0?(r[p].result.keys.sort(function(J,X){return new Jt(J.Index,16).cmp(new Jt(X.Index,16))}),r[p].result.keys[0].Metadata?(g={ephemPublicKey:Buffer.from(r[p].result.keys[0].Metadata.ephemPublicKey,"hex"),iv:Buffer.from(r[p].result.keys[0].Metadata.iv,"hex"),mac:Buffer.from(r[p].result.keys[0].Metadata.mac,"hex"),mode:Buffer.from(r[p].result.keys[0].Metadata.mode,"hex")},l.push(fp(S,In(In({},g),{},{ciphertext:Buffer.from(atob(r[p].result.keys[0].Share).padStart(64,"0"),"hex")})).catch(function(J){return Ie.debug("share decryption",J)}))):l.push(Promise.resolve(Buffer.from(r[p].result.keys[0].Share.padStart(64,"0"),"hex")))):l.push(Promise.resolve(void 0)),o.push(new Jt(s[p],16));return Lt.next=8,Promise.all(l);case 8:if(u=Lt.sent,!a.resolved){Lt.next=11;break}return Lt.abrupt("return",void 0);case 11:w=u.reduce(function(J,X,Yt){return X&&J.push({index:o[Yt],value:new Jt(X)}),J},[]),P=_p(w.length,~~(c.length/2)+1),U=function(X){var Yt=P[X],tt=w.filter(function(G,jt){return Yt.includes(jt)}),nt=tt.map(function(G){return G.value}),le=tt.map(function(G){return G.index}),Z=x.lagrangeInterpolation(nt,le),ot=Cn(Buffer.from(Z.toString(16,64),"hex")).toString("hex"),Qt=ot.slice(2,66),et=ot.slice(66);if(new Jt(Qt,16).cmp(new Jt(v.X,16))===0&&new Jt(et,16).cmp(new Jt(v.Y,16))===0)return L=Z,"break"},Tt=0;case 15:if(!(Tt<P.length)){Lt.next=22;break}if(H=U(Tt),H!=="break"){Lt.next=19;break}return Lt.abrupt("break",22);case 19:Tt+=1,Lt.next=15;break;case 22:if(L!==void 0){Lt.next=24;break}throw new Error("could not derive private key");case 24:return Lt.abrupt("return",L);case 25:throw new Error("invalid");case 26:case"end":return Lt.stop()}},h)}));return function(h,r){return m.apply(this,arguments)}}())}).then(function(){var K=nr(Zt.mark(function O(N){var W,b,f,m,h,r,a,d;return Zt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(W=N,b=Cn(Buffer.from(W.toString(16,64),"hex")).toString("hex"),f=b.slice(2,66),m=b.slice(66),!x.enableOneKey){l.next=12;break}return l.next=7,x.getNonce(f,m,W);case 7:r=l.sent,a=r.nonce,h=new Jt(a||"0",16),l.next=15;break;case 12:return l.next=14,x.getMetadata({pub_key_X:f,pub_key_Y:m});case 14:h=l.sent;case 15:return Ie.debug("> torus.js/retrieveShares",{privKey:W.toString(16),metadataNonce:h.toString(16)}),W=W.add(h).umod(x.ec.curve.n),d=x.generateAddressFromPrivKey(W),Ie.debug("> torus.js/retrieveShares",{ethAddress:d,privKey:W.toString(16)}),l.abrupt("return",{ethAddress:d,privKey:W.toString("hex",64),metadataNonce:h});case 20:case"end":return l.stop()}},O)}));return function(O){return K.apply(this,arguments)}}()));case 11:case"end":return z.stop()}},n,this)}));function i(n,c,s,y,_){return e.apply(this,arguments)}return i}()},{key:"getMetadata",value:function(){var e=nr(Zt.mark(function n(c,s){var y;return Zt.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,kr("".concat(this.metadataHost,"/get"),c,s,{useAPIKey:!0});case 3:if(y=M.sent,!(!y||!y.message)){M.next=6;break}return M.abrupt("return",new Jt(0));case 6:return M.abrupt("return",new Jt(y.message,16));case 9:return M.prev=9,M.t0=M.catch(0),Ie.error("get metadata error",M.t0),M.abrupt("return",new Jt(0));case 13:case"end":return M.stop()}},n,this,[[0,9]])}));function i(n,c){return e.apply(this,arguments)}return i}()},{key:"generateMetadataParams",value:function(i,n){var c=this.ec.keyFromPrivate(n.toString("hex",64)),s={data:i,timestamp:new Jt(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},y=c.sign(je.keccak256(Hs(s)).slice(2));return{pub_key_X:c.getPublic().getX().toString("hex"),pub_key_Y:c.getPublic().getY().toString("hex"),set_data:s,signature:Buffer.from(y.r.toString(16,64)+y.s.toString(16,64)+new Jt(y.v).toString(16,2),"hex").toString("base64")}}},{key:"setMetadata",value:function(){var e=nr(Zt.mark(function n(c,s){var y;return Zt.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,kr("".concat(this.metadataHost,"/set"),c,s,{useAPIKey:!0});case 3:return y=M.sent,M.abrupt("return",y.message);case 7:return M.prev=7,M.t0=M.catch(0),Ie.error("set metadata error",M.t0),M.abrupt("return","");case 11:case"end":return M.stop()}},n,this,[[0,7]])}));function i(n,c){return e.apply(this,arguments)}return i}()},{key:"lagrangeInterpolation",value:function(i,n){if(i.length!==n.length)return null;for(var c=new Jt(0),s=0;s<i.length;s+=1){for(var y=new Jt(1),_=new Jt(1),M=0;M<i.length;M+=1)if(s!==M){y=y.mul(n[M].neg()),y=y.umod(this.ec.curve.n);var x=n[s].sub(n[M]);x=x.umod(this.ec.curve.n),_=_.mul(x).umod(this.ec.curve.n)}var E=y.mul(_.invm(this.ec.curve.n)).umod(this.ec.curve.n);E=E.mul(i[s]).umod(this.ec.curve.n),c=c.add(E)}return c.umod(this.ec.curve.n)}},{key:"generateAddressFromPrivKey",value:function(i){var n=this.ec.keyFromPrivate(i.toString("hex",64),"hex"),c=n.getPublic().encode("hex").slice(2),s="0x".concat(je.keccak256(Buffer.from(c,"hex")).slice(64-38));return je.toChecksumAddress(s)}},{key:"generateAddressFromPubKey",value:function(i,n){var c=this.ec.keyFromPublic({x:i.toString("hex",64),y:n.toString("hex",64)}),s=c.getPublic().encode("hex").slice(2),y="0x".concat(je.keccak256(Buffer.from(s,"hex")).slice(64-38));return je.toChecksumAddress(y)}},{key:"getPublicAddress",value:function(){var e=nr(Zt.mark(function n(c,s,y){var _,M,x,E,A,S,k,C,R,B,I,j,D,$,z,K,O,N,W,b,f=arguments;return Zt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return _=y.verifier,M=y.verifierId,x=f.length>3&&f[3]!==void 0?f[3]:!1,Ie.debug("> torus.js/getPublicAddress",{endpoints:c,torusNodePubs:s,verifier:_,verifierId:M,isExtended:x}),A=!1,h.next=6,is(c,_,M);case 6:if(h.t0=h.sent,h.t0){h.next=9;break}h.t0={};case 9:if(S=h.t0,k=S.keyResult,C=S.errorResult,!(C&&JSON.stringify(C).includes("Verifier + VerifierID has not yet been assigned"))){h.next=25;break}return h.next=15,ns(c,s,void 0,void 0,_,M);case 15:return h.next=17,Nf(c,_,M,1e3);case 17:if(h.t1=h.sent,h.t1){h.next=20;break}h.t1={};case 20:R=h.t1,E=R.keyResult,A=!0,h.next=30;break;case 25:if(!k){h.next=29;break}E=k,h.next=30;break;case 29:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(k||{}),", ").concat(JSON.stringify(C||{})));case 30:if(Ie.debug("> torus.js/getPublicAddress",{finalKeyResult:E,isNewKey:A}),!E){h.next=72;break}if(I=E.keys[0],j=I.pub_key_X,D=I.pub_key_Y,!this.enableOneKey){h.next=60;break}return h.prev=34,h.next=38,this.getOrSetNonce(j,D,void 0,!A);case 38:W=h.sent,$=W.typeOfUser,z=W.nonce,K=W.pubNonce,N=W.upgraded,z=new Jt(z||"0",16),h.next=49;break;case 46:throw h.prev=46,h.t2=h.catch(34),new es;case 49:if($!=="v1"){h.next=53;break}O=this.ec.keyFromPublic({x:j.toString(16),y:D.toString(16)}).getPublic().add(this.ec.keyFromPrivate(z.toString(16)).getPublic()),h.next=58;break;case 53:if($!=="v2"){h.next=57;break}N?O=this.ec.keyFromPublic({x:j.toString(16),y:D.toString(16)}).getPublic():O=this.ec.keyFromPublic({x:j.toString(16),y:D.toString(16)}).getPublic().add(this.ec.keyFromPublic({x:K.x,y:K.y}).getPublic()),h.next=58;break;case 57:throw new Error("getOrSetNonce should always return typeOfUser.");case 58:h.next=65;break;case 60:return $="v1",h.next=63,this.getMetadata({pub_key_X:j,pub_key_Y:D});case 63:z=h.sent,O=this.ec.keyFromPublic({x:j.toString(16),y:D.toString(16)}).getPublic().add(this.ec.keyFromPrivate(z.toString(16)).getPublic());case 65:if(j=O.getX().toString(16),D=O.getY().toString(16),b=this.generateAddressFromPubKey(O.getX(),O.getY()),Ie.debug("> torus.js/getPublicAddress",{X:j,Y:D,address:b,typeOfUser:$,nonce:(B=z)===null||B===void 0?void 0:B.toString(16),pubNonce:K}),x){h.next=71;break}return h.abrupt("return",b);case 71:return h.abrupt("return",{typeOfUser:$,address:b,X:j,Y:D,metadataNonce:z,pubNonce:K});case 72:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(k||{}),", ").concat(JSON.stringify(C||{})));case 73:case"end":return h.stop()}},n,this,[[34,46]])}));function i(n,c,s){return e.apply(this,arguments)}return i}()},{key:"getOrSetNonce",value:function(){var e=nr(Zt.mark(function n(c,s,y){var _,M,x,E=arguments;return Zt.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _=E.length>3&&E[3]!==void 0?E[3]:!1,x=_?"getNonce":"getOrSetNonce",y?M=this.generateMetadataParams(x,y):M={pub_key_X:c,pub_key_Y:s,set_data:{data:x}},S.abrupt("return",kr("".concat(this.metadataHost,"/get_or_set_nonce"),M,void 0,{useAPIKey:!0}));case 4:case"end":return S.stop()}},n,this)}));function i(n,c,s){return e.apply(this,arguments)}return i}()},{key:"getNonce",value:function(){var e=nr(Zt.mark(function n(c,s,y){return Zt.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",this.getOrSetNonce(c,s,y,!0));case 1:case"end":return M.stop()}},n,this)}));function i(n,c,s){return e.apply(this,arguments)}return i}()},{key:"getPostboxKeyFrom1OutOf1",value:function(i,n){var c=new Jt(i,16),s=new Jt(n,16);return c.sub(s).umod(this.ec.curve.n).toString("hex")}}],[{key:"enableLogging",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?Ie.enableAll():Ie.disableAll()}},{key:"setAPIKey",value:function(i){nf(i)}},{key:"setEmbedHost",value:function(i){_d(i)}},{key:"isGetOrSetNonceError",value:function(i){return i instanceof es}}]),t}(),os={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.storeAsStream=void 0;const xp=Qe;class Ep extends xp.Duplex{constructor(e){super({objectMode:!0});this.resume(),this.handler=i=>this.push(i),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,i){const n=super.pipe(e,i);return e.write(this.obsStore.getState()),n}_write(e,i,n){this.obsStore.putState(e),n()}_read(e){}_destroy(e,i){this.obsStore.unsubscribe(this.handler),super._destroy(e,i)}}function Sp(t){return new Ep(t)}Nn.storeAsStream=Sp;var Ln={},si={},Ap=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(si,"__esModule",{value:!0});si.ObservableStore=void 0;const Op=Ap(Ih);class Tp extends Op.default{constructor(e){super();e?this._state=e:this._state={}}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&typeof e=="object"){const i=this.getState();this.putState(Object.assign(Object.assign({},i),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}si.ObservableStore=Tp;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.ComposedStore=void 0;const Pp=si;class Cp extends Pp.ObservableStore{constructor(e){super({});this._children=e||{},Object.keys(this._children).forEach(i=>{const n=this._children[i];this._addChild(i,n)})}_addChild(e,i){const n=c=>{const s=this.getState();s[e]=c,this.putState(s)};i.subscribe(n),n(i.getState())}}Ln.ComposedStore=Cp;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.MergedStore=void 0;const Bp=si;class Rp extends Bp.ObservableStore{constructor(e=[]){super({});this._children=e,e.forEach(i=>this._addChild(i)),this._updateWholeState()}_addChild(e){e.subscribe(()=>this._updateWholeState())}_updateWholeState(){const e=this._children.map(n=>n.getState()),i=Object.assign({},...e);this.putState(i)}}jn.MergedStore=Rp;var Dn={},Fn={exports:{}},ss={exports:{}},ai={exports:{}};typeof process=="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?ai.exports={nextTick:kp}:ai.exports=process;function kp(t,e,i,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,s,y;switch(c){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,i)});case 4:return process.nextTick(function(){t.call(null,e,i,n)});default:for(s=new Array(c-1),y=0;y<s.length;)s[y++]=arguments[y];return process.nextTick(function(){t.apply(null,s)})}}var Ip={}.toString,Np=Array.isArray||function(t){return Ip.call(t)=="[object Array]"},Df=Xi.exports.EventEmitter,re={};function Lp(t){return Array.isArray?Array.isArray(t):Un(t)==="[object Array]"}re.isArray=Lp;function jp(t){return typeof t=="boolean"}re.isBoolean=jp;function Dp(t){return t===null}re.isNull=Dp;function Fp(t){return t==null}re.isNullOrUndefined=Fp;function Up(t){return typeof t=="number"}re.isNumber=Up;function Hp(t){return typeof t=="string"}re.isString=Hp;function qp(t){return typeof t=="symbol"}re.isSymbol=qp;function $p(t){return t===void 0}re.isUndefined=$p;function Kp(t){return Un(t)==="[object RegExp]"}re.isRegExp=Kp;function Wp(t){return typeof t=="object"&&t!==null}re.isObject=Wp;function zp(t){return Un(t)==="[object Date]"}re.isDate=zp;function Vp(t){return Un(t)==="[object Error]"||t instanceof Error}re.isError=Vp;function Gp(t){return typeof t=="function"}re.isFunction=Gp;function Zp(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}re.isPrimitive=Zp;re.isBuffer=ao.Buffer.isBuffer;function Un(t){return Object.prototype.toString.call(t)}var Ff={exports:{}};(function(t){function e(s,y){if(!(s instanceof y))throw new TypeError("Cannot call a class as a function")}var i=Ji.exports.Buffer,n=Qe;function c(s,y,_){s.copy(y,_)}t.exports=function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(_){var M={data:_,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length},s.prototype.unshift=function(_){var M={data:_,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length},s.prototype.shift=function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(_){if(this.length===0)return"";for(var M=this.head,x=""+M.data;M=M.next;)x+=_+M.data;return x},s.prototype.concat=function(_){if(this.length===0)return i.alloc(0);if(this.length===1)return this.head.data;for(var M=i.allocUnsafe(_>>>0),x=this.head,E=0;x;)c(x.data,M,E),E+=x.data.length,x=x.next;return M},s}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var s=n.inspect({length:this.length});return this.constructor.name+" "+s})})(Ff);var Uf=ai.exports;function Jp(t,e){var i=this,n=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return n||c?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&Uf.nextTick(Hf,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(Uf.nextTick(Hf,i,s),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(s)}),this)}function Xp(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Hf(t,e){t.emit("error",e)}var qf={destroy:Jp,undestroy:Xp},Zr=ai.exports,$f=ie;function Kf(t){var e=this;this.next=null,this.entry=null,this.finish=function(){mm(e,t)}}var Yp=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Zr.nextTick,fi;ie.WritableState=Li;var Wf=Object.create(re);Wf.inherits=wi.exports;var Qp={deprecate:Oh},zf=Df,Hn=Ji.exports.Buffer,tm=Pt.Uint8Array||function(){};function em(t){return Hn.from(t)}function rm(t){return Hn.isBuffer(t)||t instanceof tm}var Vf=qf;Wf.inherits(ie,zf);function im(){}function Li(t,e){fi=fi||ui,t=t||{};var i=e instanceof fi;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,c=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:i&&(c||c===0)?this.highWaterMark=c:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var y=t.decodeStrings===!1;this.decodeStrings=!y,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){hm(e,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Kf(this)}Li.prototype.getBuffer=function(){for(var e=this.bufferedRequest,i=[];e;)i.push(e),e=e.next;return i};(function(){try{Object.defineProperty(Li.prototype,"buffer",{get:Qp.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var qn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qn=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(t){return qn.call(this,t)?!0:this!==ie?!1:t&&t._writableState instanceof Li}})):qn=function(t){return t instanceof this};function ie(t){if(fi=fi||ui,!qn.call(ie,this)&&!(this instanceof fi))return new ie(t);this._writableState=new Li(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),zf.call(this)}ie.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function nm(t,e){var i=new Error("write after end");t.emit("error",i),Zr.nextTick(e,i)}function om(t,e,i,n){var c=!0,s=!1;return i===null?s=new TypeError("May not write null values to stream"):typeof i!="string"&&i!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Zr.nextTick(n,s),c=!1),c}ie.prototype.write=function(t,e,i){var n=this._writableState,c=!1,s=!n.objectMode&&rm(t);return s&&!Hn.isBuffer(t)&&(t=em(t)),typeof e=="function"&&(i=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof i!="function"&&(i=im),n.ended?nm(this,i):(s||om(this,n,t,i))&&(n.pendingcb++,c=am(this,n,s,t,e,i)),c};ie.prototype.cork=function(){var t=this._writableState;t.corked++};ie.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&Zf(this,t))};ie.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function sm(t,e,i){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Hn.from(e,i)),e}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function am(t,e,i,n,c,s){if(!i){var y=sm(e,n,c);n!==y&&(i=!0,c="buffer",n=y)}var _=e.objectMode?1:n.length;e.length+=_;var M=e.length<e.highWaterMark;if(M||(e.needDrain=!0),e.writing||e.corked){var x=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:c,isBuf:i,callback:s,next:null},x?x.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else as(t,e,!1,_,n,c,s);return M}function as(t,e,i,n,c,s,y){e.writelen=n,e.writecb=y,e.writing=!0,e.sync=!0,i?t._writev(c,e.onwrite):t._write(c,s,e.onwrite),e.sync=!1}function fm(t,e,i,n,c){--e.pendingcb,i?(Zr.nextTick(c,n),Zr.nextTick(ji,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(c(n),t._writableState.errorEmitted=!0,t.emit("error",n),ji(t,e))}function um(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function hm(t,e){var i=t._writableState,n=i.sync,c=i.writecb;if(um(i),e)fm(t,i,n,e,c);else{var s=Jf(i);!s&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&Zf(t,i),n?Yp(Gf,t,i,s,c):Gf(t,i,s,c)}}function Gf(t,e,i,n){i||lm(t,e),e.pendingcb--,n(),ji(t,e)}function lm(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Zf(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,c=new Array(n),s=e.corkedRequestsFree;s.entry=i;for(var y=0,_=!0;i;)c[y]=i,i.isBuf||(_=!1),i=i.next,y+=1;c.allBuffers=_,as(t,e,!0,e.length,c,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Kf(e),e.bufferedRequestCount=0}else{for(;i;){var M=i.chunk,x=i.encoding,E=i.callback,A=e.objectMode?1:M.length;if(as(t,e,!1,A,M,x,E),i=i.next,e.bufferedRequestCount--,e.writing)break}i===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}ie.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))};ie.prototype._writev=null;ie.prototype.end=function(t,e,i){var n=this._writableState;typeof t=="function"?(i=t,t=null,e=null):typeof e=="function"&&(i=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&pm(this,n,i)};function Jf(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function cm(t,e){t._final(function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),ji(t,e)})}function dm(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Zr.nextTick(cm,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ji(t,e){var i=Jf(e);return i&&(dm(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),i}function pm(t,e,i){e.ending=!0,ji(t,e),i&&(e.finished?Zr.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}function mm(t,e,i){var n=t.entry;for(t.entry=null;n;){var c=n.callback;e.pendingcb--,c(i),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(ie.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});ie.prototype.destroy=Vf.destroy;ie.prototype._undestroy=Vf.undestroy;ie.prototype._destroy=function(t,e){this.end(),e(t)};var Xf=ai.exports,vm=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e},ui=Sr,Yf=Object.create(re);Yf.inherits=wi.exports;var Qf=ru,fs=$f;Yf.inherits(Sr,Qf);for(var tu=vm(fs.prototype),us=0;us<tu.length;us++){var hs=tu[us];Sr.prototype[hs]||(Sr.prototype[hs]=fs.prototype[hs])}function Sr(t){if(!(this instanceof Sr))return new Sr(t);Qf.call(this,t),fs.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",gm)}Object.defineProperty(Sr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function gm(){this.allowHalfOpen||this._writableState.ended||Xf.nextTick(ym,this)}function ym(t){t.end()}Object.defineProperty(Sr.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Sr.prototype._destroy=function(t,e){this.push(null),this.end(),Xf.nextTick(e,t)};var ls={},cs=Ji.exports.Buffer,eu=cs.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wm(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function bm(t){var e=wm(t);if(typeof e!="string"&&(cs.isEncoding===eu||!eu(t)))throw new Error("Unknown encoding: "+t);return e||t}ls.StringDecoder=Di;function Di(t){this.encoding=bm(t);var e;switch(this.encoding){case"utf16le":this.text=Am,this.end=Om,e=4;break;case"utf8":this.fillLast=xm,e=4;break;case"base64":this.text=Tm,this.end=Pm,e=3;break;default:this.write=Cm,this.end=Bm;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=cs.allocUnsafe(e)}Di.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""};Di.prototype.end=Sm;Di.prototype.text=Em;Di.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ds(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Mm(t,e,i){var n=e.length-1;if(n<i)return 0;var c=ds(e[n]);return c>=0?(c>0&&(t.lastNeed=c-1),c):--n<i||c===-2?0:(c=ds(e[n]),c>=0?(c>0&&(t.lastNeed=c-2),c):--n<i||c===-2?0:(c=ds(e[n]),c>=0?(c>0&&(c===2?c=0:t.lastNeed=c-3),c):0))}function _m(t,e,i){if((e[0]&192)!=128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"\uFFFD"}}function xm(t){var e=this.lastTotal-this.lastNeed,i=_m(this,t);if(i!==void 0)return i;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Em(t,e){var i=Mm(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Sm(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Am(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Om(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function Tm(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function Pm(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Cm(t){return t.toString(this.encoding)}function Bm(t){return t&&t.length?this.write(t):""}var hi=ai.exports,ru=zt,Rm=Np,Fi;zt.ReadableState=su;Xi.exports.EventEmitter;var iu=function(t,e){return t.listeners(e).length},ps=Df,Ui=Ji.exports.Buffer,km=Pt.Uint8Array||function(){};function Im(t){return Ui.from(t)}function Nm(t){return Ui.isBuffer(t)||t instanceof km}var nu=Object.create(re);nu.inherits=wi.exports;var ms=Qe,Ht=void 0;ms&&ms.debuglog?Ht=ms.debuglog("stream"):Ht=function(){};var Lm=Ff.exports,ou=qf,li;nu.inherits(zt,ps);var vs=["error","close","destroy","pause","resume"];function jm(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):Rm(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}function su(t,e){Fi=Fi||ui,t=t||{};var i=e instanceof Fi;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,c=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:i&&(c||c===0)?this.highWaterMark=c:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Lm,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(li||(li=ls.StringDecoder),this.decoder=new li(t.encoding),this.encoding=t.encoding)}function zt(t){if(Fi=Fi||ui,!(this instanceof zt))return new zt(t);this._readableState=new su(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ps.call(this)}Object.defineProperty(zt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});zt.prototype.destroy=ou.destroy;zt.prototype._undestroy=ou.undestroy;zt.prototype._destroy=function(t,e){this.push(null),e(t)};zt.prototype.push=function(t,e){var i=this._readableState,n;return i.objectMode?n=!0:typeof t=="string"&&(e=e||i.defaultEncoding,e!==i.encoding&&(t=Ui.from(t,e),e=""),n=!0),au(this,t,e,!1,n)};zt.prototype.unshift=function(t){return au(this,t,null,!0,!1)};function au(t,e,i,n,c){var s=t._readableState;if(e===null)s.reading=!1,Hm(t,s);else{var y;c||(y=Dm(s,e)),y?t.emit("error",y):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Ui.prototype&&(e=Im(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):gs(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!i?(e=s.decoder.write(e),s.objectMode||e.length!==0?gs(t,s,e,!1):lu(t,s)):gs(t,s,e,!1))):n||(s.reading=!1)}return Fm(s)}function gs(t,e,i,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&$n(t)),lu(t,e)}function Dm(t,e){var i;return!Nm(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(i=new TypeError("Invalid non-string/buffer chunk")),i}function Fm(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}zt.prototype.isPaused=function(){return this._readableState.flowing===!1};zt.prototype.setEncoding=function(t){return li||(li=ls.StringDecoder),this._readableState.decoder=new li(t),this._readableState.encoding=t,this};var fu=8388608;function Um(t){return t>=fu?t=fu:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function uu(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Um(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}zt.prototype.read=function(t){Ht("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ht("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ws(this):$n(this),null;if(t=uu(t,e),t===0&&e.ended)return e.length===0&&ws(this),null;var n=e.needReadable;Ht("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ht("length less than watermark",n)),e.ended||e.reading?(n=!1,Ht("reading or ended",n)):n&&(Ht("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=uu(i,e)));var c;return t>0?c=cu(t,e):c=null,c===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&ws(this)),c!==null&&this.emit("data",c),c};function Hm(t,e){if(!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,$n(t)}}function $n(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ht("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?hi.nextTick(hu,t):hu(t))}function hu(t){Ht("emit readable"),t.emit("readable"),ys(t)}function lu(t,e){e.readingMore||(e.readingMore=!0,hi.nextTick(qm,t,e))}function qm(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ht("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}zt.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};zt.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ht("pipe count=%d opts=%j",n.pipesCount,e);var c=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=c?_:B;n.endEmitted?hi.nextTick(s):i.once("end",s),t.on("unpipe",y);function y(I,j){Ht("onunpipe"),I===i&&j&&j.hasUnpiped===!1&&(j.hasUnpiped=!0,E())}function _(){Ht("onend"),t.end()}var M=$m(i);t.on("drain",M);var x=!1;function E(){Ht("cleanup"),t.removeListener("close",C),t.removeListener("finish",R),t.removeListener("drain",M),t.removeListener("error",k),t.removeListener("unpipe",y),i.removeListener("end",_),i.removeListener("end",B),i.removeListener("data",S),x=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&M()}var A=!1;i.on("data",S);function S(I){Ht("ondata"),A=!1;var j=t.write(I);j===!1&&!A&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&du(n.pipes,t)!==-1)&&!x&&(Ht("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,A=!0),i.pause())}function k(I){Ht("onerror",I),B(),t.removeListener("error",k),iu(t,"error")===0&&t.emit("error",I)}jm(t,"error",k);function C(){t.removeListener("finish",R),B()}t.once("close",C);function R(){Ht("onfinish"),t.removeListener("close",C),B()}t.once("finish",R);function B(){Ht("unpipe"),i.unpipe(t)}return t.emit("pipe",i),n.flowing||(Ht("pipe resume"),i.resume()),t};function $m(t){return function(){var e=t._readableState;Ht("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&iu(t,"data")&&(e.flowing=!0,ys(t))}}zt.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i),this);if(!t){var n=e.pipes,c=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<c;s++)n[s].emit("unpipe",this,i);return this}var y=du(e.pipes,t);return y===-1?this:(e.pipes.splice(y,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i),this)};zt.prototype.on=function(t,e){var i=ps.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&$n(this):hi.nextTick(Km,this))}return i};zt.prototype.addListener=zt.prototype.on;function Km(t){Ht("readable nexttick read 0"),t.read(0)}zt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ht("resume"),t.flowing=!0,Wm(this,t)),this};function Wm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,hi.nextTick(zm,t,e))}function zm(t,e){e.reading||(Ht("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),ys(t),e.flowing&&!e.reading&&t.read(0)}zt.prototype.pause=function(){return Ht("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ht("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ys(t){var e=t._readableState;for(Ht("flow",e.flowing);e.flowing&&t.read()!==null;);}zt.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;t.on("end",function(){if(Ht("wrapped end"),i.decoder&&!i.ended){var y=i.decoder.end();y&&y.length&&e.push(y)}e.push(null)}),t.on("data",function(y){if(Ht("wrapped data"),i.decoder&&(y=i.decoder.write(y)),!(i.objectMode&&y==null)&&!(!i.objectMode&&(!y||!y.length))){var _=e.push(y);_||(n=!0,t.pause())}});for(var c in t)this[c]===void 0&&typeof t[c]=="function"&&(this[c]=function(y){return function(){return t[y].apply(t,arguments)}}(c));for(var s=0;s<vs.length;s++)t.on(vs[s],this.emit.bind(this,vs[s]));return this._read=function(y){Ht("wrapped _read",y),n&&(n=!1,t.resume())},this};Object.defineProperty(zt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});zt._fromList=cu;function cu(t,e){if(e.length===0)return null;var i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.head.data:i=e.buffer.concat(e.length),e.buffer.clear()):i=Vm(t,e.buffer,e.decoder),i}function Vm(t,e,i){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=i?Gm(t,e):Zm(t,e),n}function Gm(t,e){var i=e.head,n=1,c=i.data;for(t-=c.length;i=i.next;){var s=i.data,y=t>s.length?s.length:t;if(y===s.length?c+=s:c+=s.slice(0,t),t-=y,t===0){y===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(y));break}++n}return e.length-=n,c}function Zm(t,e){var i=Ui.allocUnsafe(t),n=e.head,c=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var s=n.data,y=t>s.length?s.length:t;if(s.copy(i,i.length-t,0,y),t-=y,t===0){y===s.length?(++c,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(y));break}++c}return e.length-=c,i}function ws(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,hi.nextTick(Jm,e,t))}function Jm(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function du(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}var pu=Ar,Kn=ui,mu=Object.create(re);mu.inherits=wi.exports;mu.inherits(Ar,Kn);function Xm(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,e!=null&&this.push(e),n(t);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function Ar(t){if(!(this instanceof Ar))return new Ar(t);Kn.call(this,t),this._transformState={afterTransform:Xm.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ym)}function Ym(){var t=this;typeof this._flush=="function"?this._flush(function(e,i){vu(t,e,i)}):vu(this,null,null)}Ar.prototype.push=function(t,e){return this._transformState.needTransform=!1,Kn.prototype.push.call(this,t,e)};Ar.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")};Ar.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var c=this._readableState;(n.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}};Ar.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ar.prototype._destroy=function(t,e){var i=this;Kn.prototype._destroy.call(this,t,function(n){e(n),i.emit("close")})};function vu(t,e,i){if(e)return t.emit("error",e);if(i!=null&&t.push(i),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var Qm=Hi,gu=pu,yu=Object.create(re);yu.inherits=wi.exports;yu.inherits(Hi,gu);function Hi(t){if(!(this instanceof Hi))return new Hi(t);gu.call(this,t)}Hi.prototype._transform=function(t,e,i){i(null,t)};(function(t,e){e=t.exports=ru,e.Stream=e,e.Readable=e,e.Writable=$f,e.Duplex=ui,e.Transform=pu,e.PassThrough=Qm})(ss,ss.exports);var wu=ss.exports.Transform,bu=js.inherits,Mu=Th;function ci(t){wu.call(this,t),this._destroyed=!1}bu(ci,wu);ci.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function tv(t,e,i){i(null,t)}function bs(t){return function(e,i,n){return typeof e=="function"&&(n=i,i=e,e={}),typeof i!="function"&&(i=tv),typeof n!="function"&&(n=null),t(e,i,n)}}Fn.exports=bs(function(t,e,i){var n=new ci(t);return n._transform=e,i&&(n._flush=i),n});Fn.exports.ctor=bs(function(t,e,i){function n(c){if(!(this instanceof n))return new n(c);this.options=Mu(t,c),ci.call(this,this.options)}return bu(n,ci),n.prototype._transform=e,i&&(n.prototype._flush=i),n});Fn.exports.obj=bs(function(t,e,i){var n=new ci(Mu({objectMode:!0,highWaterMark:16},t));return n._transform=e,i&&(n._flush=i),n});Object.defineProperty(Dn,"__esModule",{value:!0});Dn.storeTransformStream=void 0;const ev=Fn.exports;function rv(t){return ev.obj((e,i,n)=>{try{const c=t(e);n(null,c);return}catch(c){n(c);return}})}Dn.storeTransformStream=rv;(function(t){var e=Pt&&Pt.__createBinding||(Object.create?function(n,c,s,y){y===void 0&&(y=s),Object.defineProperty(n,y,{enumerable:!0,get:function(){return c[s]}})}:function(n,c,s,y){y===void 0&&(y=s),n[y]=c[s]}),i=Pt&&Pt.__exportStar||function(n,c){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(c,s)&&e(c,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(Nn,t),i(Ln,t),i(jn,t),i(si,t),i(Dn,t)})(os);var Jr={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.EthereumProviderError=Ir.EthereumRpcError=void 0;const iv=qs;class _u extends Error{constructor(e,i,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!i||typeof i!="string")throw new Error('"message" must be a nonempty string.');super(i);this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return iv.default(this.serialize(),sv,2)}}Ir.EthereumRpcError=_u;class nv extends _u{constructor(e,i,n){if(!ov(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,i,n)}}Ir.EthereumProviderError=nv;function ov(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function sv(t,e){if(e!=="[Circular]")return e}var Ms={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.errorValues=Nr.errorCodes=void 0;Nr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Nr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Nr,i=Ir,n=e.errorCodes.rpc.internal,c="Unspecified error message. This is a bug, please report it.",s={code:n,message:y(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function y(S,k=c){if(Number.isInteger(S)){const C=S.toString();if(A(e.errorValues,C))return e.errorValues[C].message;if(x(S))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return k}t.getMessageFromCode=y;function _(S){if(!Number.isInteger(S))return!1;const k=S.toString();return!!(e.errorValues[k]||x(S))}t.isValidCode=_;function M(S,{fallbackError:k=s,shouldIncludeStack:C=!1}={}){var R,B;if(!k||!Number.isInteger(k.code)||typeof k.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(S instanceof i.EthereumRpcError)return S.serialize();const I={};if(S&&typeof S=="object"&&!Array.isArray(S)&&A(S,"code")&&_(S.code)){const D=S;I.code=D.code,D.message&&typeof D.message=="string"?(I.message=D.message,A(D,"data")&&(I.data=D.data)):(I.message=y(I.code),I.data={originalError:E(S)})}else{I.code=k.code;const D=(R=S)===null||R===void 0?void 0:R.message;I.message=D&&typeof D=="string"?D:k.message,I.data={originalError:E(S)}}const j=(B=S)===null||B===void 0?void 0:B.stack;return C&&S&&j&&typeof j=="string"&&(I.stack=j),I}t.serializeError=M;function x(S){return S>=-32099&&S<=-32e3}function E(S){return S&&typeof S=="object"&&!Array.isArray(S)?Object.assign({},S):S}function A(S,k){return Object.prototype.hasOwnProperty.call(S,k)}})(Ms);var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ethErrors=void 0;const _s=Ir,xu=Ms,Pe=Nr;Wn.ethErrors={rpc:{parse:t=>or(Pe.errorCodes.rpc.parse,t),invalidRequest:t=>or(Pe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>or(Pe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>or(Pe.errorCodes.rpc.methodNotFound,t),internal:t=>or(Pe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return or(e,t)},invalidInput:t=>or(Pe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>or(Pe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>or(Pe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>or(Pe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>or(Pe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>or(Pe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>qi(Pe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>qi(Pe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>qi(Pe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>qi(Pe.errorCodes.provider.disconnected,t),chainDisconnected:t=>qi(Pe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:i,data:n}=t;if(!i||typeof i!="string")throw new Error('"message" must be a nonempty string');return new _s.EthereumProviderError(e,i,n)}}};function or(t,e){const[i,n]=Eu(e);return new _s.EthereumRpcError(t,i||xu.getMessageFromCode(t),n)}function qi(t,e){const[i,n]=Eu(e);return new _s.EthereumProviderError(t,i||xu.getMessageFromCode(t),n)}function Eu(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:i}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,i]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Ir;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const i=Ms;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const n=Wn;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const c=Nr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return c.errorCodes}})})(Jr);var av=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var n,c,s;if(Array.isArray(e)){if(n=e.length,n!=i.length)return!1;for(c=n;c--!=0;)if(!t(e[c],i[c]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(i).length)return!1;for(c=n;c--!=0;)if(!Object.prototype.hasOwnProperty.call(i,s[c]))return!1;for(c=n;c--!=0;){var y=s[c];if(!t(e[y],i[y]))return!1}return!0}return e!==e&&i!==i};function Su(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function fv(t){return Su(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}function uv(t){return Su(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object"}function hv(t){return fv(t)&&uv(t)}const Xe={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord"},Au={[Xe.GOOGLE]:"tkey-google",[Xe.FACEBOOK]:"tkey-facebook",[Xe.TWITCH]:"tkey-twitch",[Xe.REDDIT]:"tkey-reddit",[Xe.DISCORD]:"tkey-discord"},di={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},lv={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta"},pi={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},cv={[di.RAMPNETWORK]:{line1:"Debit Card/ Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20AC/purchase, 20,000\u20AC/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:["GBP","EUR","USD"],validCryptoCurrencies:["ETH","DAI","USDC","BSC_BNB"],includeFees:!0,enforceMax:!1},[di.MOONPAY]:{line1:"Credit / Debit Card / Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20AC/day, 10,000\u20AC/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:["USD","EUR","GBP","AUD","CAD","SGD","RUB"],validCryptoCurrencies:["ETH","DAI","TUSD","USDC","USDT","BNB_BSC","BUSD_BSC"],includeFees:!0,enforceMax:!1},[di.WYRE]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xA2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:["USD","AUD","CAD","GBP","EUR"],validCryptoCurrencies:["ETH","DAI","USDC","USDT"],includeFees:!1,enforceMax:!1},[di.XANPOOL]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ VietelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:["SGD","HKD","MYR","PHP","INR","VND","THB","IDR"],validCryptoCurrencies:["ETH","USDT"],includeFees:!0,sell:!0,enforceMax:!1},[di.MERCURYO]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20AC/day, 25,000\u20AC/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:["USD","EUR","RUB","TRY","GBP","UAH"],validCryptoCurrencies:["ETH","DAI","BAT","USDT","OKB"],includeFees:!0,enforceMax:!1},[di.TRANSAK]:{line1:"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)",line2:"0.99% - 5.5% or 5 USD",line3:"500\u20AC/day",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:20,maxOrderValue:500,validCurrencies:["USD","EUR","GBP","AUD","CAD","SGD"],validCryptoCurrencies:["ETH","DAI","USDC","USDT"],includeFees:!0,enforceMax:!1}},dv={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xF6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7D99\u7D9A\u3059\u308B",actionRequired:"\u8A8D\u8A3C\u304C\u5FC5\u8981\u3067\u3059",pendingAction:"\u7D9A\u884C\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001\u30DD\u30C3\u30D7\u30A2\u30C3\u30D7\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u7D9A\u884C\u3057\u307E\u3059",cookiesRequired:"\u5FC5\u8981\u306A\u30AF\u30C3\u30AD\u30FC",enableCookies:"Torus\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u306B\u306F\u3001\u30D6\u30E9\u30A6\u30B6\u306E\u8A2D\u5B9A\u3067Cookie\u3092\u6709\u52B9\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",clickHere:"\u8A73\u3057\u304F\u306F"}},ko:{embed:{continue:"\uACC4\uC18D\uD558\uB2E4",actionRequired:"\uC2B9\uC778 \uD544\uC694",pendingAction:"\uD31D\uC5C5\uC5D0\uC11C \uC694\uCCAD\uC744 \uC9C4\uD589\uD558\uB824\uBA74 \uACC4\uC18D\uC744 \uD074\uB9AD\uD558\uC2ED\uC2DC\uC624.",cookiesRequired:"\uCFE0\uD0A4 \uD544\uC694",enableCookies:"\uBE0C\uB77C\uC6B0\uC800 \uD658\uACBD \uC124\uC815\uC5D0\uC11C \uCFE0\uD0A4\uB97C \uD65C\uC131\uD654\uD558\uC5EC Torus\uC5D0 \uC561\uC138\uC2A4\uD558\uC2ED\uC2DC\uC624.",clickHere:"\uB354 \uB9CE\uC740 \uC815\uBCF4"}},zh:{embed:{continue:"\u7EE7\u7EED",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51FB\u7EE7\u7EED\u4EE5\u5728\u5F39\u51FA\u7A97\u53E3\u4E2D\u7EE7\u7EED\u60A8\u7684\u8BF7\u6C42",cookiesRequired:"\u5FC5\u586BCookie",enableCookies:"\u8BF7\u5728\u60A8\u7684\u6D4F\u89C8\u5668\u9996\u9009\u9879\u4E2D\u542F\u7528cookie\u4EE5\u8BBF\u95EETorus\u3002",clickHere:"\u66F4\u591A\u4FE1\u606F"}}};var sr={supportedVerifierList:[Xe.GOOGLE,Xe.REDDIT,Xe.DISCORD],paymentProviders:cv,api:"https://api.tor.us",translations:dv,prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)};const Ou=t=>new Promise((e,i)=>{window.document.body!=null?Promise.resolve(t()).then(e).catch(i):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(t()).then(e).catch(i)})}),$i=t=>{const e=window.document.createElement("template"),i=t.trim();return e.innerHTML=i,e.content.firstChild},pv=function(t,e,i){for(var n=arguments.length,c=new Array(n>3?n-3:0),s=3;s<n;s++)c[s-3]=arguments[s];const y=()=>{i(...c),t.removeEventListener(e,y)};t.addEventListener(e,y)},Lr=(t,e,i)=>{const n=c=>{i(c),t.removeListener(e,n)};t.on(e,n)};async function mv(){return new Promise(t=>{document.readyState!=="loading"?t():pv(document,"DOMContentLoaded",t)})}var $t=Pf.getLogger("torus-embed"),ar={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(t," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(t,e)=>"Invalid options. Received: { maxEventListeners: ".concat(t,", shouldSendMetadata: ").concat(e," }"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>"'args.logger' must include required method '".concat(t,"'.")},info:{connected:t=>'Torus: Connected to chain with ID "'.concat(t,'".')},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:`Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,data:`Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,notification:`Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:Tu}=sr,vv=(t,e)=>{const i={};if(!t)return{errors:i,isValid:!0};if(t&&!Tu[t])return i.provider="Invalid Provider",{errors:i,isValid:Object.keys(i).length===0};const n=Tu[t],c=e||{};if(c.fiatValue){const s=+parseFloat(c.fiatValue.toString())||0;s<n.minOrderValue&&(i.fiatValue="Requested amount is lower than supported"),s>n.maxOrderValue&&n.enforceMax&&(i.fiatValue="Requested amount is higher than supported")}return c.selectedCurrency&&!n.validCurrencies.includes(c.selectedCurrency)&&(i.selectedCurrency="Unsupported currency"),c.selectedCryptoCurrency&&!n.validCryptoCurrencies.includes(c.selectedCryptoCurrency)&&(i.selectedCryptoCurrency="Unsupported cryptoCurrency"),{errors:i,isValid:Object.keys(i).length===0}};function gv(){return(t,e,i)=>{(typeof t.method!="string"||!t.method)&&(e.error=Jr.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i(n=>{const{error:c}=e;return c&&$t.error("MetaMask - RPC Error: ".concat(c.message),c),n()})}}function Pu(t,e,i){let n='MetaMask: Lost connection to "'.concat(t,'".');e!=null&&e.stack&&(n+=`
`.concat(e.stack)),$t.warn(n),i&&i.listenerCount("error")>0&&i.emit("error",n)}const jr=()=>Math.random().toString(36).slice(2),Cu=async(t,e)=>{let i,n;const c="1.20.2";let s=e.version||c;try{if((t==="binance"||t==="production")&&!e.version){let y;sr.prodTorusUrl?y={data:sr.prodTorusUrl}:y=await sf("".concat(sr.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(c),{},{useAPIKey:!0}),s=y.data,sr.prodTorusUrl=y.data}}catch(y){$t.error(y,"unable to fetch latest version")}switch($t.info("version used: ",s),t){case"binance":i="https://binance.tor.us/v".concat(s),n="info";break;case"testing":i="https://testing.tor.us",n="debug";break;case"lrc":i="https://lrc.tor.us",n="debug";break;case"beta":i="https://beta.tor.us",n="debug";break;case"development":i="http://localhost:4050",n="debug";break;default:i="https://app.tor.us/v".concat(s),n="error";break}return{torusUrl:i,logLevel:n}},Bu=()=>{let t=window.navigator.language||"en-US";const e=t.split("-");return t=Object.prototype.hasOwnProperty.call(sr.translations,e[0])?e[0]:"en",t},yv=["eth_subscription"],Ru=()=>{},ku="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",wv="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315",Iu="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function bv(t){let e;try{e=window[t];const i="__storage_test__";return e.setItem(i,i),e.removeItem(i),!0}catch(i){return i&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function Mv(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,i=1200,n=700,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,y=1,_=Math.abs((c-i)/2/y+t),M=Math.abs((s-n)/2/y+e);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(n/y,",width=").concat(i/y,",top=").concat(M,",left=").concat(_)}function Nu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function _v(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nu(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nu(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}Tn.defaultMaxListeners=100;const Lu=function(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(n,c)=>n||c.error?e(n||c.error):!i||Array.isArray(c)?t(c):t(c.result)};class zn extends Tn{constructor(e){let{maxEventListeners:i=100,shouldSendMetadata:n=!0,jsonRpcStreamName:c="provider"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super();if(Ct(this,"chainId",void 0),Ct(this,"selectedAddress",void 0),Ct(this,"_rpcEngine",void 0),Ct(this,"networkVersion",void 0),Ct(this,"shouldSendMetadata",void 0),Ct(this,"isTorus",void 0),Ct(this,"_publicConfigStore",void 0),Ct(this,"tryPreopenHandle",void 0),Ct(this,"enable",void 0),Ct(this,"_state",void 0),Ct(this,"_jsonRpcConnection",void 0),Ct(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!hv(e))throw new Error(ar.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(i),this._state=_v({},zn._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=n,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const s=new _f;An(e,s,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new os.ObservableStore({storageKey:"Metamask-Config"}),An(s.createStream("publicConfig"),os.storeAsStream(this._publicConfigStore),Pu.bind(this,"MetaMask PublicConfigStore")),s.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const y=Wd();An(y.stream,s.createStream(c),y.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const _=new Er;_.push(zd()),_.push(gv()),_.push(y.middleware),this._rpcEngine=_,y.events.on("notification",M=>{const{method:x,params:E}=M;x==="wallet_accountsChanged"?this._handleAccountsChanged(E):x==="wallet_unlockStateChanged"?this._handleUnlockStateChanged(E):x==="wallet_chainChanged"?this._handleChainChanged(E):yv.includes(M.method)&&(this.emit("data",M),this.emit("notification",E.result),this.emit("message",{type:x,data:E}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||($t.warn(ar.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Jr.ethErrors.rpc.invalidRequest({message:ar.errors.invalidRequestArgs(),data:e});const{method:i,params:n}=e;if(typeof i!="string"||i.length===0)throw Jr.ethErrors.rpc.invalidRequest({message:ar.errors.invalidRequestMethod(),data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Jr.ethErrors.rpc.invalidRequest({message:ar.errors.invalidRequestParams(),data:e});return new Promise((c,s)=>{this._rpcRequest({method:i,params:n},Lu(c,s))})}sendAsync(e,i){this._rpcRequest(e,i)}addListener(e,i){return this._warnOfDeprecation(e),super.addListener(e,i)}on(e,i){return this._warnOfDeprecation(e),super.on(e,i)}once(e,i){return this._warnOfDeprecation(e),super.once(e,i)}prependListener(e,i){return this._warnOfDeprecation(e),super.prependListener(e,i)}prependOnceListener(e,i){return this._warnOfDeprecation(e),super.prependOnceListener(e,i)}async _initializeState(){try{const{accounts:e,chainId:i,isUnlocked:n,networkVersion:c}=await this.request({method:"wallet_getProviderState"});this.emit("connect",{chainId:i}),this._handleChainChanged({chainId:i,networkVersion:c}),this._handleUnlockStateChanged({accounts:e,isUnlocked:n}),this._handleAccountsChanged(e)}catch(e){$t.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{$t.info("initialized state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=i;const s=e;if(!Array.isArray(s)){if(s.jsonrpc||(s.jsonrpc="2.0"),s.method==="eth_accounts"||s.method==="eth_requestAccounts")c=(y,_)=>{this._handleAccountsChanged(_.result||[],s.method==="eth_accounts",n),i(y,_)};else if(s.method==="wallet_getProviderState"){this._rpcEngine.handle(e,c);return}}this.tryPreopenHandle(s,c)}send(e,i){return this._sentWarnings.send||($t.warn(ar.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof e=="string"&&(!i||Array.isArray(i))?new Promise((n,c)=>{try{this._rpcRequest({method:e,params:i},Lu(n,c,!1))}catch(s){c(s)}}):e&&typeof e=="object"&&typeof i=="function"?this._rpcRequest(e,i):this._sendSync(e)}_sendSync(e){let i;switch(e.method){case"eth_accounts":i=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":i=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,Ru),i=!0;break;case"net_version":i=this.networkVersion||null;break;default:throw new Error(ar.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:i}}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),$t.debug(ar.info.connected(e)))}_handleDisconnect(e,i){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){this._state.isConnected=!1;let n;e?(n=new Jr.EthereumRpcError(1013,i||ar.errors.disconnected()),$t.debug(n)):(n=new Jr.EthereumRpcError(1011,i||ar.errors.permanentlyDisconnected()),$t.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleStreamDisconnect(e,i){Pu(e,i,this),this._handleDisconnect(!1,i?i.message:void 0)}_handleAccountsChanged(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e;Array.isArray(c)||($t.error("MetaMask: Received non-array accounts parameter. Please report this bug.",c),c=[]);for(const s of e)if(typeof s!="string"){$t.error("MetaMask: Received non-string account. Please report this bug.",e),c=[];break}av(this._state.accounts,c)||(i&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!n&&$t.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',c),this._state.accounts=c,this.emit("accountsChanged",c)),this.selectedAddress!==c[0]&&(this.selectedAddress=c[0]||null)}_handleChainChanged(){let{chainId:e,networkVersion:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!e||!i){$t.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:i});return}i==="loading"?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof i!="boolean"){$t.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:i});return}i!==this._state.isUnlocked&&(this._state.isUnlocked=i,this._handleAccountsChanged(e||[]))}_warnOfDeprecation(e){this._sentWarnings.events[e]===!1&&($t.warn(ar.warnings.events[e]),this._sentWarnings.events[e]=!0)}}Ct(zn,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const xv=t=>({algorithms:t.algorithms||["sha256"],delimiter:t.delimiter||" ",full:t.full||!1}),Ev=(t,e)=>{const i={};return t.algorithms.forEach(n=>{i[n]=Ds(n).update(e,"utf8").digest("base64")}),i},Sv=(t,e)=>{let i="";return i+=Object.keys(e.hashes).map(n=>"".concat(n,"-").concat(e.hashes[n])).join(t.delimiter),i},Av=(t,e)=>{const i=xv(t),n={hashes:Ev(i,e),integrity:void 0};return n.integrity=Sv(i,n),i.full?n:n.integrity};class ju extends Xi.exports.EventEmitter{constructor(e){let{url:i,target:n,features:c}=e;super();Ct(this,"url",void 0),Ct(this,"target",void 0),Ct(this,"features",void 0),Ct(this,"window",void 0),Ct(this,"windowTimer",void 0),Ct(this,"iClosedWindow",void 0),this.url=i,this.target=n||"_blank",this.features=c||Mv(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;return this.window=window.open(this.url.href,this.target,this.features),(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function Du(t){return new Promise((e,i)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){i(n)}})}const Ov=t=>{const{document:e}=t,i=e.querySelector('head > meta[property="og:site_name"]');if(i)return i.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};async function Tv(t){const{document:e}=t;let i=e.querySelector('head > link[rel="shortcut icon"]');return i&&await Du(i.href)||(i=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>Boolean(n.href)),i&&await Du(i.href))?i.href:null}const Pv=async()=>({name:Ov(window),icon:await Tv(window)});async function Cv(t){try{const e=await Pv();t.handle({jsonrpc:"2.0",id:jr(),method:"wallet_sendDomainMetadata",params:e},Ru)}catch(e){$t.error({message:ar.errors.sendSiteMetadata(),originalError:e})}}const Bv=["host","chainId","networkName"];function Fu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),i.push.apply(i,n)}return i}function Rv(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Fu(Object(i),!0).forEach(function(n){Ct(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fu(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}const kv={[Xe.GOOGLE]:!0,[Xe.FACEBOOK]:!0,[Xe.REDDIT]:!0,[Xe.TWITCH]:!0,[Xe.DISCORD]:!0},Uu="sha384-zML+Us0eHuOwF3fLkTwt8MUpAwXOl0TVe5oe454wPUfqPcu5Xqip20eaFDr1fLj3",Iv="max-age=3600",Nv=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"],Lv=bv("localStorage");(async function(){try{if(typeof document=="undefined")return;const e=document.createElement("link"),{torusUrl:i}=await Cu("production",{check:!1,hash:Uu,version:""});e.href="".concat(i,"/popup"),e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){$t.warn(e)}})();class Wv{constructor(){let{buttonPosition:e=pi.BOTTOM_LEFT,modalZIndex:i=99999,apiKey:n="torus-default"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ct(this,"buttonPosition",pi.BOTTOM_LEFT),Ct(this,"torusUrl",void 0),Ct(this,"torusIframe",void 0),Ct(this,"styleLink",void 0),Ct(this,"isLoggedIn",void 0),Ct(this,"isInitialized",void 0),Ct(this,"torusWidgetVisibility",void 0),Ct(this,"torusAlert",void 0),Ct(this,"nodeDetailManager",void 0),Ct(this,"torusJs",void 0),Ct(this,"apiKey",void 0),Ct(this,"modalZIndex",void 0),Ct(this,"alertZIndex",void 0),Ct(this,"torusAlertContainer",void 0),Ct(this,"isIframeFullScreen",void 0),Ct(this,"whiteLabel",void 0),Ct(this,"requestedVerifier",void 0),Ct(this,"currentVerifier",void 0),Ct(this,"embedTranslations",void 0),Ct(this,"ethereum",void 0),Ct(this,"provider",void 0),Ct(this,"communicationMux",void 0),Ct(this,"isLoginCallback",void 0),Ct(this,"dappStorageKey",void 0),Ct(this,"paymentProviders",sr.paymentProviders),Ct(this,"loginHint",""),this.buttonPosition=e,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new yd,this.torusJs=new jf({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow"}),this.apiKey=n,jf.setAPIKey(n),nf(n),this.modalZIndex=i,this.alertZIndex=i+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=""}async init(){let{buildEnv:e=lv.PRODUCTION,enableLogging:i=!1,enabledVerifiers:n=kv,network:c={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:s={},showTorusButton:y=!0,integrity:_={check:!1,hash:Uu,version:""},whiteLabel:M,skipTKey:x=!1,useLocalStorage:E=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:A,logLevel:S}=await Cu(e,_);$t.info(A,"url loaded"),this.torusUrl=A,this.whiteLabel=M,$t.setDefaultLevel(S),i?$t.enableAll():$t.disableAll(),this.torusWidgetVisibility=y;let k="";if(Lv&&E){const z=window.localStorage.getItem(sr.localStorageKey);if(z)k=z;else{const K="torus-app-".concat(jr());window.localStorage.setItem(sr.localStorageKey,K),k=K}}this.dappStorageKey=k;const C=new URL(A);C.pathname.endsWith("/")?C.pathname+="popup":C.pathname+="/popup",k&&(C.hash="#dappStorageKey=".concat(k)),this.torusIframe=$i(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="`.concat(C.href,`"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: `).concat(this.modalZIndex,`"
      ></iframe>`)),this.torusAlertContainer=$i('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString());const R=window.document.createElement("link");R.setAttribute("rel","stylesheet"),R.setAttribute("type","text/css"),R.setAttribute("href","".concat(A,"/css/widget.css")),this.styleLink=R;const{defaultLanguage:B=Bu(),customTranslations:I={}}=this.whiteLabel||{},D=Do(sr.translations,I)[B]||sr.translations[Bu()];this.embedTranslations=D.embed;const $=async()=>(await mv(),new Promise((z,K)=>{this.torusIframe.onload=async()=>{this._setupWeb3();const O=this.communicationMux.getStream("init_stream");O.on("data",N=>{const{name:W,data:b,error:f}=N;W==="init_complete"&&b.success?(this.isInitialized=!0,this._displayIframe(this.isIframeFullScreen),z(void 0)):f&&K(new Error(f))}),O.write({name:"init_stream",data:{enabledVerifiers:n,loginConfig:s,whiteLabel:this.whiteLabel,buttonPosition:this.buttonPosition,torusWidgetVisibility:this.torusWidgetVisibility,apiKey:this.apiKey,skipTKey:x,network:c}})},window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}));if(e==="production"&&_.check){const z="".concat(A,"/popup"),K=await fetch(z,{cache:"reload"});if(K.headers.get("Cache-Control")!==Iv)throw new Error("Unexpected Cache-Control headers, got ".concat(K.headers.get("Cache-Control")));const O=await K.text(),N=Av({algorithms:["sha384"]},O);if($t.info(N,"integrity"),N===_.hash)await $();else throw this.clearInit(),new Error("Integrity check failed")}else await $()}login(){let{verifier:e="",login_hint:i=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=e,this.loginHint=i,this.ethereum.enable()}logout(){return new Promise((e,i)=>{if(!this.isLoggedIn){i(new Error("User has not logged in yet"));return}this.communicationMux.getStream("logout").write({name:"logOut"});const c=this.communicationMux.getStream("status");Lr(c,"data",y=>{y.loggedIn?i(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",e())})})}async cleanUp(){this.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(i){return i instanceof Element||i instanceof HTMLDocument}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{host:i="mainnet",chainId:n=null,networkName:c=""}=e,s=Nh(e,Bv);return new Promise((y,_)=>{const M=this.communicationMux.getStream("provider_change");Lr(M,"data",A=>{const{err:S,success:k}=A.data;$t.info(A),S?_(S):k?y():_(new Error("some error occured"))});const E=jr();this._handleWindow(E,{target:"_blank",features:ku}),M.write({name:"show_provider_change",data:{network:Rv({host:i,chainId:n,networkName:c},s),preopenInstanceId:E,override:!1}})})}showWallet(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.communicationMux.getStream("show_wallet"),c=e?"/".concat(e):"";n.write({name:"show_wallet",data:{path:c}}),Lr(n,"data",y=>{if(y.name==="show_wallet_instance"){const{instanceId:_}=y.data,M=new URL("".concat(this.torusUrl,"/wallet").concat(c));M.searchParams.append("integrity","true"),M.searchParams.append("instanceId",_),Object.keys(i).forEach(E=>{M.searchParams.append(E,i[E])}),this.dappStorageKey&&(M.hash="#dappStorageKey=".concat(this.dappStorageKey)),new ju({url:M,features:wv}).open()}})}async getPublicAddress(e){let{verifier:i,verifierId:n,isExtended:c=!1}=e;if(!sr.supportedVerifierList.includes(i)||!Au[i])throw new Error("Unsupported verifier");const s=await this.nodeDetailManager.getNodeDetails(!1,!0),y=s.torusNodeEndpoints,_=s.torusNodePub,M=i,x=Au[i];try{const E=await this.torusJs.getUserTypeAndAddress(y,_,{verifier:M,verifierId:n});if(E.typeOfUser==="v1")return c?E:E.address;const A=await this.torusJs.getUserTypeAndAddress(y,_,{verifier:x,verifierId:n},!0);return c?A:A.address}catch(E){if(E!=null&&E.message.includes("Verifier + VerifierID has not yet been assigned")){const A=await this.torusJs.getUserTypeAndAddress(y,_,{verifier:x,verifierId:n},!0);return c?A:A.address}throw E}}getUserInfo(e){return new Promise((i,n)=>{if(this.isLoggedIn){const c=this.communicationMux.getStream("user_info_access");c.write({name:"user_info_access_request"}),Lr(c,"data",y=>{const{name:_,data:{approved:M,payload:x,rejected:E,newRequest:A}}=y;if(_==="user_info_access_response"){if(M)i(x);else if(E)n(new Error("User rejected the request"));else if(A){const S=this.communicationMux.getStream("user_info");Lr(S,"data",R=>{R.name==="user_info_response"&&(R.data.approved?i(R.data.payload):n(new Error("User rejected the request")))});const C=jr();this._handleWindow(C,{target:"_blank",features:ku}),S.write({name:"user_info_request",data:{message:e,preopenInstanceId:C}})}}})}else n(new Error("User has not logged in yet"))})}initiateTopup(e,i){return new Promise((n,c)=>{if(this.isInitialized){const{errors:s,isValid:y}=vv(e,i);if(!y){c(new Error(JSON.stringify(s)));return}const _=this.communicationMux.getStream("topup");Lr(_,"data",E=>{E.name==="topup_response"&&(E.data.success?n(E.data.success):c(new Error(E.data.error)))});const x=jr();this._handleWindow(x),_.write({name:"topup_request",data:{provider:e,params:i,preopenInstanceId:x}})}else c(new Error("Torus is not initialized yet"))})}_handleWindow(e){let{url:i,target:n,features:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){const s=this.communicationMux.getStream("window"),y=new URL(i||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(e));this.dappStorageKey&&(y.hash?y.hash+="&dappStorageKey=".concat(this.dappStorageKey):y.hash="#dappStorageKey=".concat(this.dappStorageKey));const _=new ju({url:y,target:n,features:c});if(_.open(),!_.window){this._createPopupBlockAlert(e,y.href);return}s.write({name:"opened_window",data:{preopenInstanceId:e}});const M=x=>{let{preopenInstanceId:E,close:A}=x;E===e&&A&&(_.close(),s.removeListener("data",M))};s.on("data",M),_.once("close",()=>{s.write({data:{preopenInstanceId:e,closed:!0}}),s.removeListener("data",M)})}}_setEmbedWhiteLabel(e){const{theme:i}=this.whiteLabel||{};if(i){const{isDark:n=!1,colors:c={}}=i;n&&e.classList.add("torus-dark"),c.torusBrand1&&e.style.setProperty("--torus-brand-1",c.torusBrand1),c.torusGray2&&e.style.setProperty("--torus-gray-2",c.torusGray2)}}_getLogoUrl(){var e,i;let n="".concat(this.torusUrl,"/images/torus_icon-blue.svg");if((e=this.whiteLabel)!==null&&e!==void 0&&(i=e.theme)!==null&&i!==void 0&&i.isDark){var c;n=((c=this.whiteLabel)===null||c===void 0?void 0:c.logoLight)||n}else{var s;n=((s=this.whiteLabel)===null||s===void 0?void 0:s.logoDark)||n}return n}_sendWidgetVisibilityStatus(e){this.communicationMux.getStream("torus-widget-visibility").write({data:e})}_displayIframe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const i={};if(e)i.display="block",i.width="100%",i.height="100%",i.top="0px",i.right="0px",i.left="0px",i.bottom="0px";else switch(i.display=this.torusWidgetVisibility?"block":"none",i.height="70px",i.width="70px",this.buttonPosition){case pi.TOP_LEFT:i.top="0px",i.left="0px",i.right="auto",i.bottom="auto";break;case pi.TOP_RIGHT:i.top="0px",i.right="0px",i.left="auto",i.bottom="auto";break;case pi.BOTTOM_RIGHT:i.bottom="0px",i.right="0px",i.top="auto",i.left="auto";break;case pi.BOTTOM_LEFT:default:i.bottom="0px",i.left="0px",i.top="auto",i.right="auto";break}Object.assign(this.torusIframe.style,i),this.isIframeFullScreen=e}_setupWeb3(){$t.info("setupWeb3 running");const e=new mf({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),i=new mf({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),n=new zn(e),c=E=>{const A=n[E];n[E]=function(k){if(k&&k==="eth_requestAccounts")return n.enable();for(var C=arguments.length,R=new Array(C>1?C-1:0),B=1;B<C;B++)R[B-1]=arguments[B];return A.apply(this,[k,...R])}};c("send"),c("sendAsync"),n.enable=()=>new Promise((E,A)=>{n.sendAsync({jsonrpc:"2.0",id:jr(),method:"eth_requestAccounts",params:[]},(S,k)=>{const{result:C}=k||{};if(S)setTimeout(()=>{A(S)},50);else if(Array.isArray(C)&&C.length>0){const R=()=>{if(this.requestedVerifier!==""&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:B}=this;this.logout().then(I=>{this.requestedVerifier=B,this._showLoginPopup(!0,E,A)}).catch(I=>A(I))}else E(C)};this.isLoggedIn?R():this.isLoginCallback=R}else this._showLoginPopup(!0,E,A)})}),n.tryPreopenHandle=(E,A)=>{const S=E;if(!Array.isArray(S)&&Nv.includes(S.method)){const k=jr();this._handleWindow(k,{target:"_blank",features:Iu}),S.preopenInstanceId=k}n._rpcEngine.handle(S,A)};const s=new Proxy(n,{deleteProperty:()=>!0});this.ethereum=s;const y=Jd(i);this.communicationMux=y,y.getStream("window").on("data",E=>{E.name==="create_window"&&this._createPopupBlockAlert(E.data.preopenInstanceId,E.data.url)}),y.getStream("widget").on("data",E=>{const{data:A}=E;this._displayIframe(A)}),y.getStream("status").on("data",E=>{E.loggedIn?(this.isLoggedIn=E.loggedIn,this.currentVerifier=E.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=s,this.provider.shouldSendMetadata&&Cv(this.provider._rpcEngine),n._initializeState(),$t.debug("Torus - injected provider")}_showLoginPopup(e,i,n){const c=y=>{const{err:_,selectedAddress:M}=y;_?($t.error(_),n&&n(_)):i&&i([M]),this.isIframeFullScreen&&this._displayIframe()},s=this.communicationMux.getStream("oauth");if(!this.requestedVerifier)this._displayIframe(!0),Lr(s,"data",c),s.write({name:"oauth_modal",data:{calledFromEmbed:e}});else{Lr(s,"data",c);const y=jr();this._handleWindow(y),s.write({name:"oauth",data:{calledFromEmbed:e,verifier:this.requestedVerifier,preopenInstanceId:y,login_hint:this.loginHint}})}}_createPopupBlockAlert(e,i){const n=this._getLogoUrl(),c=$i('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(n,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),s=$i('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),y=$i('<div id="torusAlert__btn-container"></div>');y.appendChild(s),c.appendChild(y);const _=()=>{s.addEventListener("click",()=>{this._handleWindow(e,{url:i,target:"_blank",features:Iu}),c.remove(),this.torusAlertContainer.children.length===0&&(this.torusAlertContainer.style.display="none")})};this._setEmbedWhiteLabel(c),Ou(()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(c)}),Ou(_)}}export{pi as BUTTON_POSITION,Xe as LOGIN_PROVIDER,di as PAYMENT_PROVIDER,lv as TORUS_BUILD_ENV,zn as TorusInpageProvider,Au as WALLET_OPENLOGIN_VERIFIER_MAP,Wv as default};
