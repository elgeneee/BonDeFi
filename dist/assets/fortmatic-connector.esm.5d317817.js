import{A as d}from"./abstract-connector.esm.29d9a9d6.js";import{s as f}from"./vendor.324ec03c.js";function h(i,c){i.prototype=Object.create(c.prototype),i.prototype.constructor=i,i.__proto__=c}var v={1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan"},p=function(i){h(c,i);function c(n){var e,t=n.apiKey,o=n.chainId;return Object.keys(v).includes(o.toString())||f(!1),e=i.call(this,{supportedChainIds:[o]})||this,e.apiKey=t,e.chainId=o,e}var a=c.prototype;return a.activate=function(){try{var e=function(){return Promise.resolve(t.fortmatic.getProvider().enable().then(function(u){return u[0]})).then(function(u){return{provider:t.fortmatic.getProvider(),chainId:t.chainId,account:u}})},t=this,o=function(){if(!t.fortmatic)return Promise.resolve(import("./fortmatic.e1f4104b.js").then(function(r){return r.f}).then(function(r){var u;return(u=r==null?void 0:r.default)!=null?u:r})).then(function(r){t.fortmatic=new r(t.apiKey,t.chainId===1||t.chainId===4?void 0:v[t.chainId])})}();return Promise.resolve(o&&o.then?o.then(e):e(o))}catch(r){return Promise.reject(r)}},a.getProvider=function(){try{var e=this;return Promise.resolve(e.fortmatic.getProvider())}catch(t){return Promise.reject(t)}},a.getChainId=function(){try{var e=this;return Promise.resolve(e.chainId)}catch(t){return Promise.reject(t)}},a.getAccount=function(){try{var e=this;return Promise.resolve(e.fortmatic.getProvider().send("eth_accounts").then(function(t){return t[0]}))}catch(t){return Promise.reject(t)}},a.deactivate=function(){},a.close=function(){try{var e=this;return Promise.resolve(e.fortmatic.user.logout()).then(function(){e.emitDeactivate()})}catch(t){return Promise.reject(t)}},c}(d);export{p as FortmaticConnector};
